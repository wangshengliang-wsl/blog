---
title: 'å‡½æ•°åŸºç¡€'
description: 'å…¨é¢æŒæ¡ JavaScript å‡½æ•°çš„å£°æ˜ã€å‚æ•°ã€è¿”å›å€¼ä¸ä½œç”¨åŸŸï¼Œç†è§£å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'å‡½æ•°', 'ä½œç”¨åŸŸ', 'å‚æ•°']
---

å‡½æ•°æ˜¯ JavaScript çš„æ ¸å¿ƒã€‚å®ƒä¸ä»…æ˜¯ä»£ç å¤ç”¨çš„åŸºæœ¬å•ä½ï¼Œæ›´æ˜¯ä¸€ç­‰å…¬æ°‘â€”â€”å¯ä»¥åƒæ™®é€šå€¼ä¸€æ ·ä¼ é€’å’Œæ“ä½œã€‚

## ğŸ¯ å®šä¹‰å‡½æ•°

### å‡½æ•°å£°æ˜

```javascript
// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰
function greet(name) {
  return `ä½ å¥½ï¼Œ${name}ï¼`
}

console.log(greet('å¼ ä¸‰')) // "ä½ å¥½ï¼Œå¼ ä¸‰ï¼"

// å‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼ˆhoistingï¼‰
sayHello() // "Hello!"ï¼ˆå¯ä»¥åœ¨å£°æ˜å‰è°ƒç”¨ï¼‰

function sayHello() {
  console.log('Hello!')
}
```

### å‡½æ•°è¡¨è¾¾å¼

```javascript
// å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰
const greet = function (name) {
  return `ä½ å¥½ï¼Œ${name}ï¼`
}

// ä¸ä¼šè¢«æå‡
// sayHi()  // ReferenceError
const sayHi = function () {
  console.log('Hi!')
}

// å‘½åå‡½æ•°è¡¨è¾¾å¼ï¼ˆç”¨äºé€’å½’å’Œè°ƒè¯•ï¼‰
const factorial = function fact(n) {
  if (n <= 1) return 1
  return n * fact(n - 1) // å†…éƒ¨å¯ä»¥ç”¨ fact
}
// fact(5)  // ReferenceErrorï¼ˆå¤–éƒ¨ä¸èƒ½ç”¨ factï¼‰
```

### ç®­å¤´å‡½æ•°

```javascript
// ç®­å¤´å‡½æ•°ï¼ˆES6ï¼‰
const add = (a, b) => a + b

// å•å‚æ•°å¯çœç•¥æ‹¬å·
const double = (n) => n * 2

// æ— å‚æ•°éœ€è¦æ‹¬å·
const random = () => Math.random()

// å¤šè¡Œéœ€è¦èŠ±æ‹¬å·å’Œ return
const greet = (name) => {
  const greeting = `ä½ å¥½ï¼Œ${name}ï¼`
  return greeting
}

// è¿”å›å¯¹è±¡å­—é¢é‡éœ€è¦åŒ…åœ¨æ‹¬å·é‡Œ
const createUser = (name) => ({ name, createdAt: Date.now() })
```

### æ„é€ å‡½æ•°

```javascript
// ä½¿ç”¨ Function æ„é€ å‡½æ•°ï¼ˆä¸æ¨èï¼‰
const add = new Function('a', 'b', 'return a + b')
console.log(add(1, 2)) // 3

// ğŸ”¶ æœ‰å®‰å…¨å’Œæ€§èƒ½é—®é¢˜ï¼Œæå°‘ä½¿ç”¨
```

## å‡½æ•°å‚æ•°

### åŸºæœ¬å‚æ•°

```javascript
function add(a, b) {
  return a + b
}

add(1, 2) // 3
add(1) // NaNï¼ˆb æ˜¯ undefinedï¼‰
add(1, 2, 3) // 3ï¼ˆå¤šä½™å‚æ•°è¢«å¿½ç•¥ï¼‰
```

### é»˜è®¤å‚æ•°

```javascript
// ES6 é»˜è®¤å‚æ•°
function greet(name = 'æ¸¸å®¢', greeting = 'ä½ å¥½') {
  return `${greeting}ï¼Œ${name}ï¼`
}

greet() // "ä½ å¥½ï¼Œæ¸¸å®¢ï¼"
greet('å¼ ä¸‰') // "ä½ å¥½ï¼Œå¼ ä¸‰ï¼"
greet('å¼ ä¸‰', 'æ—©ä¸Šå¥½') // "æ—©ä¸Šå¥½ï¼Œå¼ ä¸‰ï¼"

// åªä¼ ç¬¬äºŒä¸ªå‚æ•°
greet(undefined, 'æ™šä¸Šå¥½') // "æ™šä¸Šå¥½ï¼Œæ¸¸å®¢ï¼"

// é»˜è®¤å€¼å¯ä»¥æ˜¯è¡¨è¾¾å¼
function getTimestamp(date = new Date()) {
  return date.getTime()
}

// é»˜è®¤å€¼å¯ä»¥å¼•ç”¨å‰é¢çš„å‚æ•°
function createRect(width, height = width) {
  return { width, height }
}
createRect(10) // { width: 10, height: 10 }
```

### å‰©ä½™å‚æ•°

```javascript
// æ”¶é›†å‰©ä½™å‚æ•°åˆ°æ•°ç»„
function sum(...numbers) {
  return numbers.reduce((a, b) => a + b, 0)
}

sum(1, 2, 3) // 6
sum(1, 2, 3, 4, 5) // 15

// ä¸æ™®é€šå‚æ•°ç»“åˆ
function log(level, ...messages) {
  console.log(`[${level}]`, ...messages)
}

log('INFO', 'ç”¨æˆ·ç™»å½•', 'ç”¨æˆ·ID: 123')
// [INFO] ç”¨æˆ·ç™»å½• ç”¨æˆ·ID: 123

// ğŸ”¶ å‰©ä½™å‚æ•°å¿…é¡»æ˜¯æœ€åä¸€ä¸ª
// function bad(...rest, last) {}  // SyntaxError
```

### arguments å¯¹è±¡

```javascript
// ä¼ ç»Ÿæ–¹å¼ï¼ˆéç®­å¤´å‡½æ•°ï¼‰
function sum() {
  let total = 0
  for (let i = 0; i < arguments.length; i++) {
    total += arguments[i]
  }
  return total
}

sum(1, 2, 3) // 6

// arguments æ˜¯ç±»æ•°ç»„ï¼Œä¸æ˜¯çœŸæ­£çš„æ•°ç»„
function showArgs() {
  console.log(arguments.length) // 3
  console.log(arguments[0]) // 'a'
  // arguments.map(...)  // TypeError

  // è½¬ä¸ºæ•°ç»„
  const args = Array.from(arguments)
  // æˆ–
  const args2 = [...arguments]
}

showArgs('a', 'b', 'c')

// ğŸ”¶ ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments
const arrowFn = () => {
  // console.log(arguments)  // ReferenceError
}

// åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨å‰©ä½™å‚æ•°ä»£æ›¿
const arrowSum = (...args) => args.reduce((a, b) => a + b, 0)
```

### è§£æ„å‚æ•°

```javascript
// å¯¹è±¡è§£æ„
function createUser({ name, age, city = 'æœªçŸ¥' }) {
  return { name, age, city }
}

createUser({ name: 'å¼ ä¸‰', age: 25 })
// { name: "å¼ ä¸‰", age: 25, city: "æœªçŸ¥" }

// æ•°ç»„è§£æ„
function swap([a, b]) {
  return [b, a]
}
swap([1, 2]) // [2, 1]

// é…åˆé»˜è®¤å€¼
function config({ host = 'localhost', port = 3000 } = {}) {
  return { host, port }
}

config() // { host: "localhost", port: 3000 }
config({ port: 8080 }) // { host: "localhost", port: 8080 }
```

## è¿”å›å€¼

### return è¯­å¥

```javascript
// è¿”å›å€¼
function add(a, b) {
  return a + b // è¿”å›ç»“æœå¹¶ç»“æŸå‡½æ•°
}

// æå‰è¿”å›
function divide(a, b) {
  if (b === 0) {
    return null // æå‰è¿”å›ï¼Œä¸‹é¢çš„ä»£ç ä¸æ‰§è¡Œ
  }
  return a / b
}

// æ²¡æœ‰ return æˆ– return åæ²¡æœ‰å€¼ï¼Œè¿”å› undefined
function noReturn() {
  console.log('æ‰§è¡Œ')
}
console.log(noReturn()) // undefined

function emptyReturn() {
  return
}
console.log(emptyReturn()) // undefined
```

### è¿”å›å¤šä¸ªå€¼

```javascript
// è¿”å›æ•°ç»„
function minMax(arr) {
  return [Math.min(...arr), Math.max(...arr)]
}
const [min, max] = minMax([3, 1, 4, 1, 5])

// è¿”å›å¯¹è±¡
function getUser() {
  return {
    name: 'å¼ ä¸‰',
    age: 25,
    city: 'åŒ—äº¬',
  }
}
const { name, age } = getUser()

// è¿”å›å‡½æ•°
function createMultiplier(factor) {
  return function (number) {
    return number * factor
  }
}
const double = createMultiplier(2)
double(5) // 10
```

### æ¢è¡Œé™·é˜±

```javascript
// ğŸ”¶ return åæ¢è¡Œä¼šè‡ªåŠ¨æ’å…¥åˆ†å·
function bad() {
  return
  {
    value: 1
  }
}
bad() // undefinedï¼ˆä¸æ˜¯å¯¹è±¡ï¼ï¼‰

// âœ… æ­£ç¡®å†™æ³•
function good() {
  return {
    value: 1,
  }
}
// æˆ–è€…
function good2() {
  return {
    value: 1,
  }
}
```

## å‡½æ•°ä½œç”¨åŸŸ

### è¯æ³•ä½œç”¨åŸŸ

```javascript
// å‡½æ•°ä½œç”¨åŸŸç”±å®šä¹‰ä½ç½®å†³å®šï¼Œä¸æ˜¯è°ƒç”¨ä½ç½®
const x = 10

function outer() {
  const x = 20

  function inner() {
    console.log(x) // æŸ¥æ‰¾æœ€è¿‘çš„ x
  }

  return inner
}

const fn = outer()
fn() // 20ï¼ˆä¸æ˜¯ 10ï¼‰
```

### å˜é‡é®è”½

```javascript
const name = 'å…¨å±€'

function showName() {
  const name = 'å±€éƒ¨' // é®è”½å…¨å±€å˜é‡
  console.log(name)
}

showName() // "å±€éƒ¨"
console.log(name) // "å…¨å±€"
```

### é—­åŒ…é¢„è§ˆ

```javascript
// å‡½æ•°å¯ä»¥è®°ä½åˆ›å»ºæ—¶çš„ä½œç”¨åŸŸ
function createCounter() {
  let count = 0 // ç§æœ‰å˜é‡
  return function () {
    count++
    return count
  }
}

const counter = createCounter()
console.log(counter()) // 1
console.log(counter()) // 2
console.log(counter()) // 3

// count å¯¹å¤–éƒ¨ä¸å¯è§ï¼Œä½†å‡½æ•°å¯ä»¥è®¿é—®
```

## å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘

### èµ‹å€¼ç»™å˜é‡

```javascript
const greet = function (name) {
  return `ä½ å¥½ï¼Œ${name}`
}

// å¯ä»¥é‡æ–°èµ‹å€¼
let fn = greet
console.log(fn('å¼ ä¸‰')) // "ä½ å¥½ï¼Œå¼ ä¸‰"
```

### ä½œä¸ºå‚æ•°ä¼ é€’

```javascript
// å›è°ƒå‡½æ•°
function processArray(arr, callback) {
  const result = []
  for (const item of arr) {
    result.push(callback(item))
  }
  return result
}

const numbers = [1, 2, 3]
const doubled = processArray(numbers, (n) => n * 2)
console.log(doubled) // [2, 4, 6]

// æ•°ç»„æ–¹æ³•
numbers.map((n) => n * 2)
numbers.filter((n) => n > 1)
numbers.forEach((n) => console.log(n))
```

### ä½œä¸ºè¿”å›å€¼

```javascript
// é«˜é˜¶å‡½æ•°
function withLogging(fn) {
  return function (...args) {
    console.log('è°ƒç”¨å‚æ•°:', args)
    const result = fn(...args)
    console.log('è¿”å›ç»“æœ:', result)
    return result
  }
}

const add = (a, b) => a + b
const loggedAdd = withLogging(add)

loggedAdd(1, 2)
// è°ƒç”¨å‚æ•°: [1, 2]
// è¿”å›ç»“æœ: 3
```

### å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­

```javascript
// å­˜å‚¨åœ¨æ•°ç»„ä¸­
const operations = [(x) => x + 1, (x) => x * 2, (x) => x ** 2]

let value = 2
for (const op of operations) {
  value = op(value)
}
console.log(value) // ((2 + 1) * 2) ** 2 = 36

// å­˜å‚¨åœ¨å¯¹è±¡ä¸­
const calculator = {
  add: (a, b) => a + b,
  subtract: (a, b) => a - b,
  multiply: (a, b) => a * b,
  divide: (a, b) => a / b,
}

calculator.add(5, 3) // 8
```

## ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰

```javascript
// å®šä¹‰åç«‹å³æ‰§è¡Œ
;(function () {
  const private = 'ç§æœ‰å˜é‡'
  console.log(private)
})()

// ç®­å¤´å‡½æ•°ç‰ˆæœ¬
;(() => {
  console.log('ç«‹å³æ‰§è¡Œ')
})()

// ä¼ é€’å‚æ•°
;(function (name) {
  console.log(`ä½ å¥½ï¼Œ${name}`)
})('å¼ ä¸‰')

// è¿”å›å€¼
const result = (function () {
  return 42
})()

// ç”¨äºåˆ›å»ºç§æœ‰ä½œç”¨åŸŸï¼ˆES6 å‰çš„æ¨¡å—åŒ–ï¼‰
const counter = (function () {
  let count = 0
  return {
    increment() {
      count++
    },
    getCount() {
      return count
    },
  }
})()
```

## é€’å½’å‡½æ•°

```javascript
// é˜¶ä¹˜
function factorial(n) {
  if (n <= 1) return 1
  return n * factorial(n - 1)
}
factorial(5) // 120

// æ–æ³¢é‚£å¥‘æ•°åˆ—
function fibonacci(n) {
  if (n <= 1) return n
  return fibonacci(n - 1) + fibonacci(n - 2)
}
fibonacci(10) // 55

// ğŸ”¶ ç®€å•é€’å½’æ•ˆç‡ä½ï¼Œå¯ä»¥ç”¨è®°å¿†åŒ–ä¼˜åŒ–
function memoizedFib() {
  const cache = {}
  return function fib(n) {
    if (n in cache) return cache[n]
    if (n <= 1) return n
    cache[n] = fib(n - 1) + fib(n - 2)
    return cache[n]
  }
}
const fib = memoizedFib()
fib(50) // å¿«é€Ÿè®¡ç®—

// æ·±åº¦éå†å¯¹è±¡
function deepClone(obj) {
  if (obj === null || typeof obj !== 'object') {
    return obj
  }
  const clone = Array.isArray(obj) ? [] : {}
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      clone[key] = deepClone(obj[key])
    }
  }
  return clone
}
```

## å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•

### name å±æ€§

```javascript
function foo() {}
console.log(foo.name) // "foo"

const bar = function () {}
console.log(bar.name) // "bar"

const baz = function qux() {}
console.log(baz.name) // "qux"

console.log((() => {}).name) // ""
```

### length å±æ€§

```javascript
// å½¢å‚æ•°é‡ï¼ˆä¸å«é»˜è®¤å€¼å’Œå‰©ä½™å‚æ•°ï¼‰
function fn1(a) {}
function fn2(a, b) {}
function fn3(a, b = 1) {}
function fn4(a, ...rest) {}

console.log(fn1.length) // 1
console.log(fn2.length) // 2
console.log(fn3.length) // 1ï¼ˆé»˜è®¤å‚æ•°ä¸è®¡å…¥ï¼‰
console.log(fn4.length) // 1ï¼ˆå‰©ä½™å‚æ•°ä¸è®¡å…¥ï¼‰
```

### call å’Œ apply

```javascript
function greet(greeting, punctuation) {
  return `${greeting}ï¼Œ${this.name}${punctuation}`
}

const person = { name: 'å¼ ä¸‰' }

// callï¼šå‚æ•°é€ä¸ªä¼ é€’
greet.call(person, 'ä½ å¥½', 'ï¼') // "ä½ å¥½ï¼Œå¼ ä¸‰ï¼"

// applyï¼šå‚æ•°ä½œä¸ºæ•°ç»„ä¼ é€’
greet.apply(person, ['ä½ å¥½', 'ï¼']) // "ä½ å¥½ï¼Œå¼ ä¸‰ï¼"

// å®é™…åº”ç”¨ï¼šå€Ÿç”¨æ•°ç»„æ–¹æ³•
const arrayLike = { 0: 'a', 1: 'b', length: 2 }
Array.prototype.slice.call(arrayLike) // ["a", "b"]
```

### bind

```javascript
const person = { name: 'å¼ ä¸‰' }

function greet() {
  return `ä½ å¥½ï¼Œ${this.name}`
}

// åˆ›å»ºç»‘å®š this çš„æ–°å‡½æ•°
const boundGreet = greet.bind(person)
boundGreet() // "ä½ å¥½ï¼Œå¼ ä¸‰"

// é¢„è®¾å‚æ•°ï¼ˆæŸ¯é‡ŒåŒ–ï¼‰
function add(a, b, c) {
  return a + b + c
}

const add5 = add.bind(null, 5) // é¢„è®¾ a = 5
add5(3, 2) // 10

const add5and3 = add.bind(null, 5, 3) // é¢„è®¾ a = 5, b = 3
add5and3(2) // 10
```

## æœ€ä½³å®è·µ

### å‡½æ•°å‘½å

```javascript
// åŠ¨è¯å¼€å¤´ï¼Œæè¿°è¡Œä¸º
function getUserById(id) {}
function validateEmail(email) {}
function calculateTotal(items) {}

// å¸ƒå°”è¿”å›å€¼ç”¨ is/has/can
function isValid(value) {}
function hasPermission(user) {}
function canEdit(document) {}

// äº‹ä»¶å¤„ç†ç”¨ handle/on
function handleClick(event) {}
function onSubmit(data) {}
```

### å•ä¸€èŒè´£

```javascript
// ğŸ”¶ åšå¤ªå¤šäº‹
function processUser(user) {
  // éªŒè¯
  if (!user.name) throw new Error('åå­—å¿…å¡«')
  // æ ¼å¼åŒ–
  user.name = user.name.trim()
  // ä¿å­˜
  database.save(user)
  // å‘é€é‚®ä»¶
  email.send(user.email, 'æ¬¢è¿')
}

// âœ… æ‹†åˆ†èŒè´£
function validateUser(user) {
  if (!user.name) throw new Error('åå­—å¿…å¡«')
}

function formatUser(user) {
  return { ...user, name: user.name.trim() }
}

function saveUser(user) {
  return database.save(user)
}

function sendWelcomeEmail(email) {
  return email.send(email, 'æ¬¢è¿')
}
```

### é¿å…å‰¯ä½œç”¨

```javascript
// ğŸ”¶ æœ‰å‰¯ä½œç”¨ï¼šä¿®æ”¹å¤–éƒ¨çŠ¶æ€
let total = 0
function addToTotal(value) {
  total += value
}

// âœ… çº¯å‡½æ•°ï¼šç›¸åŒè¾“å…¥æ€»æ˜¯ç›¸åŒè¾“å‡º
function add(a, b) {
  return a + b
}

// ğŸ”¶ ä¿®æ”¹å‚æ•°
function addItem(arr, item) {
  arr.push(item) // ä¿®æ”¹äº†åŸæ•°ç»„
  return arr
}

// âœ… ä¸ä¿®æ”¹å‚æ•°
function addItem(arr, item) {
  return [...arr, item] // è¿”å›æ–°æ•°ç»„
}
```

## æ€»ç»“

| å®šä¹‰æ–¹å¼   | æå‡ | this ç»‘å®š | arguments | é€‚ç”¨åœºæ™¯       |
| ---------- | ---- | --------- | --------- | -------------- |
| å‡½æ•°å£°æ˜   | æ˜¯   | åŠ¨æ€      | æœ‰        | é€šç”¨           |
| å‡½æ•°è¡¨è¾¾å¼ | å¦   | åŠ¨æ€      | æœ‰        | å›è°ƒã€æ¡ä»¶å®šä¹‰ |
| ç®­å¤´å‡½æ•°   | å¦   | ç»§æ‰¿      | æ—         | å›è°ƒã€ç®€çŸ­å‡½æ•° |

**æ ¸å¿ƒè¦ç‚¹**ï¼š

- å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥åƒå€¼ä¸€æ ·ä¼ é€’
- ä½¿ç”¨é»˜è®¤å‚æ•°å’Œå‰©ä½™å‚æ•°å¤„ç†å¯å˜å‚æ•°
- ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ `this` å’Œ `arguments`
- ä¿æŒå‡½æ•°ç®€çŸ­ã€å•ä¸€èŒè´£ã€æ— å‰¯ä½œç”¨
