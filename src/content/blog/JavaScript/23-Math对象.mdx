---
title: 'Math å¯¹è±¡'
description: 'æŒæ¡ JavaScript Math å¯¹è±¡çš„æ•°å­¦æ–¹æ³•ï¼Œå®ç°å¸¸è§æ•°å­¦è®¡ç®—'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'Math', 'æ•°å­¦', 'éšæœºæ•°']
---

Math æ˜¯ JavaScript çš„å†…ç½®å¯¹è±¡ï¼Œæä¾›äº†å¸¸ç”¨çš„æ•°å­¦å¸¸é‡å’Œæ–¹æ³•ã€‚Math ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œæ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ã€‚

## ğŸ¯ æ•°å­¦å¸¸é‡

```javascript
// åœ†å‘¨ç‡
Math.PI // 3.141592653589793

// è‡ªç„¶å¯¹æ•°çš„åº•æ•° e
Math.E // 2.718281828459045

// 2 çš„è‡ªç„¶å¯¹æ•°
Math.LN2 // 0.6931471805599453

// 10 çš„è‡ªç„¶å¯¹æ•°
Math.LN10 // 2.302585092994046

// ä»¥ 2 ä¸ºåº• e çš„å¯¹æ•°
Math.LOG2E // 1.4426950408889634

// ä»¥ 10 ä¸ºåº• e çš„å¯¹æ•°
Math.LOG10E // 0.4342944819032518

// 2 çš„å¹³æ–¹æ ¹
Math.SQRT2 // 1.4142135623730951

// 1/2 çš„å¹³æ–¹æ ¹
Math.SQRT1_2 // 0.7071067811865476
```

## å–æ•´æ–¹æ³•

### Math.floor - å‘ä¸‹å–æ•´

```javascript
// è¿”å›å°äºæˆ–ç­‰äºç»™å®šæ•°å­—çš„æœ€å¤§æ•´æ•°
Math.floor(4.9) // 4
Math.floor(4.1) // 4
Math.floor(4) // 4
Math.floor(-4.1) // -5ï¼ˆå‘ä¸‹ï¼Œæ›´å°ï¼‰
Math.floor(-4.9) // -5
```

### Math.ceil - å‘ä¸Šå–æ•´

```javascript
// è¿”å›å¤§äºæˆ–ç­‰äºç»™å®šæ•°å­—çš„æœ€å°æ•´æ•°
Math.ceil(4.1) // 5
Math.ceil(4.9) // 5
Math.ceil(4) // 4
Math.ceil(-4.1) // -4ï¼ˆå‘ä¸Šï¼Œæ›´å¤§ï¼‰
Math.ceil(-4.9) // -4
```

### Math.round - å››èˆäº”å…¥

```javascript
// è¿”å›æœ€æ¥è¿‘çš„æ•´æ•°
Math.round(4.4) // 4
Math.round(4.5) // 5
Math.round(4.6) // 5
Math.round(-4.5) // -4ï¼ˆç‰¹æ®Šï¼š-4.5 çº¦åˆ° -4ï¼‰
Math.round(-4.6) // -5
```

### Math.trunc - æˆªæ–­å°æ•°

```javascript
// ç›´æ¥å»æ‰å°æ•°éƒ¨åˆ†ï¼ˆES6ï¼‰
Math.trunc(4.9) // 4
Math.trunc(4.1) // 4
Math.trunc(-4.9) // -4ï¼ˆç›´æ¥æˆªæ–­ï¼‰
Math.trunc(-4.1) // -4

// ä¸ parseInt ç±»ä¼¼ï¼Œä½† trunc åªæ¥å—æ•°å­—
Math.trunc('4.9') // 4ï¼ˆä¼šè½¬æ¢ï¼‰
parseInt('4.9px') // 4ï¼ˆèƒ½è§£æå­—ç¬¦ä¸²ï¼‰
Math.trunc('4.9px') // NaN
```

### å–æ•´å¯¹æ¯”

```javascript
const values = [4.2, 4.5, 4.8, -4.2, -4.5, -4.8]

values.forEach((v) => {
  console.log(
    `${v}: floor=${Math.floor(v)}, ceil=${Math.ceil(v)}, round=${Math.round(v)}, trunc=${Math.trunc(v)}`
  )
})
// 4.2:  floor=4,  ceil=5,  round=4,  trunc=4
// 4.5:  floor=4,  ceil=5,  round=5,  trunc=4
// 4.8:  floor=4,  ceil=5,  round=5,  trunc=4
// -4.2: floor=-5, ceil=-4, round=-4, trunc=-4
// -4.5: floor=-5, ceil=-4, round=-4, trunc=-4
// -4.8: floor=-5, ceil=-4, round=-5, trunc=-4
```

## æœ€å€¼ä¸ç»å¯¹å€¼

### Math.max / Math.min

```javascript
// è¿”å›æœ€å¤§å€¼
Math.max(1, 2, 3) // 3
Math.max(-1, -2, -3) // -1
Math.max(1, 2, 'a') // NaNï¼ˆåŒ…å«éæ•°å­—ï¼‰
Math.max() // -Infinityï¼ˆæ— å‚æ•°ï¼‰

// è¿”å›æœ€å°å€¼
Math.min(1, 2, 3) // 1
Math.min(-1, -2, -3) // -3
Math.min() // Infinity

// æ•°ç»„ä¸­çš„æœ€å€¼
const arr = [1, 5, 3, 9, 2]
Math.max(...arr) // 9
Math.min(...arr) // 1

// æˆ–ä½¿ç”¨ apply
Math.max.apply(null, arr) // 9
```

### Math.abs - ç»å¯¹å€¼

```javascript
Math.abs(-5) // 5
Math.abs(5) // 5
Math.abs(-3.14) // 3.14
Math.abs(null) // 0
Math.abs('') // 0
Math.abs('abc') // NaN
```

## å¹‚ä¸æ ¹

### Math.pow - å¹‚è¿ç®—

```javascript
// x çš„ y æ¬¡æ–¹
Math.pow(2, 3) // 8ï¼ˆ2Â³ï¼‰
Math.pow(2, 0.5) // 1.414...ï¼ˆâˆš2ï¼‰
Math.pow(2, -1) // 0.5ï¼ˆ2â»Â¹ï¼‰

// ES6 å¯ä»¥ç”¨ ** è¿ç®—ç¬¦
2 ** 3 // 8
2 ** 0.5 // 1.414...
```

### Math.sqrt - å¹³æ–¹æ ¹

```javascript
Math.sqrt(9) // 3
Math.sqrt(2) // 1.4142135623730951
Math.sqrt(0) // 0
Math.sqrt(-1) // NaNï¼ˆè´Ÿæ•°æ²¡æœ‰å®æ•°å¹³æ–¹æ ¹ï¼‰
```

### Math.cbrt - ç«‹æ–¹æ ¹ï¼ˆES6ï¼‰

```javascript
Math.cbrt(8) // 2
Math.cbrt(27) // 3
Math.cbrt(-8) // -2ï¼ˆè´Ÿæ•°æœ‰å®æ•°ç«‹æ–¹æ ¹ï¼‰
```

### Math.hypot - å‹¾è‚¡å®šç†ï¼ˆES6ï¼‰

```javascript
// è¿”å›æ‰€æœ‰å‚æ•°å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹
Math.hypot(3, 4) // 5ï¼ˆâˆš(3Â² + 4Â²)ï¼‰
Math.hypot(3, 4, 5) // 7.07...
Math.hypot(5, 12) // 13

// è®¡ç®—ä¸¤ç‚¹è·ç¦»
function distance(x1, y1, x2, y2) {
  return Math.hypot(x2 - x1, y2 - y1)
}
distance(0, 0, 3, 4) // 5
```

## éšæœºæ•°

### Math.random

```javascript
// è¿”å› [0, 1) ä¹‹é—´çš„éšæœºæ•°
Math.random() // 0.123456789...

// ç”Ÿæˆ [0, n) çš„éšæœºæ•´æ•°
function randomInt(n) {
  return Math.floor(Math.random() * n)
}
randomInt(10) // 0-9

// ç”Ÿæˆ [min, max] çš„éšæœºæ•´æ•°
function randomRange(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min
}
randomRange(1, 100) // 1-100

// ç”Ÿæˆéšæœºå°æ•°ï¼ˆæŒ‡å®šèŒƒå›´ï¼‰
function randomFloat(min, max) {
  return Math.random() * (max - min) + min
}
randomFloat(1.5, 2.5) // 1.5-2.5
```

### éšæœºåº”ç”¨

```javascript
// éšæœºå¸ƒå°”å€¼
function randomBoolean() {
  return Math.random() < 0.5
}

// éšæœºæ•°ç»„å…ƒç´ 
function randomItem(arr) {
  return arr[Math.floor(Math.random() * arr.length)]
}
randomItem(['a', 'b', 'c'])

// æ‰“ä¹±æ•°ç»„ï¼ˆFisher-Yates æ´—ç‰Œç®—æ³•ï¼‰
function shuffle(arr) {
  const result = [...arr]
  for (let i = result.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1))
    ;[result[i], result[j]] = [result[j], result[i]]
  }
  return result
}
shuffle([1, 2, 3, 4, 5])

// ç”Ÿæˆéšæœºé¢œè‰²
function randomColor() {
  return (
    '#' +
    Math.floor(Math.random() * 0xffffff)
      .toString(16)
      .padStart(6, '0')
  )
}
randomColor() // '#a3f5c2'

// ç”Ÿæˆéšæœº ID
function randomId(length = 8) {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
  let result = ''
  for (let i = 0; i < length; i++) {
    result += chars[Math.floor(Math.random() * chars.length)]
  }
  return result
}
randomId() // 'xK9mP2qL'
```

## ä¸‰è§’å‡½æ•°

### åŸºæœ¬ä¸‰è§’å‡½æ•°

```javascript
// å‚æ•°æ˜¯å¼§åº¦ï¼Œä¸æ˜¯è§’åº¦ï¼
// å¼§åº¦ = è§’åº¦ Ã— Ï€ / 180

Math.sin(0) // 0
Math.sin(Math.PI / 2) // 1ï¼ˆ90Â°ï¼‰
Math.sin(Math.PI) // 0ï¼ˆ180Â°ï¼Œçº¦ä¸º 0ï¼‰

Math.cos(0) // 1
Math.cos(Math.PI / 2) // 0ï¼ˆçº¦ä¸º 0ï¼‰
Math.cos(Math.PI) // -1

Math.tan(0) // 0
Math.tan(Math.PI / 4) // 1ï¼ˆ45Â°ï¼‰

// è§’åº¦è½¬å¼§åº¦
function toRadians(degrees) {
  return (degrees * Math.PI) / 180
}

// å¼§åº¦è½¬è§’åº¦
function toDegrees(radians) {
  return (radians * 180) / Math.PI
}

Math.sin(toRadians(30)) // 0.5ï¼ˆ30Â°çš„æ­£å¼¦ï¼‰
Math.cos(toRadians(60)) // 0.5ï¼ˆ60Â°çš„ä½™å¼¦ï¼‰
```

### åä¸‰è§’å‡½æ•°

```javascript
// è¿”å›å¼§åº¦
Math.asin(0.5) // 0.5235...ï¼ˆçº¦ 30Â°ï¼‰
Math.acos(0.5) // 1.0471...ï¼ˆçº¦ 60Â°ï¼‰
Math.atan(1) // 0.7853...ï¼ˆçº¦ 45Â°ï¼‰

// atan2ï¼šè¿”å›ç‚¹ (x, y) ä¸æ­£ x è½´çš„å¤¹è§’
Math.atan2(1, 1) // 0.7853...ï¼ˆ45Â°ï¼‰
Math.atan2(1, 0) // 1.5707...ï¼ˆ90Â°ï¼‰
Math.atan2(-1, 0) // -1.5707...ï¼ˆ-90Â°ï¼‰
```

## å¯¹æ•°å‡½æ•°

```javascript
// è‡ªç„¶å¯¹æ•°ï¼ˆä»¥ e ä¸ºåº•ï¼‰
Math.log(Math.E) // 1
Math.log(1) // 0
Math.log(10) // 2.302...

// ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ï¼ˆES6ï¼‰
Math.log10(100) // 2
Math.log10(1000) // 3

// ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°ï¼ˆES6ï¼‰
Math.log2(8) // 3
Math.log2(1024) // 10

// log(1 + x)ï¼Œå¯¹äºå° x æ›´ç²¾ç¡®ï¼ˆES6ï¼‰
Math.log1p(0) // 0
Math.log1p(1) // 0.693...

// e^xï¼ˆES6ï¼‰
Math.exp(1) // 2.718...ï¼ˆeï¼‰
Math.exp(2) // 7.389...ï¼ˆeÂ²ï¼‰

// e^x - 1ï¼Œå¯¹äºå° x æ›´ç²¾ç¡®ï¼ˆES6ï¼‰
Math.expm1(0) // 0
Math.expm1(1) // 1.718...
```

## ç¬¦å·ä¸å…¶ä»–

### Math.sign - ç¬¦å·ï¼ˆES6ï¼‰

```javascript
// è¿”å›æ•°å­—çš„ç¬¦å·ï¼š1, -1, æˆ– 0
Math.sign(5) // 1
Math.sign(-5) // -1
Math.sign(0) // 0
Math.sign(-0) // -0
Math.sign(NaN) // NaN
```

### Math.fround - 32ä½æµ®ç‚¹æ•°ï¼ˆES6ï¼‰

```javascript
// è½¬ä¸ºæœ€æ¥è¿‘çš„ 32 ä½æµ®ç‚¹æ•°
Math.fround(1.5) // 1.5
Math.fround(1.337) // 1.3370000123977661
Math.fround(2 ** 150) // Infinity
```

### Math.clz32 - å‰å¯¼é›¶ä¸ªæ•°ï¼ˆES6ï¼‰

```javascript
// è¿”å› 32 ä½æ•´æ•°çš„å‰å¯¼é›¶ä¸ªæ•°
Math.clz32(1) // 31
Math.clz32(2) // 30
Math.clz32(4) // 29
Math.clz32(0) // 32
```

### Math.imul - 32ä½æ•´æ•°ä¹˜æ³•ï¼ˆES6ï¼‰

```javascript
// è¿”å›ä¸¤ä¸ª 32 ä½æ•´æ•°ç›¸ä¹˜çš„ç»“æœ
Math.imul(2, 4) // 8
Math.imul(-1, 8) // -8
```

## å®ç”¨å‡½æ•°

### ç²¾åº¦å¤„ç†

```javascript
// ğŸ”¶ æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜
0.1 + 0.2 // 0.30000000000000004

// å››èˆäº”å…¥åˆ°æŒ‡å®šå°æ•°ä½
function round(num, decimals) {
  return Math.round(num * 10 ** decimals) / 10 ** decimals
}
round(0.1 + 0.2, 2) // 0.3
round(3.14159, 2) // 3.14

// å‘ä¸‹å–æ•´åˆ°æŒ‡å®šå°æ•°ä½
function floorTo(num, decimals) {
  return Math.floor(num * 10 ** decimals) / 10 ** decimals
}
floorTo(3.149, 2) // 3.14

// å‘ä¸Šå–æ•´åˆ°æŒ‡å®šå°æ•°ä½
function ceilTo(num, decimals) {
  return Math.ceil(num * 10 ** decimals) / 10 ** decimals
}
ceilTo(3.141, 2) // 3.15
```

### èŒƒå›´é™åˆ¶

```javascript
// å°†æ•°å€¼é™åˆ¶åœ¨èŒƒå›´å†…
function clamp(num, min, max) {
  return Math.min(Math.max(num, min), max)
}

clamp(5, 0, 10) // 5
clamp(-5, 0, 10) // 0
clamp(15, 0, 10) // 10

// çº¿æ€§æ’å€¼
function lerp(start, end, t) {
  return start + (end - start) * t
}

lerp(0, 100, 0.5) // 50
lerp(0, 100, 0.25) // 25

// æ˜ å°„èŒƒå›´
function map(value, inMin, inMax, outMin, outMax) {
  return ((value - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin
}

map(50, 0, 100, 0, 1) // 0.5
map(25, 0, 100, 0, 255) // 63.75
```

### å‡ ä½•è®¡ç®—

```javascript
// åœ†çš„é¢ç§¯
function circleArea(radius) {
  return Math.PI * radius ** 2
}
circleArea(5) // 78.539...

// åœ†çš„å‘¨é•¿
function circleCircumference(radius) {
  return 2 * Math.PI * radius
}
circleCircumference(5) // 31.415...

// ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»
function distance(x1, y1, x2, y2) {
  return Math.hypot(x2 - x1, y2 - y1)
}
distance(0, 0, 3, 4) // 5

// è®¡ç®—è§’åº¦ï¼ˆä» (x1,y1) åˆ° (x2,y2)ï¼‰
function angle(x1, y1, x2, y2) {
  return (Math.atan2(y2 - y1, x2 - x1) * 180) / Math.PI
}
angle(0, 0, 1, 1) // 45
```

## æ€»ç»“

| æ–¹æ³•               | è¯´æ˜         |
| ------------------ | ------------ |
| `Math.floor`       | å‘ä¸‹å–æ•´     |
| `Math.ceil`        | å‘ä¸Šå–æ•´     |
| `Math.round`       | å››èˆäº”å…¥     |
| `Math.trunc`       | æˆªæ–­å°æ•°     |
| `Math.max/min`     | æœ€å¤§/æœ€å°å€¼  |
| `Math.abs`         | ç»å¯¹å€¼       |
| `Math.pow`         | å¹‚è¿ç®—       |
| `Math.sqrt`        | å¹³æ–¹æ ¹       |
| `Math.random`      | éšæœºæ•° [0,1) |
| `Math.sin/cos/tan` | ä¸‰è§’å‡½æ•°     |

**æ ¸å¿ƒè¦ç‚¹**ï¼š

- Math æ˜¯é™æ€å¯¹è±¡ï¼Œä¸èƒ½ new
- ä¸‰è§’å‡½æ•°ä½¿ç”¨å¼§åº¦ï¼Œä¸æ˜¯è§’åº¦
- random() è¿”å› [0, 1)ï¼Œä¸åŒ…æ‹¬ 1
- æ³¨æ„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜
- ES6 æ–°å¢äº† truncã€signã€cbrtã€hypot ç­‰æ–¹æ³•
