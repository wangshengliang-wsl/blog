---
title: 'Date æ—¥æœŸå¯¹è±¡'
description: 'æŒæ¡ JavaScript Date å¯¹è±¡çš„åˆ›å»ºã€æ ¼å¼åŒ–ä¸æ—¥æœŸè®¡ç®—'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'Date', 'æ—¥æœŸ', 'æ—¶é—´']
---

æ—¥æœŸå’Œæ—¶é—´å¤„ç†æ˜¯å¼€å‘ä¸­çš„å¸¸è§éœ€æ±‚ã€‚JavaScript çš„ Date å¯¹è±¡æä¾›äº†æ—¥æœŸæ—¶é—´çš„åŸºæœ¬æ“ä½œèƒ½åŠ›ã€‚

## ğŸ¯ åˆ›å»ºæ—¥æœŸ

### å½“å‰æ—¶é—´

```javascript
// åˆ›å»ºå½“å‰æ—¥æœŸæ—¶é—´
const now = new Date()
console.log(now) // Wed Jan 15 2025 10:30:00 GMT+0800

// è·å–æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
console.log(Date.now()) // 1736912400000
console.log(now.getTime()) // åŒä¸Š
console.log(+now) // åŒä¸Šï¼ˆä¸€å…ƒåŠ å·è½¬æ•°å­—ï¼‰
```

### æŒ‡å®šæ—¥æœŸ

```javascript
// ä¼ å…¥æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
const date1 = new Date(1736912400000)

// ä¼ å…¥æ—¥æœŸå­—ç¬¦ä¸²
const date2 = new Date('2025-01-15')
const date3 = new Date('2025-01-15T10:30:00')
const date4 = new Date('January 15, 2025 10:30:00')

// ä¼ å…¥å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼ˆæœˆä»½ä»0å¼€å§‹ï¼ï¼‰
const date5 = new Date(2025, 0, 15) // 2025å¹´1æœˆ15æ—¥
const date6 = new Date(2025, 0, 15, 10, 30, 0) // å¸¦æ—¶åˆ†ç§’

// ğŸ”¶ æ³¨æ„ï¼šæœˆä»½æ˜¯ 0-11ï¼Œä¸æ˜¯ 1-12
new Date(2025, 0, 1) // 1æœˆ1æ—¥
new Date(2025, 11, 31) // 12æœˆ31æ—¥
```

### æ—¥æœŸå­—ç¬¦ä¸²æ ¼å¼

```javascript
// ISO 8601 æ ¼å¼ï¼ˆæ¨èï¼‰
new Date('2025-01-15') // è§£æä¸º UTC æ—¶é—´
new Date('2025-01-15T10:30:00') // æœ¬åœ°æ—¶é—´
new Date('2025-01-15T10:30:00Z') // UTC æ—¶é—´
new Date('2025-01-15T10:30:00+08:00') // å¸¦æ—¶åŒº

// å…¶ä»–æ ¼å¼ï¼ˆå…¼å®¹æ€§å¯èƒ½æœ‰é—®é¢˜ï¼‰
new Date('01/15/2025') // MM/DD/YYYY
new Date('Jan 15 2025')
new Date('15 Jan 2025')

// ğŸ”¶ ä¸åŒæµè§ˆå™¨è§£æç»“æœå¯èƒ½ä¸åŒ
// å»ºè®®ä½¿ç”¨ ISO æ ¼å¼æˆ–æ—¶é—´æˆ³
```

## è·å–æ—¥æœŸä¿¡æ¯

### è·å–å„éƒ¨åˆ†

```javascript
const date = new Date('2025-01-15T10:30:45.123')

// å¹´æœˆæ—¥
date.getFullYear() // 2025
date.getMonth() // 0ï¼ˆä¸€æœˆï¼ŒèŒƒå›´ 0-11ï¼‰
date.getDate() // 15ï¼ˆæ—¥æœŸï¼ŒèŒƒå›´ 1-31ï¼‰
date.getDay() // 3ï¼ˆæ˜ŸæœŸä¸‰ï¼Œ0=å‘¨æ—¥ï¼Œ1-6=å‘¨ä¸€åˆ°å‘¨å…­ï¼‰

// æ—¶åˆ†ç§’æ¯«ç§’
date.getHours() // 10
date.getMinutes() // 30
date.getSeconds() // 45
date.getMilliseconds() // 123

// æ—¶é—´æˆ³
date.getTime() // æ¯«ç§’æ—¶é—´æˆ³
date.valueOf() // åŒ getTime()

// æ—¶åŒºåç§»ï¼ˆåˆ†é’Ÿï¼‰
date.getTimezoneOffset() // -480ï¼ˆä¸œå…«åŒºï¼Œå³ -8 å°æ—¶ï¼‰
```

### UTC æ—¶é—´

```javascript
const date = new Date('2025-01-15T10:30:00+08:00')

// è·å– UTC æ—¶é—´ï¼ˆæ¯”åŒ—äº¬æ—¶é—´æ—©8å°æ—¶ï¼‰
date.getUTCFullYear() // 2025
date.getUTCMonth() // 0
date.getUTCDate() // 15
date.getUTCHours() // 2ï¼ˆ10 - 8 = 2ï¼‰
date.getUTCMinutes() // 30
date.getUTCSeconds() // 0
```

## è®¾ç½®æ—¥æœŸ

### è®¾ç½®å„éƒ¨åˆ†

```javascript
const date = new Date()

// è®¾ç½®å¹´æœˆæ—¥
date.setFullYear(2025)
date.setMonth(11) // 12æœˆ
date.setDate(25)

// è®¾ç½®æ—¶åˆ†ç§’
date.setHours(12)
date.setMinutes(0)
date.setSeconds(0)
date.setMilliseconds(0)

// è®¾ç½®æ—¶é—´æˆ³
date.setTime(1736912400000)

// é“¾å¼è°ƒç”¨ï¼ˆæ¯ä¸ªæ–¹æ³•è¿”å›æ—¶é—´æˆ³ï¼‰
const timestamp = new Date().setFullYear(2025)
// è¿”å›çš„æ˜¯æ—¶é—´æˆ³ï¼Œä¸æ˜¯ Date å¯¹è±¡
```

### æ—¥æœŸæº¢å‡ºè‡ªåŠ¨ä¿®æ­£

```javascript
// æ—¥æœŸä¼šè‡ªåŠ¨ä¿®æ­£
const date = new Date(2025, 0, 32) // 1æœˆ32æ—¥
console.log(date) // 2æœˆ1æ—¥

// åˆ©ç”¨è¿™ä¸ªç‰¹æ€§è·å–æœˆæœ«
function getLastDayOfMonth(year, month) {
  // ä¸‹ä¸ªæœˆçš„ç¬¬0å¤© = è¿™ä¸ªæœˆçš„æœ€åä¸€å¤©
  return new Date(year, month + 1, 0).getDate()
}

getLastDayOfMonth(2025, 0) // 31ï¼ˆ1æœˆï¼‰
getLastDayOfMonth(2025, 1) // 28ï¼ˆ2æœˆï¼Œéé—°å¹´ï¼‰
getLastDayOfMonth(2024, 1) // 29ï¼ˆ2æœˆï¼Œé—°å¹´ï¼‰
```

## æ—¥æœŸæ ¼å¼åŒ–

### å†…ç½®æ–¹æ³•

```javascript
const date = new Date('2025-01-15T10:30:00')

// è½¬å­—ç¬¦ä¸²
date.toString()
// 'Wed Jan 15 2025 10:30:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'

date.toDateString() // 'Wed Jan 15 2025'
date.toTimeString() // '10:30:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'

date.toLocaleDateString() // '2025/1/15'
date.toLocaleTimeString() // '10:30:00'
date.toLocaleString() // '2025/1/15 10:30:00'

// ISO æ ¼å¼
date.toISOString() // '2025-01-15T02:30:00.000Z'ï¼ˆUTCï¼‰
date.toJSON() // åŒ toISOString()

// UTC å­—ç¬¦ä¸²
date.toUTCString() // 'Wed, 15 Jan 2025 02:30:00 GMT'
```

### toLocaleString é€‰é¡¹

```javascript
const date = new Date('2025-01-15T10:30:00')

// è‡ªå®šä¹‰æ ¼å¼
date.toLocaleDateString('zh-CN', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
  weekday: 'long',
})
// '2025å¹´1æœˆ15æ—¥æ˜ŸæœŸä¸‰'

date.toLocaleTimeString('zh-CN', {
  hour: '2-digit',
  minute: '2-digit',
  second: '2-digit',
  hour12: false,
})
// '10:30:00'

date.toLocaleString('zh-CN', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
  hour: '2-digit',
  minute: '2-digit',
  hour12: false,
})
// '2025/01/15 10:30'

// ä¸åŒåœ°åŒº
date.toLocaleDateString('en-US') // '1/15/2025'
date.toLocaleDateString('ja-JP') // '2025/1/15'
date.toLocaleDateString('de-DE') // '15.1.2025'
```

### è‡ªå®šä¹‰æ ¼å¼åŒ–å‡½æ•°

```javascript
function formatDate(date, format) {
  const map = {
    YYYY: date.getFullYear(),
    MM: String(date.getMonth() + 1).padStart(2, '0'),
    DD: String(date.getDate()).padStart(2, '0'),
    HH: String(date.getHours()).padStart(2, '0'),
    mm: String(date.getMinutes()).padStart(2, '0'),
    ss: String(date.getSeconds()).padStart(2, '0'),
  }

  return format.replace(/YYYY|MM|DD|HH|mm|ss/g, (matched) => map[matched])
}

const date = new Date('2025-01-15T10:30:45')
formatDate(date, 'YYYY-MM-DD') // '2025-01-15'
formatDate(date, 'YYYY/MM/DD HH:mm:ss') // '2025/01/15 10:30:45'
formatDate(date, 'MMæœˆDDæ—¥') // '01æœˆ15æ—¥'
```

## æ—¥æœŸè®¡ç®—

### æ—¶é—´å·®

```javascript
const start = new Date('2025-01-01')
const end = new Date('2025-01-15')

// æ¯«ç§’å·®
const diffMs = end - start // 1209600000

// è½¬æ¢ä¸ºå…¶ä»–å•ä½
const diffSeconds = diffMs / 1000
const diffMinutes = diffMs / (1000 * 60)
const diffHours = diffMs / (1000 * 60 * 60)
const diffDays = diffMs / (1000 * 60 * 60 * 24) // 14

// è®¡ç®—å¹´é¾„
function getAge(birthday) {
  const today = new Date()
  const birth = new Date(birthday)
  let age = today.getFullYear() - birth.getFullYear()
  const monthDiff = today.getMonth() - birth.getMonth()

  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
    age--
  }

  return age
}

getAge('1990-05-20') // 34ï¼ˆå‡è®¾ä»Šå¤©æ˜¯2025å¹´1æœˆï¼‰
```

### æ—¥æœŸå¢å‡

```javascript
// åŠ å‡å¤©æ•°
function addDays(date, days) {
  const result = new Date(date)
  result.setDate(result.getDate() + days)
  return result
}

const date = new Date('2025-01-15')
addDays(date, 7) // 2025-01-22
addDays(date, -7) // 2025-01-08

// åŠ å‡æœˆä»½
function addMonths(date, months) {
  const result = new Date(date)
  result.setMonth(result.getMonth() + months)
  return result
}

addMonths(date, 1) // 2025-02-15
addMonths(date, -1) // 2024-12-15

// é€šç”¨å‡½æ•°
function addTime(date, value, unit) {
  const result = new Date(date)
  switch (unit) {
    case 'year':
      result.setFullYear(result.getFullYear() + value)
      break
    case 'month':
      result.setMonth(result.getMonth() + value)
      break
    case 'day':
      result.setDate(result.getDate() + value)
      break
    case 'hour':
      result.setHours(result.getHours() + value)
      break
    case 'minute':
      result.setMinutes(result.getMinutes() + value)
      break
  }
  return result
}
```

### æ—¥æœŸæ¯”è¾ƒ

```javascript
const date1 = new Date('2025-01-15')
const date2 = new Date('2025-01-20')

// æ¯”è¾ƒï¼ˆè½¬ä¸ºæ—¶é—´æˆ³ï¼‰
date1 < date2 // true
date1 > date2 // false
date1.getTime() === date2.getTime() // false

// åˆ¤æ–­æ˜¯å¦åŒä¸€å¤©
function isSameDay(d1, d2) {
  return (
    d1.getFullYear() === d2.getFullYear() &&
    d1.getMonth() === d2.getMonth() &&
    d1.getDate() === d2.getDate()
  )
}

// åˆ¤æ–­æ˜¯å¦ä»Šå¤©
function isToday(date) {
  return isSameDay(date, new Date())
}

// åˆ¤æ–­æ˜¯å¦é—°å¹´
function isLeapYear(year) {
  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0
}

isLeapYear(2024) // true
isLeapYear(2025) // false
```

## å®ç”¨å‡½æ•°

### è·å–ç‰¹å®šæ—¥æœŸ

```javascript
// è·å–ä»Šå¤©çš„å¼€å§‹å’Œç»“æŸ
function getStartOfDay(date = new Date()) {
  const result = new Date(date)
  result.setHours(0, 0, 0, 0)
  return result
}

function getEndOfDay(date = new Date()) {
  const result = new Date(date)
  result.setHours(23, 59, 59, 999)
  return result
}

// è·å–æœ¬å‘¨ä¸€
function getMonday(date = new Date()) {
  const result = new Date(date)
  const day = result.getDay()
  const diff = day === 0 ? -6 : 1 - day
  result.setDate(result.getDate() + diff)
  return getStartOfDay(result)
}

// è·å–æœ¬æœˆç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©
function getFirstDayOfMonth(date = new Date()) {
  return new Date(date.getFullYear(), date.getMonth(), 1)
}

function getLastDayOfMonth(date = new Date()) {
  return new Date(date.getFullYear(), date.getMonth() + 1, 0)
}

// è·å–æŸæœˆçš„å¤©æ•°
function getDaysInMonth(year, month) {
  return new Date(year, month + 1, 0).getDate()
}
```

### ç›¸å¯¹æ—¶é—´

```javascript
function timeAgo(date) {
  const now = new Date()
  const past = new Date(date)
  const diffMs = now - past
  const diffSeconds = Math.floor(diffMs / 1000)
  const diffMinutes = Math.floor(diffSeconds / 60)
  const diffHours = Math.floor(diffMinutes / 60)
  const diffDays = Math.floor(diffHours / 24)
  const diffMonths = Math.floor(diffDays / 30)
  const diffYears = Math.floor(diffDays / 365)

  if (diffSeconds < 60) return 'åˆšåˆš'
  if (diffMinutes < 60) return `${diffMinutes}åˆ†é’Ÿå‰`
  if (diffHours < 24) return `${diffHours}å°æ—¶å‰`
  if (diffDays < 30) return `${diffDays}å¤©å‰`
  if (diffMonths < 12) return `${diffMonths}ä¸ªæœˆå‰`
  return `${diffYears}å¹´å‰`
}

timeAgo(new Date(Date.now() - 1000 * 60 * 5)) // '5åˆ†é’Ÿå‰'
timeAgo(new Date(Date.now() - 1000 * 60 * 60 * 3)) // '3å°æ—¶å‰'
```

### å€’è®¡æ—¶

```javascript
function countdown(targetDate) {
  const now = new Date()
  const target = new Date(targetDate)
  const diff = target - now

  if (diff <= 0) {
    return { days: 0, hours: 0, minutes: 0, seconds: 0 }
  }

  return {
    days: Math.floor(diff / (1000 * 60 * 60 * 24)),
    hours: Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
    minutes: Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)),
    seconds: Math.floor((diff % (1000 * 60)) / 1000),
  }
}

countdown('2025-02-01')
// { days: 17, hours: 13, minutes: 29, seconds: 15 }
```

## æ³¨æ„äº‹é¡¹

### æœˆä»½ä» 0 å¼€å§‹

```javascript
// ğŸ”¶ æœ€å¸¸è§çš„é”™è¯¯
new Date(2025, 1, 15) // 2æœˆ15æ—¥ï¼Œä¸æ˜¯1æœˆ15æ—¥ï¼

// âœ… æ­£ç¡®å†™æ³•
new Date(2025, 0, 15) // 1æœˆ15æ—¥
new Date('2025-01-15') // ä½¿ç”¨å­—ç¬¦ä¸²é¿å…æ··æ·†
```

### æ—¶åŒºé—®é¢˜

```javascript
// å­—ç¬¦ä¸²è§£æçš„æ—¶åŒºå·®å¼‚
new Date('2025-01-15') // UTC æ—¶é—´
new Date('2025-01-15T00:00:00') // æœ¬åœ°æ—¶é—´

// å»ºè®®ï¼šæ˜ç¡®æŒ‡å®šæ—¶åŒº
new Date('2025-01-15T00:00:00+08:00') // æ˜ç¡®åŒ—äº¬æ—¶é—´
```

### Date å¯¹è±¡æ˜¯å¯å˜çš„

```javascript
const date = new Date('2025-01-15')
const copy = date // ğŸ”¶ è¿™åªæ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å¤åˆ¶ï¼

copy.setDate(20)
console.log(date.getDate()) // 20ï¼ŒåŸå¯¹è±¡ä¹Ÿè¢«ä¿®æ”¹äº†

// âœ… æ­£ç¡®å¤åˆ¶
const realCopy = new Date(date)
const realCopy2 = new Date(date.getTime())
```

## æ€»ç»“

| æ–¹æ³•                       | è¯´æ˜             |
| -------------------------- | ---------------- |
| `new Date()`               | å½“å‰æ—¶é—´         |
| `Date.now()`               | å½“å‰æ—¶é—´æˆ³       |
| `getFullYear/Month/Date`   | è·å–å¹´/æœˆ/æ—¥     |
| `getHours/Minutes/Seconds` | è·å–æ—¶/åˆ†/ç§’     |
| `setFullYear/Month/Date`   | è®¾ç½®å¹´/æœˆ/æ—¥     |
| `toLocaleDateString`       | æœ¬åœ°åŒ–æ—¥æœŸå­—ç¬¦ä¸² |
| `toISOString`              | ISO æ ¼å¼å­—ç¬¦ä¸²   |
| `getTime`                  | è·å–æ—¶é—´æˆ³       |

**æ ¸å¿ƒè¦ç‚¹**ï¼š

- æœˆä»½ä» 0 å¼€å§‹ï¼ˆ0=ä¸€æœˆï¼Œ11=åäºŒæœˆï¼‰
- æ¨èä½¿ç”¨ ISO æ ¼å¼å­—ç¬¦ä¸²åˆ›å»ºæ—¥æœŸ
- Date å¯¹è±¡æ˜¯å¯å˜çš„ï¼Œéœ€è¦æ³¨æ„å¤åˆ¶
- æ—¶åŒºé—®é¢˜éœ€è¦ç‰¹åˆ«å…³æ³¨
- å¤æ‚æ—¥æœŸæ“ä½œè€ƒè™‘ä½¿ç”¨ day.js ç­‰åº“
