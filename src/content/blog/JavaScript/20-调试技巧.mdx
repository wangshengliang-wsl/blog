---
title: 'è°ƒè¯•æŠ€å·§'
description: 'æŒæ¡ JavaScript è°ƒï¿½ï¿½æ–¹æ³•ï¼Œå­¦ä¼šä½¿ç”¨ consoleã€æ–­ç‚¹å’Œæ€§èƒ½åˆ†æå·¥å…·'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'è°ƒè¯•', 'console', 'DevTools']
---

è°ƒè¯•æ˜¯å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„æŠ€èƒ½ã€‚æŒæ¡è°ƒè¯•å·¥å…·å’ŒæŠ€å·§ï¼Œèƒ½å¤§å¤§æé«˜é—®é¢˜å®šä½å’Œè§£å†³çš„æ•ˆç‡ã€‚

## ğŸ¯ Console æ–¹æ³•

### åŸºç¡€è¾“å‡º

```javascript
// æ™®é€šæ—¥å¿—
console.log('æ™®é€šä¿¡æ¯')

// ä¿¡æ¯
console.info('æç¤ºä¿¡æ¯')

// è­¦å‘Š
console.warn('è­¦å‘Šä¿¡æ¯')

// é”™è¯¯
console.error('é”™è¯¯ä¿¡æ¯')

// è°ƒè¯•ï¼ˆæŸäº›ç¯å¢ƒå¯èƒ½è¢«è¿‡æ»¤ï¼‰
console.debug('è°ƒè¯•ä¿¡æ¯')
```

### æ ¼å¼åŒ–è¾“å‡º

```javascript
// å­—ç¬¦ä¸²æ›¿æ¢
console.log('ç”¨æˆ· %s çš„å¹´é¾„æ˜¯ %d', 'å¼ ä¸‰', 25)
// ç”¨æˆ· å¼ ä¸‰ çš„å¹´é¾„æ˜¯ 25

// %s - å­—ç¬¦ä¸²
// %d / %i - æ•´æ•°
// %f - æµ®ç‚¹æ•°
// %o - å¯¹è±¡
// %O - å¯¹è±¡ï¿½ï¿½å¯å±•å¼€ï¼‰
// %c - CSS æ ·å¼

// æ ·å¼åŒ–è¾“å‡º
console.log('%cé‡è¦ä¿¡æ¯', 'color: red; font-size: 20px; font-weight: bold;')

// å¤šç§æ ·å¼
console.log(
  '%cæˆåŠŸ %cè­¦å‘Š %cé”™è¯¯',
  'color: green',
  'color: orange',
  'color: red'
)
```

### å¯¹è±¡å’Œæ•°ç»„

```javascript
const user = { name: 'å¼ ä¸‰', age: 25 }
const users = [
  { name: 'å¼ ä¸‰', age: 25 },
  { name: 'æå››', age: 30 },
]

// ç›´æ¥è¾“å‡º
console.log(user)

// ä»¥ç›®å½•å½¢å¼å±•ç¤º
console.dir(user)

// è¡¨æ ¼å½¢å¼ï¼ˆæ•°ç»„/å¯¹è±¡ï¼‰
console.table(users)
console.table(users, ['name']) // åªæ˜¾ç¤º name åˆ—
```

### åˆ†ç»„

```javascript
// åˆ†ç»„
console.group('ç”¨æˆ·ä¿¡æ¯')
console.log('å§“å: å¼ ä¸‰')
console.log('å¹´é¾„: 25')
console.groupEnd()

// é»˜è®¤æŠ˜å çš„åˆ†ç»„
console.groupCollapsed('è¯¦ç»†æ—¥å¿—')
console.log('è¯¦ç»†ä¿¡æ¯1')
console.log('è¯¦ç»†ä¿¡æ¯2')
console.groupEnd()

// åµŒå¥—åˆ†ç»„
console.group('å¤–å±‚')
console.log('å¤–å±‚ä¿¡æ¯')
console.group('å†…å±‚')
console.log('å†…å±‚ä¿¡æ¯')
console.groupEnd()
console.groupEnd()
```

### è®¡æ—¶

```javascript
// è®¡æ—¶å™¨
console.time('æ“ä½œè€—æ—¶')
// æ‰§è¡Œä¸€äº›æ“ä½œ
for (let i = 0; i < 1000000; i++) {}
console.timeEnd('æ“ä½œè€—æ—¶')
// æ“ä½œè€—æ—¶: 2.123ms

// æ—¶é—´æˆ³
console.timeLog('æ“ä½œè€—æ—¶', 'ä¸­é—´çŠ¶æ€')
// æ“ä½œè€—æ—¶: 1.234ms ä¸­é—´çŠ¶æ€

// æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
console.timeStamp('æ ‡è®°ç‚¹') // åœ¨ Performance é¢æ¿æ˜¾ç¤º
```

### è®¡æ•°

```javascript
function process(item) {
  console.count('process è¢«è°ƒç”¨')
  // ...
}

process('a') // process è¢«è°ƒç”¨: 1
process('b') // process è¢«è°ƒç”¨: 2
process('c') // process è¢«è°ƒç”¨: 3

// å¸¦æ ‡ç­¾çš„è®¡æ•°
console.count('æ ‡ç­¾A') // æ ‡ç­¾A: 1
console.count('æ ‡ç­¾B') // æ ‡ç­¾B: 1
console.count('æ ‡ç­¾A') // æ ‡ç­¾A: 2

// é‡ç½®è®¡æ•°
console.countReset('æ ‡ç­¾A')
console.count('æ ‡ç­¾A') // æ ‡ç­¾A: 1
```

### æ–­è¨€

```javascript
// æ¡ä»¶ä¸º false æ—¶è¾“å‡ºé”™è¯¯
console.assert(1 === 1, 'è¿™ä¸ä¼šæ˜¾ç¤º')
console.assert(1 === 2, '1 ä¸ç­‰äº 2')
// Assertion failed: 1 ä¸ç­‰äº 2

// ç”¨äºå‚æ•°éªŒè¯
function greet(name) {
  console.assert(typeof name === 'string', 'name å¿…é¡»æ˜¯å­—ç¬¦ä¸²')
  console.log(`ä½ å¥½ï¼Œ${name}`)
}
```

### è°ƒç”¨æ ˆ

```javascript
function first() {
  second()
}

function second() {
  third()
}

function third() {
  console.trace('è°ƒç”¨æ ˆ')
}

first()
// è¾“å‡ºï¼š
// third
// second
// first
// (anonymous)
```

### æ¸…ç©ºæ§åˆ¶å°

```javascript
console.clear()
```

## æ–­ç‚¹è°ƒè¯•

### debugger è¯­å¥

```javascript
function calculateTotal(items) {
  debugger // ä»£ç æ‰§è¡Œåˆ°æ­¤å¤„æš‚åœ

  let total = 0
  for (const item of items) {
    total += item.price * item.quantity
  }
  return total
}
```

### æ¡ä»¶æ–­ç‚¹

åœ¨ DevTools ä¸­å³é”®è¡Œå·è®¾ç½®ï¼š

```javascript
// è®¾ç½®æ¡ä»¶ï¼ši === 50
for (let i = 0; i < 100; i++) {
  process(i) // åªåœ¨ i === 50 æ—¶æš‚åœ
}
```

### æ—¥å¿—æ–­ç‚¹

åœ¨ DevTools ä¸­å³é”®è¡Œå·æ·»åŠ æ—¥å¿—ç‚¹ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼š

```javascript
// æ·»åŠ æ—¥å¿—ç‚¹ï¼š`å½“å‰å€¼: ${value}`
function process(value) {
  return value * 2
}
```

### ç›‘è§†è¡¨è¾¾å¼

åœ¨ Sources é¢æ¿çš„ Watch åŒºåŸŸæ·»åŠ ï¼š

```javascript
// ç›‘è§†ä»¥ä¸‹è¡¨è¾¾å¼
user.name
items.length
total > 100
```

## ç½‘ç»œè°ƒè¯•

### æŸ¥çœ‹è¯·æ±‚

```javascript
// åœ¨ Network é¢æ¿æŸ¥çœ‹
fetch('/api/users')
  .then((response) => response.json())
  .then((data) => console.log(data))
```

### æ¨¡æ‹Ÿç½‘ç»œçŠ¶å†µ

- Network é¢æ¿ â†’ Throttling
- é€‰æ‹© Slow 3G / Offline ç­‰

### å¤åˆ¶è¯·æ±‚

- å³é”®è¯·æ±‚ â†’ Copy â†’ Copy as fetch
- å¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°ç²˜è´´é‡æ”¾

## æ€§èƒ½åˆ†æ

### console.time

```javascript
console.time('æ•°ç»„æ“ä½œ')

const arr = []
for (let i = 0; i < 100000; i++) {
  arr.push(i)
}

console.timeEnd('æ•°ç»„æ“ä½œ')
```

### Performance é¢æ¿

```javascript
// å¼€å§‹è®°å½•
console.profile('æ€§èƒ½åˆ†æ')

// æ‰§è¡Œä»£ç 
heavyOperation()

// ç»“æŸè®°å½•
console.profileEnd('æ€§èƒ½åˆ†æ')
```

### performance API

```javascript
// æ€§èƒ½æ ‡è®°
performance.mark('start')

// æ‰§è¡Œæ“ä½œ
doSomething()

performance.mark('end')

// æµ‹é‡
performance.measure('æ“ä½œè€—æ—¶', 'start', 'end')

// è·å–æµ‹é‡ï¿½ï¿½ï¿½æœ
const measures = performance.getEntriesByName('æ“ä½œè€—æ—¶')
console.log(measures[0].duration)

// æ¸…é™¤
performance.clearMarks()
performance.clearMeasures()
```

### å†…å­˜åˆ†æ

```javascript
// æŸ¥çœ‹å†…å­˜ä½¿ç”¨
console.log(performance.memory)
// {
//   usedJSHeapSize: 10000000,
//   totalJSHeapSize: 35000000,
//   jsHeapSizeLimit: 2172649472
// }

// Memory é¢æ¿ï¼š
// - Heap snapshotï¼šå †å¿«ç…§
// - Allocation instrumentationï¼šåˆ†é…æ—¶é—´çº¿
// - Allocation samplingï¼šåˆ†é…é‡‡æ ·
```

## è°ƒè¯•æŠ€å·§

### å¿«é€Ÿå®šä½å…ƒç´ 

```javascript
// åœ¨ Elements é¢æ¿é€‰ä¸­å…ƒç´ å
$0 // å½“å‰é€‰ä¸­çš„å…ƒç´ 
$1 // ä¸Šä¸€ä¸ªé€‰ä¸­çš„å…ƒç´ 
;($2, $3, $4) // æ›´æ—©é€‰ä¸­çš„å…ƒç´ 

// å¿«æ·é€‰æ‹©å™¨
$('selector') // document.querySelector
$$('selector') // document.querySelectorAll
```

### ç›‘æ§å…ƒç´ å˜åŒ–

```javascript
// åœ¨ Elements é¢æ¿å³é”®å…ƒç´ 
// - Break on subtree modifications
// - Break on attribute modifications
// - Break on node removal
```

### ç›‘æ§å‡½æ•°è°ƒç”¨

```javascript
// ç›‘æ§å‡½æ•°è¢«è°ƒç”¨
function add(a, b) {
  return a + b
}

monitor(add)
add(1, 2)
// function add called with arguments: 1, 2

unmonitor(add)
```

### ç›‘æ§äº‹ä»¶

```javascript
// ç›‘æ§å…ƒç´ çš„æ‰€æœ‰äº‹ä»¶
monitorEvents(document.body)

// ç›‘æ§ç‰¹å®šäº‹ä»¶
monitorEvents(document.body, 'click')
monitorEvents(document.body, ['click', 'keydown'])

// åœæ­¢ç›‘æ§
unmonitorEvents(document.body)
```

### è·å–äº‹ä»¶ç›‘å¬å™¨

```javascript
// è·å–å…ƒç´ çš„æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
getEventListeners(document.body)
// {click: Array(2), scroll: Array(1), ...}
```

### å¤åˆ¶åˆ°å‰ªè´´æ¿

```javascript
// å¤åˆ¶å¯¹è±¡åˆ°å‰ªè´´æ¿
copy({ name: 'å¼ ä¸‰', age: 25 })
// ç„¶åå¯ä»¥ç²˜è´´åˆ°å…¶ä»–åœ°æ–¹
```

### æŸ¥çœ‹å¯¹è±¡ç»“æ„

```javascript
// åœ¨æ§åˆ¶å°è¾“å…¥å¯¹è±¡åï¼ŒæŒ‰ Tab æŸ¥çœ‹å±æ€§
// æˆ–ä½¿ç”¨ keys/values
keys(document.body)
values(document.body)
```

## è°ƒè¯•æ¨¡å¼

### Source Maps

```javascript
// åœ¨æ‰“åŒ…å·¥å…·ä¸­å¯ç”¨ source map
// webpack.config.js
module.exports = {
  devtool: 'source-map', // å¼€å‘ç¯å¢ƒ
  // devtool: 'hidden-source-map',  // ç”Ÿäº§ç¯å¢ƒ
}

// ç„¶åå¯ä»¥åœ¨ DevTools ä¸­è°ƒè¯•åŸå§‹ä»£ç 
```

### æ¡ä»¶æ—¥å¿—

```javascript
// å¼€å‘ç¯å¢ƒæ—¥å¿—
const isDev = process.env.NODE_ENV === 'development'

const log = {
  info: (...args) => isDev && console.log(...args),
  warn: (...args) => isDev && console.warn(...args),
  error: (...args) => console.error(...args), // é”™è¯¯æ€»æ˜¯æ˜¾ç¤º
}

log.info('å¼€å‘ä¿¡æ¯') // åªåœ¨å¼€å‘ç¯å¢ƒæ˜¾ç¤º
```

### æ—¥å¿—çº§åˆ«

```javascript
const LogLevel = {
  DEBUG: 0,
  INFO: 1,
  WARN: 2,
  ERROR: 3,
}

class Logger {
  constructor(level = LogLevel.INFO) {
    this.level = level
  }

  debug(...args) {
    if (this.level <= LogLevel.DEBUG) {
      console.debug('[DEBUG]', ...args)
    }
  }

  info(...args) {
    if (this.level <= LogLevel.INFO) {
      console.info('[INFO]', ...args)
    }
  }

  warn(...args) {
    if (this.level <= LogLevel.WARN) {
      console.warn('[WARN]', ...args)
    }
  }

  error(...args) {
    console.error('[ERROR]', ...args)
  }
}

const logger = new Logger(LogLevel.DEBUG)
logger.debug('è°ƒè¯•ä¿¡æ¯')
logger.info('æ™®é€šä¿¡æ¯')
```

## å¸¸è§é—®é¢˜è°ƒè¯•

### ï¿½ï¿½ï¿½æ­¥é—®é¢˜

```javascript
// ä½¿ç”¨ async/await æ›´å®¹æ˜“è°ƒè¯•
async function fetchData() {
  console.log('å¼€å§‹è¯·æ±‚')
  const response = await fetch('/api/data')
  console.log('å“åº”çŠ¶æ€:', response.status)
  const data = await response.json()
  console.log('æ•°æ®:', data)
  return data
}

// Promise é“¾ä¸­çš„è°ƒè¯•
fetch('/api/data')
  .then((response) => {
    console.log('å“åº”:', response)
    return response.json()
  })
  .then((data) => {
    console.log('æ•°æ®:', data)
    return data
  })
  .catch((error) => {
    console.error('é”™è¯¯:', error)
  })
```

### this é—®é¢˜

```javascript
const obj = {
  name: 'å¯¹è±¡',
  method() {
    console.log('method this:', this)

    setTimeout(function () {
      console.log('setTimeout this:', this)
    }, 100)

    setTimeout(() => {
      console.log('ç®­å¤´å‡½æ•° this:', this)
    }, 100)
  },
}

obj.method()
```

### ä½œç”¨åŸŸé—®é¢˜

```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(() => {
    console.log('var i:', i) // 3, 3, 3
  }, 100)
}

for (let j = 0; j < 3; j++) {
  setTimeout(() => {
    console.log('let j:', j) // 0, 1, 2
  }, 100)
}
```

## æ€»ç»“

| æ–¹æ³•           | ç”¨é€”              |
| -------------- | ----------------- |
| console.log    | æ™®é€šæ—¥å¿—          |
| console.table  | è¡¨æ ¼æ˜¾ç¤ºæ•°ç»„/å¯¹è±¡ |
| console.time   | è®¡æ—¶              |
| console.trace  | æ˜¾ç¤ºè°ƒç”¨æ ˆ        |
| console.assert | æ–­è¨€              |
| console.group  | åˆ†ç»„              |
| debugger       | ä»£ç æ–­ç‚¹          |

| å·¥å…·        | åŠŸèƒ½           |
| ----------- | -------------- |
| Elements    | DOM å’Œæ ·å¼è°ƒè¯• |
| Console     | æ—¥å¿—å’Œäº¤äº’     |
| Sources     | ä»£ç å’Œæ–­ç‚¹     |
| Network     | ç½‘ç»œè¯·æ±‚       |
| Performance | æ€§èƒ½åˆ†æ       |
| Memory      | å†…å­˜åˆ†æ       |

**æ ¸å¿ƒè¦ç‚¹**ï¼š

- å–„ç”¨ console çš„å„ç§æ–¹æ³•
- æ–­ç‚¹æ¯” console.log æ›´é«˜æ•ˆ
- æ¡ä»¶æ–­ç‚¹å’Œæ—¥å¿—æ–­ç‚¹å¾ˆæœ‰ç”¨
- ä½¿ç”¨ Source Maps è°ƒè¯•åŸå§‹ä»£ç 
- å¼€å‘ç¯å¢ƒå¯ç”¨è¯¦ç»†æ—¥å¿—ï¼Œç”Ÿäº§ç¯å¢ƒå…³é—­
