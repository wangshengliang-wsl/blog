---
title: 'ç±»å‹è½¬æ¢'
description: 'æ·±å…¥ç†è§£ JavaScript çš„éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢è§„åˆ™ï¼Œé¿å¼€å¸¸è§çš„ç±»å‹é™·é˜±'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'ç±»å‹è½¬æ¢', 'éšå¼è½¬æ¢', 'æ˜¾å¼è½¬æ¢']
---

JavaScript æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œä¼šåœ¨è¿ç®—æ—¶è‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚ç†è§£è¿™äº›è§„åˆ™ï¼Œèƒ½å¸®ä½ é¿å¼€å¾ˆå¤šå‘ã€‚

## ğŸ¯ ä¸¤ç§è½¬æ¢æ–¹å¼

- **æ˜¾å¼è½¬æ¢**ï¼šå¼€å‘è€…ä¸»åŠ¨è°ƒç”¨è½¬æ¢å‡½æ•°
- **éšå¼è½¬æ¢**ï¼šè¿ç®—ç¬¦æˆ–è¯­å¥è‡ªåŠ¨è§¦å‘

```javascript
// æ˜¾å¼è½¬æ¢
const num = Number('42') // 42
const str = String(42) // "42"
const bool = Boolean(1) // true

// éšå¼è½¬æ¢
const num2 = '42' - 0 // 42
const str2 = 42 + '' // "42"
const bool2 = !!'hello' // true
```

## è½¬ä¸ºæ•°å­—

### Number() å‡½æ•°

```javascript
// å­—ç¬¦ä¸²
Number('42') // 42
Number('3.14') // 3.14
Number('42px') // NaNï¼ˆæ— æ³•å®Œå…¨è§£æï¼‰
Number('') // 0
Number('  ') // 0ï¼ˆç©ºç™½å­—ç¬¦ä¸²ï¼‰

// å¸ƒå°”å€¼
Number(true) // 1
Number(false) // 0

// null å’Œ undefined
Number(null) // 0
Number(undefined) // NaN

// å¯¹è±¡
Number({}) // NaN
Number([]) // 0ï¼ˆç©ºæ•°ç»„ï¼‰
Number([1]) // 1ï¼ˆå•å…ƒç´ æ•°ç»„ï¼‰
Number([1, 2]) // NaNï¼ˆå¤šå…ƒç´ æ•°ç»„ï¼‰
```

### parseInt å’Œ parseFloat

```javascript
// parseIntï¼šè§£ææ•´æ•°
parseInt('42') // 42
parseInt('42.9') // 42ï¼ˆæˆªæ–­å°æ•°ï¼‰
parseInt('42px') // 42ï¼ˆèƒ½è§£æå‰é¢çš„æ•°å­—ï¼‰
parseInt('px42') // NaNï¼ˆå¼€å¤´ä¸æ˜¯æ•°å­—ï¼‰
parseInt('  42  ') // 42ï¼ˆå¿½ç•¥ç©ºç™½ï¼‰

// æŒ‡å®šè¿›åˆ¶
parseInt('ff', 16) // 255
parseInt('1010', 2) // 10
parseInt('077', 8) // 63

// ğŸ”¶ ä¸æŒ‡å®šè¿›åˆ¶çš„å‘
parseInt('08') // 8ï¼ˆç°ä»£æµè§ˆå™¨ï¼‰
// æ—§æµè§ˆå™¨å¯èƒ½è§£æä¸ºå…«è¿›åˆ¶çš„ 0

// parseFloatï¼šè§£ææµ®ç‚¹æ•°
parseFloat('3.14') // 3.14
parseFloat('3.14.15') // 3.14ï¼ˆåˆ°ç¬¬ä¸€ä¸ªæ— æ•ˆå­—ç¬¦åœæ­¢ï¼‰
parseFloat('314e-2') // 3.14ï¼ˆæ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼‰
```

### éšå¼è½¬æ•°å­—

```javascript
// ä¸€å…ƒ + è¿ç®—ç¬¦
;+'42' + // 42
  true + // 1
  null + // 0
  undefined + // NaN
  [] + // 0
  {} // NaN

// å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•
'10' - 5 // 5
'10' * 2 // 20
'20' / 4 // 5

// æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆéç›¸ç­‰ï¼‰
'10' > 5 // trueï¼ˆ'10' è½¬ä¸º 10ï¼‰
'10' > '5' // falseï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰
```

## è½¬ä¸ºå­—ç¬¦ä¸²

### String() å‡½æ•°

```javascript
String(42) // "42"
String(3.14) // "3.14"
String(true) // "true"
String(false) // "false"
String(null) // "null"
String(undefined) // "undefined"
String([1, 2, 3]) // "1,2,3"
String({ name: 'test' }) // "[object Object]"
String(Symbol('id')) // "Symbol(id)"
```

### toString() æ–¹æ³•

```javascript
const num = 42
num.toString() // "42"
num.toString(2) // "101010"ï¼ˆäºŒè¿›åˆ¶ï¼‰
num.toString(16) // "2a"ï¼ˆåå…­è¿›åˆ¶ï¼‰

const bool = true
bool.toString() // "true"

const arr = [1, 2, 3]
arr.toString() // "1,2,3"

// ğŸ”¶ null å’Œ undefined æ²¡æœ‰ toString æ–¹æ³•
// null.toString()  // TypeError
// undefined.toString()  // TypeError
```

### éšå¼è½¬å­—ç¬¦ä¸²

```javascript
// åŠ å·è¿æ¥
42 + '' // "42"
true + '' // "true"
null +
  ''[(1, 2)] + // "null"
  '' // "1,2"
  // æ¨¡æ¿å­—ç¬¦ä¸²
  `value: ${42}` // "value: 42"
  `value: ${null}` // "value: null"
  `value: ${[1, 2]}` // "value: 1,2"
```

## è½¬ä¸ºå¸ƒå°”å€¼

### Boolean() å‡½æ•°

åªæœ‰ 6 ä¸ªå‡å€¼ï¼Œå…¶ä½™éƒ½æ˜¯çœŸå€¼ï¼š

```javascript
// å‡å€¼ï¼ˆFalsyï¼‰
Boolean(false) // false
Boolean(0) // false
Boolean(-0) // false
Boolean(0n) // falseï¼ˆBigInt é›¶ï¼‰
Boolean('') // false
Boolean(null) // false
Boolean(undefined) // false
Boolean(NaN) // false

// çœŸå€¼ï¼ˆTruthyï¼‰
Boolean(true) // true
Boolean(1) // true
Boolean(-1) // true
Boolean('0') // trueï¼ˆéç©ºå­—ç¬¦ä¸²ï¼‰
Boolean('false') // trueï¼ˆéç©ºå­—ç¬¦ä¸²ï¼‰
Boolean([]) // trueï¼ˆç©ºæ•°ç»„ï¼‰
Boolean({}) // trueï¼ˆç©ºå¯¹è±¡ï¼‰
Boolean(function () {}) // true
```

### éšå¼è½¬å¸ƒå°”

```javascript
// åŒé‡å¦å®š
!!'hello' // true
!!0 // false
!!null // false
!![] // true

// æ¡ä»¶è¯­å¥
if ('hello') console.log('çœŸå€¼')
if (0) console.log('ä¸ä¼šæ‰§è¡Œ')

// é€»è¾‘è¿ç®—
'hello' && 'world' // "world"ï¼ˆéƒ½æ˜¯çœŸå€¼ï¼‰
'' && 'world' // ""ï¼ˆç¬¬ä¸€ä¸ªæ˜¯å‡å€¼ï¼‰
'hello' || 'world' // "hello"ï¼ˆç¬¬ä¸€ä¸ªæ˜¯çœŸå€¼ï¼‰
'' || 'world' // "world"
```

## å¯¹è±¡è½¬åŸå§‹å€¼

å¯¹è±¡è½¬åŸå§‹å€¼éµå¾ª ToPrimitive è§„åˆ™ã€‚

### è½¬æ¢æµç¨‹

```javascript
// è½¬æ•°å­—æ—¶çš„è°ƒç”¨é¡ºåºï¼švalueOf() â†’ toString()
const obj = {
  valueOf() {
    console.log('valueOf')
    return 42
  },
  toString() {
    console.log('toString')
    return 'hello'
  },
}

console.log(+obj) // valueOf â†’ 42
console.log(`${obj}`) // toString â†’ "hello"ï¼ˆå­—ç¬¦ä¸²ä¸Šä¸‹æ–‡ä¼˜å…ˆ toStringï¼‰
```

### è‡ªå®šä¹‰è½¬æ¢

```javascript
// Symbol.toPrimitive ä¼˜å…ˆçº§æœ€é«˜
const obj = {
  [Symbol.toPrimitive](hint) {
    console.log(`hint: ${hint}`)
    if (hint === 'number') return 42
    if (hint === 'string') return 'hello'
    return true // default
  },
}

console.log(+obj) // hint: number â†’ 42
console.log(`${obj}`) // hint: string â†’ "hello"
console.log(obj + '') // hint: default â†’ "true"
```

### å¸¸è§å¯¹è±¡è½¬æ¢

```javascript
// æ•°ç»„
console.log([1, 2, 3] + '') // "1,2,3"
console.log(+[]) // 0ï¼ˆ[] â†’ "" â†’ 0ï¼‰
console.log(+[1]) // 1ï¼ˆ[1] â†’ "1" â†’ 1ï¼‰
console.log(+[1, 2]) // NaNï¼ˆ[1,2] â†’ "1,2" â†’ NaNï¼‰

// å¯¹è±¡
console.log({} + '') // "[object Object]"
console.log(+{}) // NaN

// Date å¯¹è±¡ç‰¹æ®Šï¼šé»˜è®¤è½¬å­—ç¬¦ä¸²
const date = new Date()
console.log(date + '') // "Tue Dec 03 2025 ..."
console.log(+date) // 1733212800000ï¼ˆæ—¶é—´æˆ³ï¼‰
```

## ç›¸ç­‰æ¯”è¾ƒçš„ç±»å‹è½¬æ¢

### == çš„è½¬æ¢è§„åˆ™

```javascript
// 1. ç›¸åŒç±»å‹ï¼šç›´æ¥æ¯”ï¿½ï¿½
5 == 5 // true
'hello' == 'hello' // true

// 2. null å’Œ undefinedï¼šç›¸äº’ç›¸ç­‰
null == undefined // true
null == null // true
undefined == undefined // true

// 3. æ•°å­—å’Œå­—ç¬¦ä¸²ï¼šå­—ç¬¦ä¸²è½¬æ•°å­—
5 == '5' // trueï¼ˆ'5' â†’ 5ï¼‰
0 == '' // trueï¼ˆ'' â†’ 0ï¼‰

// 4. å¸ƒå°”å’Œå…¶ä»–ï¼šå¸ƒå°”å…ˆè½¬æ•°å­—
true == 1 // trueï¼ˆtrue â†’ 1ï¼‰
false == 0 // trueï¼ˆfalse â†’ 0ï¼‰
true == '1' // trueï¼ˆtrue â†’ 1ï¼Œ'1' â†’ 1ï¼‰
;(((false ==
  ''[// 5. å¯¹è±¡å’ŒåŸå§‹å€¼ï¼šå¯¹è±¡è½¬åŸå§‹å€¼ // trueï¼ˆfalse â†’ 0ï¼Œ'' â†’ 0ï¼‰
  1]) ==
  (1)['1']) == // trueï¼ˆ[1] â†’ "1" â†’ 1ï¼‰
  (1)[(1, 2)]) == // true
  '1,2' // true
```

### ç»å…¸é™·é˜±

```javascript
// è®©äººå›°æƒ‘çš„ç›¸ç­‰
console.log([] == false) // true
console.log([] == ![]) // trueï¼
// [] â†’ "" â†’ 0
// ![] â†’ false â†’ 0
// 0 == 0 â†’ true

console.log(null == false) // falseï¼ˆnull åªç­‰äº undefinedï¼‰
console.log(undefined == false) // false

// æ›´å¤šé™·é˜±
console.log(' \t\n' == 0) // trueï¼ˆç©ºç™½å­—ç¬¦ä¸²è½¬ä¸º 0ï¼‰
console.log('0' == false) // true
console.log('0' == 0) // true
console.log(false == 0) // true
// ä½†æ˜¯
console.log('0' == false) // true
console.log('0' == '') // falseï¼
```

## åŠ æ³•çš„ç±»å‹è½¬æ¢

åŠ æ³•æ˜¯æœ€å¤æ‚çš„è¿ç®—ç¬¦ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š

```javascript
// è§„åˆ™1ï¼šæœ‰å­—ç¬¦ä¸²åˆ™è¿æ¥
'hello' + 'world' // "helloworld"
'hello' + 42 // "hello42"
42 + 'hello' // "42hello"

// è§„åˆ™2ï¼šæ— å­—ç¬¦ä¸²åˆ™è½¬æ•°å­—ç›¸åŠ 
true + true // 2
true + false // 1
null + 1 // 1
undefined + 1 // NaN

// è§„åˆ™3ï¼šå¯¹è±¡å…ˆè½¬åŸå§‹å€¼
[1, 2] + [3, 4] // "1,23,4"ï¼ˆéƒ½è½¬ä¸ºå­—ç¬¦ä¸²ï¼‰
{} + [] // 0ï¼ˆ{}è¢«è§£æä¸ºç©ºå—ï¼Œ+[] = 0ï¼‰
;({}) + [] // "[object Object]"
[] + {} // "[object Object]"

// ç»å…¸é¢˜ç›®
console.log(1 + '2' + 3) // "123"
console.log(1 + 2 + '3') // "33"
console.log('1' + 2 + 3) // "123"
```

## å®æˆ˜æŠ€å·§

### å®‰å…¨çš„ç±»å‹è½¬æ¢

```javascript
// è½¬æ•°å­—
function toNumber(value) {
  const num = Number(value)
  return Number.isNaN(num) ? 0 : num
}

// è½¬æ•´æ•°
function toInteger(value) {
  return Math.floor(Number(value)) || 0
}

// è½¬å­—ç¬¦ä¸²ï¼ˆå¤„ç† null/undefinedï¼‰
function toString(value) {
  if (value == null) return ''
  return String(value)
}

// è½¬å¸ƒå°”ï¼ˆæ˜ç¡®çœŸå‡å€¼ï¼‰
function toBoolean(value) {
  return value != null && value !== '' && value !== 0 && value !== false
}
```

### åˆ¤æ–­ç©ºå€¼

```javascript
// åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼ˆnull æˆ– undefinedï¼‰
function isNullish(value) {
  return value == null // åˆ©ç”¨ == çš„ç‰¹æ€§
}

// åˆ¤æ–­æ˜¯å¦ä¸ºå‡å€¼
function isFalsy(value) {
  return !value
}

// åˆ¤æ–­æ˜¯å¦ä¸ºç©ºç™½å­—ç¬¦ä¸²
function isBlank(value) {
  return typeof value === 'string' && value.trim() === ''
}

// åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå¯¹è±¡
function isEmptyObject(obj) {
  return Object.keys(obj).length === 0
}

// åˆ¤æ–­æ˜¯å¦ä¸ºç©ºæ•°ç»„
function isEmptyArray(arr) {
  return Array.isArray(arr) && arr.length === 0
}
```

### é»˜è®¤å€¼å¤„ç†

```javascript
// || çš„é—®é¢˜ï¼š0 å’Œç©ºå­—ç¬¦ä¸²è¢«è§†ä¸ºå‡å€¼
function getPort(config) {
  return config.port || 3000 // port ä¸º 0 æ—¶ä¼šè¿”å› 3000
}

// ?? æ›´å®‰å…¨
function getPortSafe(config) {
  return config.port ?? 3000 // port ä¸º 0 æ—¶è¿”å› 0
}

// å¤æ‚é»˜è®¤å€¼
function getConfig(options) {
  return {
    host: options?.host ?? 'localhost',
    port: options?.port ?? 3000,
    debug: options?.debug ?? false,
  }
}
```

## å¸¸è§é¢è¯•é¢˜

### ğŸ™‹ [] == ![] ä¸ºä»€ä¹ˆæ˜¯ trueï¼Ÿ

```javascript
// æ­¥éª¤åˆ†è§£ï¼š
// 1. ![] å…ˆæ‰§è¡Œï¼Œ[] æ˜¯çœŸå€¼ï¼Œ![] = false
// 2. [] == false
// 3. [] è½¬åŸå§‹å€¼ï¼š[].toString() = ""
// 4. "" == false
// 5. ä¸¤è¾¹è½¬æ•°å­—ï¼š0 == 0
// 6. ç»“æœï¼štrue
```

### ğŸ™‹ {} + [] å’Œ [] + {} çš„åŒºåˆ«ï¼Ÿ

```javascript
// {} + []
// {} è¢«è§£æä¸ºç©ºä»£ç å—
// +[] æ˜¯ä¸€å…ƒåŠ æ“ä½œï¼Œ[] â†’ "" â†’ 0
// ç»“æœï¼š0

// [] + {}
// è¿™æ˜¯äºŒå…ƒåŠ æ³•
// [] â†’ ""
// {} â†’ "[object Object]"
// ç»“æœï¼š"[object Object]"

// å¼ºåˆ¶ {} ä¸ºè¡¨è¾¾å¼
;({}) + [] // "[object Object]"
```

### ğŸ™‹ å¦‚ä½•è®© a == 1 && a == 2 && a == 3 ä¸º trueï¼Ÿ

```javascript
// æ–¹æ¡ˆ1ï¼šè‡ªå®šä¹‰ valueOf
const a = {
  value: 1,
  valueOf() {
    return this.value++
  },
}
console.log(a == 1 && a == 2 && a == 3) // true

// æ–¹æ¡ˆ2ï¼šä½¿ç”¨ getter
let _a = 1
Object.defineProperty(window, 'a', {
  get() {
    return _a++
  },
})
console.log(a == 1 && a == 2 && a == 3) // true

// æ–¹æ¡ˆ3ï¼šæ•°ç»„çš„ join
const b = [1, 2, 3]
b.join = b.shift
console.log(b == 1 && b == 2 && b == 3) // true
```

## æ€»ç»“

| è½¬æ¢ç›®æ ‡ | å¸¸ç”¨æ–¹æ³•         | éšå¼è§¦å‘åœºæ™¯         |
| -------- | ---------------- | -------------------- |
| æ•°å­—     | `Number()` `+x`  | ç®—æœ¯è¿ç®—ã€æ¯”è¾ƒè¿ç®—   |
| å­—ç¬¦ä¸²   | `String()` `""`  | `+` è¿æ¥ã€æ¨¡æ¿å­—ç¬¦ä¸² |
| å¸ƒå°”     | `Boolean()` `!!` | æ¡ä»¶åˆ¤æ–­ã€é€»è¾‘è¿ç®—   |

**æ ¸å¿ƒè¦ç‚¹**ï¿½ï¿½ï¿½

- è®°ä½ 6 ä¸ªå‡å€¼ï¼š`false`ã€`0`ã€`""`ã€`null`ã€`undefined`ã€`NaN`
- `==` ä¼šè§¦å‘ç±»å‹è½¬æ¢ï¼Œ`===` ä¸ä¼š
- å¯¹è±¡è½¬åŸå§‹å€¼ï¼š`Symbol.toPrimitive` > `valueOf` > `toString`
- ä½¿ç”¨ `??` æ›¿ä»£ `||` å¤„ç† `null`/`undefined`
