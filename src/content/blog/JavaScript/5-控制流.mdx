---
title: 'æ§åˆ¶æµè¯­å¥'
description: 'æŒæ¡ JavaScript çš„æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯è¯­å¥ï¼Œå†™å‡ºé€»è¾‘æ¸…æ™°çš„ç¨‹åºæµç¨‹'
pubDate: 2025-12-03
toc: true
ogImage: true
category: 'JavaScript'
tags: ['JavaScript', 'æ§åˆ¶æµ', 'æ¡ä»¶è¯­å¥', 'å¾ªç¯']
---

æ§åˆ¶æµè¯­å¥å†³å®šä»£ç çš„æ‰§è¡Œé¡ºåºã€‚æ¡ä»¶è¯­å¥ç”¨äºåˆ†æ”¯é€‰æ‹©ï¼Œå¾ªç¯è¯­å¥ç”¨äºé‡å¤æ‰§è¡Œã€‚

## ğŸ¯ if è¯­å¥

### åŸºæœ¬ç”¨æ³•

```javascript
const age = 18

if (age >= 18) {
  console.log('æˆå¹´äºº')
}

// if...else
if (age >= 18) {
  console.log('æˆå¹´äºº')
} else {
  console.log('æœªæˆå¹´äºº')
}

// if...else if...else
const score = 85

if (score >= 90) {
  console.log('ä¼˜ç§€')
} else if (score >= 80) {
  console.log('è‰¯å¥½')
} else if (score >= 60) {
  console.log('åŠæ ¼')
} else {
  console.log('ä¸åŠæ ¼')
}
```

### æ¡ä»¶è¡¨è¾¾å¼

```javascript
// ä»»ä½•è¡¨è¾¾å¼éƒ½å¯ä»¥ä½œä¸ºæ¡ä»¶
if (true) console.log('æ‰§è¡Œ')
if (1) console.log('æ‰§è¡Œ') // éé›¶æ•°å­—æ˜¯çœŸå€¼
if ('hello') console.log('æ‰§è¡Œ') // éç©ºå­—ç¬¦ä¸²æ˜¯çœŸå€¼
if ([]) console.log('æ‰§è¡Œ') // ç©ºæ•°ç»„ä¹Ÿæ˜¯çœŸå€¼ï¼
if ({}) console.log('æ‰§è¡Œ') // ç©ºå¯¹è±¡ä¹Ÿæ˜¯çœŸå€¼ï¼

// å‡å€¼ï¼šfalse, 0, "", null, undefined, NaN
if (0) console.log('ä¸æ‰§è¡Œ')
if ('') console.log('ä¸æ‰§è¡Œ')
if (null) console.log('ä¸æ‰§è¡Œ')
```

### ç®€åŒ–å†™æ³•

```javascript
// å•è¡Œè¯­å¥å¯ä»¥çœç•¥èŠ±æ‹¬å·ï¼ˆä¸æ¨èï¼‰
if (age >= 18) console.log('æˆå¹´')

// ä¸‰å…ƒè¿ç®—ç¬¦æ›¿ä»£ç®€å• if...else
const status = age >= 18 ? 'æˆå¹´' : 'æœªæˆå¹´'

// && çŸ­è·¯æ›¿ä»£ if
age >= 18 && console.log('æˆå¹´')

// || çŸ­è·¯è®¾ç½®é»˜è®¤å€¼
const name = inputName || 'æ¸¸å®¢'
```

ğŸ”¶ å§‹ç»ˆä½¿ç”¨èŠ±æ‹¬å·ï¼Œé¿å…åç»­ç»´æŠ¤æ—¶å‡ºé”™ï¼š

```javascript
// å±é™©å†™æ³•
if (condition) doSomething()
doSomethingElse() // è¿™è¡Œæ€»æ˜¯ä¼šæ‰§è¡Œï¼

// å®‰å…¨å†™æ³•
if (condition) {
  doSomething()
  doSomethingElse()
}
```

## switch è¯­å¥

### åŸºæœ¬ç”¨æ³•

```javascript
const day = 3

switch (day) {
  case 1:
    console.log('æ˜ŸæœŸä¸€')
    break
  case 2:
    console.log('æ˜ŸæœŸäºŒ')
    break
  case 3:
    console.log('æ˜ŸæœŸä¸‰')
    break
  default:
    console.log('å…¶ä»–')
}
```

### æ³¨æ„äº‹é¡¹

```javascript
// 1. ä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒ
const value = '1'
switch (value) {
  case 1:
    console.log('æ•°å­—1') // ä¸ä¼šæ‰§è¡Œ
    break
  case '1':
    console.log('å­—ç¬¦ä¸²1') // æ‰§è¡Œè¿™ä¸ª
    break
}

// 2. å¿˜è®° break ä¼šç©¿é€
const fruit = 'apple'
switch (fruit) {
  case 'apple':
    console.log('è‹¹æœ') // æ‰§è¡Œ
  case 'banana':
    console.log('é¦™è•‰') // ä¹Ÿæ‰§è¡Œï¼
    break
  case 'orange':
    console.log('æ©˜å­')
    break
}

// 3. åˆ©ç”¨ç©¿é€åˆå¹¶ case
const month = 2
switch (month) {
  case 1:
  case 3:
  case 5:
  case 7:
  case 8:
  case 10:
  case 12:
    console.log('31å¤©')
    break
  case 4:
  case 6:
  case 9:
  case 11:
    console.log('30å¤©')
    break
  case 2:
    console.log('28æˆ–29å¤©')
    break
}
```

### æ›¿ä»£æ–¹æ¡ˆ

```javascript
// ç”¨å¯¹è±¡æ˜ å°„æ›¿ä»£ switch
const dayNames = {
  1: 'æ˜ŸæœŸä¸€',
  2: 'æ˜ŸæœŸäºŒ',
  3: 'æ˜ŸæœŸä¸‰',
  4: 'æ˜ŸæœŸå››',
  5: 'æ˜ŸæœŸäº”',
  6: 'æ˜ŸæœŸå…­',
  0: 'æ˜ŸæœŸæ—¥',
}

const today = new Date().getDay()
console.log(dayNames[today] ?? 'æœªçŸ¥')

// ç”¨å‡½æ•°æ˜ å°„å¤„ç†å¤æ‚é€»è¾‘
const handlers = {
  add: (a, b) => a + b,
  subtract: (a, b) => a - b,
  multiply: (a, b) => a * b,
  divide: (a, b) => a / b,
}

function calculate(operation, a, b) {
  const handler = handlers[operation]
  if (!handler) throw new Error('æœªçŸ¥æ“ä½œ')
  return handler(a, b)
}
```

## for å¾ªç¯

### åŸºæœ¬è¯­æ³•

```javascript
// for (åˆå§‹åŒ–; æ¡ä»¶; æ›´æ–°)
for (let i = 0; i < 5; i++) {
  console.log(i) // 0, 1, 2, 3, 4
}

// å€’åº
for (let i = 4; i >= 0; i--) {
  console.log(i) // 4, 3, 2, 1, 0
}

// æ­¥é•¿ä¸º 2
for (let i = 0; i < 10; i += 2) {
  console.log(i) // 0, 2, 4, 6, 8
}

// å¤šä¸ªå˜é‡
for (let i = 0, j = 10; i < j; i++, j--) {
  console.log(i, j) // 0 10, 1 9, 2 8, 3 7, 4 6
}
```

### éå†æ•°ç»„

```javascript
const fruits = ['è‹¹æœ', 'é¦™è•‰', 'æ©˜å­']

// ä¼ ç»Ÿ for å¾ªç¯
for (let i = 0; i < fruits.length; i++) {
  console.log(fruits[i])
}

// ç¼“å­˜é•¿åº¦ï¼ˆå¾®ä¼˜åŒ–ï¼‰
for (let i = 0, len = fruits.length; i < len; i++) {
  console.log(fruits[i])
}

// for...ofï¼ˆæ¨èï¼‰
for (const fruit of fruits) {
  console.log(fruit)
}

// éœ€è¦ç´¢å¼•æ—¶ç”¨ entries()
for (const [index, fruit] of fruits.entries()) {
  console.log(index, fruit)
}
```

### æ— é™å¾ªç¯

```javascript
// ä¸‰ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥çœç•¥
for (;;) {
  console.log('æ— é™å¾ªç¯')
  break // å¿…é¡»æœ‰é€€å‡ºæ¡ä»¶
}

// ç­‰ä»·äº
while (true) {
  console.log('æ— é™å¾ªç¯')
  break
}
```

## while å¾ªç¯

### åŸºæœ¬ç”¨æ³•

```javascript
// whileï¼šå…ˆåˆ¤æ–­åæ‰§è¡Œ
let count = 0
while (count < 5) {
  console.log(count)
  count++
}

// do...whileï¼šå…ˆæ‰§è¡Œååˆ¤æ–­ï¼ˆè‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼‰
let num = 0
do {
  console.log(num)
  num++
} while (num < 5)

// åŒºåˆ«å±•ç¤º
let x = 10
while (x < 5) {
  console.log('while:', x) // ä¸æ‰§è¡Œ
}

let y = 10
do {
  console.log('do-while:', y) // æ‰§è¡Œä¸€æ¬¡
} while (y < 5)
```

### å®é™…åº”ç”¨

```javascript
// è¯»å–ç”¨æˆ·è¾“ï¿½ï¿½ï¿½ç›´åˆ°æœ‰æ•ˆ
function getValidInput() {
  let input
  do {
    input = prompt('è¯·è¾“å…¥ä¸€ä¸ªæ­£æ•°')
  } while (isNaN(input) || input <= 0)
  return Number(input)
}

// å¤„ç†å¼‚æ­¥é‡è¯•
async function fetchWithRetry(url, maxRetries = 3) {
  let attempts = 0
  while (attempts < maxRetries) {
    try {
      return await fetch(url)
    } catch (error) {
      attempts++
      if (attempts === maxRetries) throw error
      await new Promise((r) => setTimeout(r, 1000 * attempts))
    }
  }
}
```

## for...in å’Œ for...of

### for...inï¼šéå†é”®å

```javascript
// éå†å¯¹è±¡å±æ€§
const person = { name: 'å¼ ä¸‰', age: 25, city: 'åŒ—äº¬' }

for (const key in person) {
  console.log(key, person[key])
}
// name å¼ ä¸‰
// age 25
// city åŒ—äº¬

// ğŸ”¶ ä¹Ÿä¼šéå†ç»§æ‰¿çš„å¯æšä¸¾å±æ€§
function Animal(name) {
  this.name = name
}
Animal.prototype.speak = function () {}

const dog = new Animal('å°é»‘')
for (const key in dog) {
  console.log(key) // name, speakï¼ˆåŒ…å«åŸå‹å±æ€§ï¼‰
}

// åªéå†è‡ªèº«å±æ€§
for (const key in dog) {
  if (dog.hasOwnProperty(key)) {
    console.log(key) // åªæœ‰ name
  }
}
```

### for...ofï¼šéå†å€¼

```javascript
// éå†æ•°ç»„
const arr = ['a', 'b', 'c']
for (const value of arr) {
  console.log(value) // a, b, c
}

// éå†å­—ç¬¦ä¸²
for (const char of 'hello') {
  console.log(char) // h, e, l, l, o
}

// éå† Map
const map = new Map([
  ['name', 'å¼ ä¸‰'],
  ['age', 25],
])
for (const [key, value] of map) {
  console.log(key, value)
}

// éå† Set
const set = new Set([1, 2, 3])
for (const value of set) {
  console.log(value)
}

// ğŸ”¶ æ™®é€šå¯¹è±¡ä¸èƒ½ç›´æ¥ç”¨ for...of
// for (const value of person) {}  // TypeError

// éœ€è¦è½¬æ¢
for (const key of Object.keys(person)) {
  console.log(key)
}
for (const value of Object.values(person)) {
  console.log(value)
}
for (const [key, value] of Object.entries(person)) {
  console.log(key, value)
}
```

### å¯¹æ¯”æ€»ç»“

| ç‰¹æ€§       | for...in          | for...of    |
| ---------- | ----------------- | ----------- |
| éå†å¯¹è±¡   | âœ… é”®å           | âŒ éœ€è¦è½¬æ¢ |
| éå†æ•°ç»„   | âš ï¸ ç´¢å¼•ï¼ˆä¸æ¨èï¼‰ | âœ… å€¼       |
| åŸå‹å±æ€§   | ä¼šéå†            | ä¸ä¼š        |
| å¯è¿­ä»£å¯¹è±¡ | âŒ                | âœ…          |
| æ€§èƒ½       | è¾ƒæ…¢              | è¾ƒå¿«        |

## break å’Œ continue

### breakï¼šè·³å‡ºå¾ªç¯

```javascript
// æ‰¾åˆ°ç›®æ ‡ååœæ­¢
const numbers = [1, 3, 5, 7, 9, 2, 4]
let firstEven = null

for (const num of numbers) {
  if (num % 2 === 0) {
    firstEven = num
    break // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¶æ•°åé€€å‡º
  }
}
console.log(firstEven) // 2
```

### continueï¼šè·³è¿‡æœ¬æ¬¡è¿­ä»£

```javascript
// è·³è¿‡å¶æ•°
for (let i = 0; i < 10; i++) {
  if (i % 2 === 0) continue
  console.log(i) // 1, 3, 5, 7, 9
}

// è·³è¿‡æ— æ•ˆæ•°æ®
const data = [1, null, 3, undefined, 5]
const valid = []
for (const item of data) {
  if (item == null) continue
  valid.push(item)
}
console.log(valid) // [1, 3, 5]
```

### æ ‡ç­¾è¯­å¥

ç”¨äºè·³å‡ºå¤šå±‚å¾ªç¯ï¼š

```javascript
// æ²¡æœ‰æ ‡ç­¾ï¼šåªèƒ½è·³å‡ºå†…å±‚å¾ªç¯
for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i === 1 && j === 1) break
    console.log(i, j)
  }
}
// è¾“å‡ºï¼š0,0 0,1 0,2 1,0 2,0 2,1 2,2

// ä½¿ç”¨æ ‡ç­¾ï¼šè·³å‡ºå¤–å±‚å¾ªç¯
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i === 1 && j === 1) break outer
    console.log(i, j)
  }
}
// è¾“å‡ºï¼š0,0 0,1 0,2 1,0

// continue ä¹Ÿå¯ä»¥ç”¨æ ‡ç­¾
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (j === 1) continue outer
    console.log(i, j)
  }
}
// è¾“å‡ºï¼š0,0 1,0 2,0
```

## å¾ªç¯æœ€ä½³å®è·µ

### é€‰æ‹©åˆé€‚çš„å¾ªç¯

```javascript
// 1. å·²çŸ¥æ¬¡æ•°ï¼šç”¨ for
for (let i = 0; i < 10; i++) {
  // ...
}

// 2. éå†æ•°ç»„å€¼ï¼šç”¨ for...of
for (const item of array) {
  // ...
}

// 3. éå†å¯¹è±¡å±æ€§ï¼šç”¨ for...in æˆ– Object.keys
for (const key in object) {
  // ...
}

// 4. æ¡ä»¶å¾ªç¯ï¼šç”¨ while
while (condition) {
  // ...
}

// 5. è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼šç”¨ do...while
do {
  // ...
} while (condition)
```

### é¿å…ä¿®æ”¹å¾ªç¯ä¸­çš„æ•°ç»„

```javascript
// ğŸ”¶ å±é™©ï¼šéå†æ—¶ä¿®æ”¹æ•°ç»„
const arr = [1, 2, 3, 4, 5]
for (let i = 0; i < arr.length; i++) {
  if (arr[i] % 2 === 0) {
    arr.splice(i, 1) // åˆ é™¤å¶æ•°
  }
}
console.log(arr) // [1, 3, 5]ï¼Ÿä¸ä¸€å®šï¼

// âœ… å®‰å…¨ï¼šå€’åºéå†
for (let i = arr.length - 1; i >= 0; i--) {
  if (arr[i] % 2 === 0) {
    arr.splice(i, 1)
  }
}

// âœ… æ›´å¥½ï¼šä½¿ç”¨ filter åˆ›å»ºæ–°æ•°ç»„
const odds = arr.filter((n) => n % 2 !== 0)
```

### ä½¿ç”¨æ•°ç»„æ–¹æ³•æ›¿ä»£å¾ªç¯

```javascript
const numbers = [1, 2, 3, 4, 5]

// ä»£æ›¿ forï¼šforEach
numbers.forEach((n) => console.log(n))

// ä»£æ›¿ for + pushï¼šmap
const doubled = numbers.map((n) => n * 2)

// ä»£æ›¿ for + if + pushï¼šfilter
const evens = numbers.filter((n) => n % 2 === 0)

// ä»£æ›¿ for + ç´¯åŠ ï¼šreduce
const sum = numbers.reduce((acc, n) => acc + n, 0)

// ä»£æ›¿ for + breakï¼ˆæŸ¥æ‰¾ï¼‰ï¼šfind
const firstBig = numbers.find((n) => n > 3)

// ä»£æ›¿ for + æ¡ä»¶åˆ¤æ–­ï¼šsome/every
const hasEven = numbers.some((n) => n % 2 === 0)
const allPositive = numbers.every((n) => n > 0)
```

## å¸¸è§é™·é˜±

### ğŸ™‹ é—­åŒ…ä¸å¾ªç¯å˜é‡

```javascript
// ç»å…¸é—®é¢˜ï¼švar æ²¡æœ‰å—çº§ä½œç”¨åŸŸ
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100)
}
// è¾“å‡ºï¼š3, 3, 3

// è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨ let
for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 100)
}
// è¾“å‡ºï¼š0, 1, 2

// è§£å†³æ–¹æ¡ˆ2ï¼šIIFEï¼ˆES5 å†™æ³•ï¼‰
for (var i = 0; i < 3; i++) {
  ;(function (j) {
    setTimeout(() => console.log(j), 100)
  })(i)
}
```

### ğŸ™‹ ä¿®æ”¹å¾ªç¯æ¡ä»¶

```javascript
// æ— é™å¾ªç¯ï¼
const arr = [1, 2, 3]
for (let i = 0; i < arr.length; i++) {
  arr.push(i) // æ•°ç»„ä¸æ–­å˜é•¿
}

// åº”è¯¥ç¼“å­˜é•¿åº¦
const len = arr.length
for (let i = 0; i < len; i++) {
  arr.push(i)
}
```

### ğŸ™‹ æµ®ç‚¹æ•°ä½œä¸ºå¾ªç¯æ¡ä»¶

```javascript
// å¯èƒ½ä¸ä¼šåœæ­¢ï¼
for (let i = 0; i !== 1; i += 0.1) {
  console.log(i)
}
// å› ä¸º 0.1 + 0.1 + ... å¯èƒ½æ°¸è¿œä¸ç­‰äº 1

// ä½¿ç”¨ < è€Œä¸æ˜¯ !==
for (let i = 0; i < 1; i += 0.1) {
  console.log(i.toFixed(1))
}
```

## æ€»ç»“

| è¯­å¥       | é€‚ç”¨åœºæ™¯       | è¦ç‚¹         |
| ---------- | -------------- | ------------ |
| if...else  | æ¡ä»¶åˆ†æ”¯       | ç”¨ {} åŒ…è£¹   |
| switch     | å¤šå€¼åŒ¹é…       | è®°å¾— break   |
| for        | å·²çŸ¥æ¬¡æ•°       | ç¼“å­˜ length  |
| for...of   | éå†å¯è¿­ä»£å¯¹è±¡ | æ¨èéå†æ•°ç»„ |
| for...in   | éå†å¯¹è±¡é”®     | æ³¨æ„åŸå‹å±æ€§ |
| while      | æ¡ä»¶å¾ªç¯       | ç¡®ä¿èƒ½é€€å‡º   |
| do...while | è‡³å°‘æ‰§è¡Œä¸€æ¬¡   | å…ˆæ‰§è¡Œååˆ¤æ–­ |

**æ ¸å¿ƒå»ºè®®**ï¼š

- ç”¨ `for...of` éå†æ•°ç»„ï¼Œ`for...in` éå†å¯¹è±¡
- ç”¨æ•°ç»„æ–¹æ³•ï¼ˆmap/filter/reduceï¼‰æ›¿ä»£ç®€å•å¾ªç¯
- ä½¿ç”¨ `let` è€Œä¸æ˜¯ `var` å£°æ˜å¾ªç¯å˜é‡
- å¤æ‚é€»è¾‘ç”¨å¯¹è±¡æ˜ å°„æ›¿ä»£é•¿ switch
