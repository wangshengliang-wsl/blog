---
title: ç°ä»£é€‰æ‹©å™¨
description: æŒæ¡ CSS ç°ä»£é€‰æ‹©å™¨ :is()ã€:where()ã€:has() å’Œ :not()ï¼Œç®€åŒ–å¤æ‚é€‰æ‹©å™¨
pubDate: 2025-12-03
toc: true
ogImage: true
category: CSS
---

CSS é€‰æ‹©å™¨åœ¨ä¸æ–­è¿›åŒ–ã€‚`:is()`ã€`:where()`ã€`:has()` å’Œå¢å¼ºçš„ `:not()` è®©æˆ‘ä»¬èƒ½ç”¨æ›´ç®€æ´çš„æ–¹å¼ç¼–å†™å¤æ‚é€‰æ‹©å™¨ï¼ŒåŒæ—¶æ›´å¥½åœ°æ§åˆ¶ä¼˜å…ˆçº§ã€‚

## :is() åŒ¹é…é€‰æ‹©å™¨

`:is()` æ¥å—ä¸€ä¸ªé€‰æ‹©å™¨åˆ—è¡¨ï¼ŒåŒ¹é…å…¶ä¸­ä»»ä¸€é€‰æ‹©å™¨ï¼š

### åŸºæœ¬ç”¨æ³•

```css
/* ä¼ ç»Ÿå†™æ³• */
header a,
nav a,
footer a {
  color: #3b82f6;
}

/* ä½¿ç”¨ :is() */
:is(header, nav, footer) a {
  color: #3b82f6;
}
```

### ç®€åŒ–åµŒå¥—é€‰æ‹©å™¨

```css
/* ä¼ ç»Ÿå†™æ³• */
article h1,
article h2,
article h3,
section h1,
section h2,
section h3 {
  line-height: 1.2;
}

/* ä½¿ç”¨ :is() */
:is(article, section) :is(h1, h2, h3) {
  line-height: 1.2;
}
```

### ä¼˜å…ˆçº§ç‰¹æ€§

ğŸ¯ `:is()` çš„ä¼˜å…ˆçº§ç­‰äºå…¶å‚æ•°ä¸­**æœ€é«˜**çš„é‚£ä¸ªï¼š

```css
:is(#id, .class, p) {
  /* ä¼˜å…ˆçº§ç­‰äº #idï¼Œå³ 1-0-0 */
}

:is(.foo, .bar) {
  /* ä¼˜å…ˆçº§ç­‰äº 0-1-0 */
}
```

### å®¹é”™ç‰¹æ€§

`:is()` ä¼šå¿½ç•¥æ— æ•ˆçš„é€‰æ‹©å™¨ï¼Œä¸ä¼šå¯¼è‡´æ•´æ¡è§„åˆ™å¤±æ•ˆï¼š

```css
/* å¦‚æœ :unknown æ— æ•ˆï¼Œæ•´æ¡è§„åˆ™ä»ç„¶æœ‰æ•ˆ */
:is(.valid, :unknown, .another-valid) {
  color: blue;
}
```

## :where() é›¶æƒé‡é€‰æ‹©å™¨

`:where()` è¯­æ³•ä¸ `:is()` å®Œå…¨ç›¸åŒï¼Œä½†**ä¼˜å…ˆçº§å§‹ç»ˆä¸º 0**ï¼š

```css
/* ä¼˜å…ˆçº§ï¼š0-0-0 */
:where(#id, .class, p) {
  color: gray;
}

/* å¯ä»¥è¢«ä»»ä½•é€‰æ‹©å™¨è¦†ç›– */
p {
  color: red; /* è¿™ä¸ªä¼šç”Ÿæ•ˆï¼ */
}
```

### ä½¿ç”¨åœºæ™¯

**1. å¯è¦†ç›–çš„åŸºç¡€æ ·å¼**

```css
/* ç»„ä»¶åº“çš„é»˜è®¤æ ·å¼ */
:where(.button) {
  padding: 0.5rem 1rem;
  border-radius: 4px;
  background: #e5e7eb;
}

/* ç”¨æˆ·å¯ä»¥è½»æ¾è¦†ç›– */
.button {
  background: #3b82f6;
}
```

**2. CSS Reset**

```css
/* é›¶ä¼˜å…ˆçº§çš„ resetï¼Œç”¨æˆ·æ ·å¼å¯ä»¥è½»æ¾è¦†ç›– */
:where(h1, h2, h3, h4, h5, h6) {
  margin: 0;
  font-weight: normal;
}

:where(ul, ol) {
  list-style: none;
  padding: 0;
  margin: 0;
}
```

**3. é™ä½ ID é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§**

```css
/* æ­£å¸¸ä¼˜å…ˆçº§ 1-0-1 */
#sidebar a {
  color: blue;
}

/* ä¼˜å…ˆçº§é™ä¸º 0-0-1 */
:where(#sidebar) a {
  color: blue;
}
```

## :has() çˆ¶é€‰æ‹©å™¨

`:has()` æ˜¯ CSS å†å²ä¸Šæœ€å—æœŸå¾…çš„é€‰æ‹©å™¨ä¹‹ä¸€ï¼Œå®ƒè®©ä½ èƒ½å¤ŸåŸºäºå­å…ƒç´ æˆ–åç»­å…ƒç´ æ¥é€‰æ‹©å…ƒç´ ã€‚

### åŸºæœ¬ç”¨æ³•

```css
/* åŒ…å« img çš„ a å…ƒç´  */
a:has(img) {
  display: block;
}

/* åŒ…å«å¿…å¡«è¾“å…¥æ¡†çš„è¡¨å•ç»„ */
.form-group:has(input:required) {
  font-weight: bold;
}
```

### é€‰æ‹©çˆ¶å…ƒç´ 

```css
/* å¦‚æœå¡ç‰‡åŒ…å«å›¾ç‰‡ï¼Œå¡ç‰‡å°±åº”ç”¨æ ·å¼ */
.card:has(img) {
  padding: 0;
}

/* å¦‚æœè¡¨å•æœ‰æ— æ•ˆè¾“å…¥ï¼Œæ•´ä¸ªè¡¨å•è¾¹æ¡†å˜çº¢ */
form:has(input:invalid) {
  border-color: #ef4444;
}
```

### é€‰æ‹©å‰é¢çš„å…„å¼Ÿå…ƒç´ 

```css
/* å¦‚æœåé¢ç´§è·Ÿ pï¼Œåˆ™ h2 æ·»åŠ æ ·å¼ */
h2:has(+ p) {
  margin-bottom: 0.5rem;
}

/* å¦‚æœåé¢æœ‰ .errorï¼Œåˆ™è¾“å…¥æ¡†å˜çº¢ */
input:has(~ .error) {
  border-color: #ef4444;
}
```

### å®æˆ˜æ¡ˆä¾‹

**1. ç©ºçŠ¶æ€æ ·å¼**

```css
/* æ²¡æœ‰å­å…ƒç´ çš„å®¹å™¨ */
.container:not(:has(*)) {
  display: none;
}

/* æˆ–è€…æ˜¾ç¤ºç©ºçŠ¶æ€æç¤º */
.list:not(:has(li))::before {
  content: 'æš‚æ— æ•°æ®';
  display: block;
  padding: 2rem;
  text-align: center;
  color: #9ca3af;
}
```

**2. è¡¨å•éªŒè¯åé¦ˆ**

```css
/* åŒ…å«æ— æ•ˆè¾“å…¥çš„è¡¨å•ç»„ */
.form-group:has(input:invalid:not(:placeholder-shown)) {
  --input-border-color: #ef4444;
}

.form-group:has(input:valid:not(:placeholder-shown)) {
  --input-border-color: #10b981;
}

.form-group input {
  border-color: var(--input-border-color, #d1d5db);
}
```

**3. å“åº”å†…å®¹çš„å¸ƒå±€**

```css
/* å¦‚æœå¡ç‰‡æœ‰å›¾ç‰‡ï¼Œä½¿ç”¨æ°´å¹³å¸ƒå±€ */
.card:has(img) {
  display: flex;
  gap: 1rem;
}

.card:has(img) img {
  flex: 0 0 200px;
  object-fit: cover;
}

/* æ²¡æœ‰å›¾ç‰‡åˆ™å‚ç›´å †å  */
.card:not(:has(img)) {
  display: block;
}
```

**4. å…¨å±€çŠ¶æ€**

```css
/* å¦‚æœé¡µé¢æœ‰æ¨¡æ€æ¡†æ‰“å¼€ï¼Œç¦æ­¢æ»šåŠ¨ */
body:has(.modal.open) {
  overflow: hidden;
}

/* å¦‚æœä¾§è¾¹æ å±•å¼€ï¼Œè°ƒæ•´ä¸»å†…å®¹åŒº */
.main:has(.sidebar.expanded) {
  margin-left: 250px;
}
```

## :not() å¦å®šé€‰æ‹©å™¨

`:not()` é€‰æ‹©ä¸åŒ¹é…æŒ‡å®šé€‰æ‹©å™¨çš„å…ƒç´ ã€‚

### åŸºæœ¬ç”¨æ³•

```css
/* é™¤äº†æœ€åä¸€ä¸ª */
li:not(:last-child) {
  border-bottom: 1px solid #e5e7eb;
}

/* é™¤äº†ç¦ç”¨çš„ */
button:not(:disabled) {
  cursor: pointer;
}

/* é™¤äº†ç©ºçš„ */
input:not(:placeholder-shown) {
  border-color: #3b82f6;
}
```

### å¢å¼ºçš„ :not()

ç°ä»£æµè§ˆå™¨æ”¯æŒåœ¨ `:not()` ä¸­ä½¿ç”¨é€‰æ‹©å™¨åˆ—è¡¨ï¼š

```css
/* ä¼ ç»Ÿå†™æ³• */
p:not(.intro):not(.outro) {
  text-indent: 2em;
}

/* ç°ä»£å†™æ³• */
p:not(.intro, .outro) {
  text-indent: 2em;
}
```

### ä¼˜å…ˆçº§

`:not()` çš„ä¼˜å…ˆçº§ç­‰äºå…¶å‚æ•°ä¸­æœ€é«˜çš„é€‰æ‹©å™¨ï¼š

```css
p:not(#special) {
  /* ä¼˜å…ˆçº§ = 1-0-1ï¼ˆ#special çš„ 1-0-0 + p çš„ 0-0-1ï¼‰ */
}
```

### å¸¸è§æ¨¡å¼

```css
/* é™¤äº†ç¬¬ä¸€ä¸ªçš„æ‰€æœ‰å…ƒç´  */
.item:not(:first-child) {
  margin-top: 1rem;
}

/* é™¤äº†ç±»ååŒ…å« "no-" çš„ */
[class]:not([class*='no-']) {
  /* ... */
}

/* ä¸æ˜¯é“¾æ¥çš„å¯ç‚¹å‡»å…ƒç´  */
[role='button']:not(a) {
  cursor: pointer;
}
```

## ç»„åˆä½¿ç”¨

è¿™äº›é€‰æ‹©å™¨å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œåˆ›å»ºéå¸¸å¼ºå¤§çš„é€‰æ‹©å™¨ï¼š

```css
/* åŒ…å«é“¾æ¥çš„å¯¼èˆªé¡¹ï¼Œä½†ä¸æ˜¯å½“å‰é¡µé¢ */
nav li:has(a):not(:has([aria-current])) {
  opacity: 0.8;
}

/* ä»»ä½•æ ‡é¢˜åé¢ç´§è·Ÿæ®µè½çš„æƒ…å†µ */
:is(h1, h2, h3):has(+ p) {
  margin-bottom: 0.5rem;
}

/* è¡¨å•ä¸­æœ‰æ— æ•ˆè¾“å…¥æ—¶çš„æäº¤æŒ‰é’® */
form:has(input:invalid) button[type='submit'] {
  opacity: 0.5;
  pointer-events: none;
}

/* ç®€åŒ–å¤æ‚çš„å¦å®šé€‰æ‹© */
:where(article, section):not(:has(h1, h2, h3)) {
  border-top: 1px solid #e5e7eb;
}
```

## æµè§ˆå™¨å…¼å®¹æ€§

| é€‰æ‹©å™¨        | Chrome | Firefox | Safari |
| ------------- | ------ | ------- | ------ |
| `:is()`       | 88+    | 78+     | 14+    |
| `:where()`    | 88+    | 78+     | 14+    |
| `:has()`      | 105+   | 121+    | 15.4+  |
| `:not()` åˆ—è¡¨ | 88+    | 84+     | 9+     |

ğŸ”¶ `:has()` æ˜¯æœ€æ–°æ·»åŠ çš„ï¼Œåœ¨ä½¿ç”¨å‰æ£€æŸ¥ç›®æ ‡æµè§ˆå™¨æ”¯æŒæƒ…å†µã€‚

## å®æˆ˜æ¡ˆä¾‹

### æ™ºèƒ½è¡¨æ ¼è¡Œ

```css
/* åŸºç¡€æ ·å¼ */
.table tr {
  transition: background-color 0.2s;
}

/* æ‚¬åœè¡Œï¼ˆä½†ä¸æ˜¯è¡¨å¤´ï¼‰ */
.table tr:not(:has(th)):hover {
  background-color: #f3f4f6;
}

/* é€‰ä¸­è¡Œ */
.table tr:has(input:checked) {
  background-color: #eff6ff;
}

/* åŒ…å«é”™è¯¯çš„è¡Œ */
.table tr:has(.error) {
  background-color: #fef2f2;
}
```

### åŠ¨æ€å¯¼èˆª

```css
.nav-item {
  padding: 0.5rem 1rem;
  border-radius: 6px;
}

/* æœ‰å­èœå•çš„é¡¹ç›® */
.nav-item:has(.dropdown) {
  padding-right: 2rem;
  position: relative;
}

.nav-item:has(.dropdown)::after {
  content: 'â–¼';
  position: absolute;
  right: 0.75rem;
  font-size: 0.75em;
}

/* æ¿€æ´»çŠ¶æ€ï¼ˆä»»æ„åä»£åŒ¹é… aria-currentï¼‰ */
.nav-item:has([aria-current]) {
  background-color: #eff6ff;
  color: #3b82f6;
}
```

### å“åº”å¼å¡ç‰‡

```css
.card {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

/* æœ‰å°é¢å›¾çš„å¡ç‰‡ */
.card:has(.card-cover) {
  display: flex;
  flex-direction: column;
}

.card:has(.card-cover) .card-cover {
  aspect-ratio: 16 / 9;
  object-fit: cover;
}

/* æ²¡æœ‰å°é¢å›¾çš„å¡ç‰‡ */
.card:not(:has(.card-cover)) {
  padding: 1.5rem;
  border: 1px solid #e5e7eb;
}

/* æœ‰å¾½ç« çš„å¡ç‰‡ */
.card:has(.badge) {
  position: relative;
}

.card:has(.badge) .badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
}
```

---

ç°ä»£é€‰æ‹©å™¨è®© CSS æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚`:is()` å’Œ `:where()` ç®€åŒ–äº†å¤æ‚é€‰æ‹©å™¨çš„ç¼–å†™ï¼Œ`:has()` ç»ˆäºå®ç°äº†"çˆ¶é€‰æ‹©å™¨"çš„æ¢¦æƒ³ã€‚ç»“åˆä½¿ç”¨è¿™äº›é€‰æ‹©å™¨ï¼Œå¯ä»¥å¤§å¤§å‡å°‘å¯¹ JavaScript çš„ä¾èµ–ï¼Œç”¨çº¯ CSS å®ç°æ›´å¤šäº¤äº’é€»è¾‘ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†å­¦ä¹  CSS å˜é‡ï¼Œå®ƒè®©æ ·å¼æ›´åŠ åŠ¨æ€å’Œå¯ç»´æŠ¤ã€‚
