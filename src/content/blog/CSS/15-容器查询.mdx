---
title: å®¹å™¨æŸ¥è¯¢
description: æŒæ¡ CSS å®¹å™¨æŸ¥è¯¢ï¼Œå®ç°åŸºäºå®¹å™¨å°ºå¯¸çš„ç»„ä»¶çº§å“åº”å¼è®¾è®¡
pubDate: 2025-12-03
toc: true
ogImage: true
category: CSS
---

å®¹å™¨æŸ¥è¯¢ï¼ˆContainer Queriesï¼‰æ˜¯ CSS æœ€å—æœŸå¾…çš„ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒè®©ç»„ä»¶å¯ä»¥æ ¹æ®**çˆ¶å®¹å™¨**çš„å°ºå¯¸æ¥è°ƒæ•´æ ·å¼ï¼Œè€Œä¸æ˜¯ä¾èµ–è§†å£å®½åº¦ã€‚è¿™å¯¹æ„å»ºçœŸæ­£å¯å¤ç”¨çš„å“åº”å¼ç»„ä»¶è‡³å…³é‡è¦ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦å®¹å™¨æŸ¥è¯¢

ä¼ ç»Ÿåª’ä½“æŸ¥è¯¢çš„é—®é¢˜ï¼š

```css
/* åª’ä½“æŸ¥è¯¢åŸºäºè§†å£å®½åº¦ */
@media (min-width: 768px) {
  .card {
    flex-direction: row;
  }
}
```

åŒä¸€ä¸ªå¡ç‰‡ç»„ä»¶å¯èƒ½å‡ºç°åœ¨ä¸åŒå®½åº¦çš„å®¹å™¨ä¸­ï¼š

- å…¨å®½ä¸»å†…å®¹åŒº
- çª„ä¾§è¾¹æ 
- å¼¹çª—æ¨¡æ€æ¡†

ä½†åª’ä½“æŸ¥è¯¢æ— æ³•åŒºåˆ†è¿™äº›åœºæ™¯â€”â€”å®ƒåªçŸ¥é“è§†å£å®½åº¦ã€‚

å®¹å™¨æŸ¥è¯¢è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š

```css
/* åŸºäºå®¹å™¨å®½åº¦ */
@container (min-width: 400px) {
  .card {
    flex-direction: row;
  }
}
```

## åŸºæœ¬ç”¨æ³•

### å®šä¹‰å®¹å™¨

ä½¿ç”¨ `container-type` å°†å…ƒç´ æ ‡è®°ä¸ºå®¹å™¨ï¼š

```css
.card-container {
  container-type: inline-size;
}
```

`container-type` å€¼ï¼š

- `size`ï¼šæŸ¥è¯¢å®½åº¦å’Œé«˜åº¦
- `inline-size`ï¼šåªæŸ¥è¯¢å†…è”æ–¹å‘å°ºå¯¸ï¼ˆé€šå¸¸æ˜¯å®½åº¦ï¼‰
- `normal`ï¼šé»˜è®¤å€¼ï¼Œä¸æ˜¯æŸ¥è¯¢å®¹å™¨

### ç¼–å†™å®¹å™¨æŸ¥è¯¢

```css
@container (min-width: 400px) {
  .card {
    display: flex;
    gap: 1rem;
  }

  .card-image {
    width: 150px;
    flex-shrink: 0;
  }
}
```

### å®Œæ•´ç¤ºä¾‹

```css
.card-wrapper {
  container-type: inline-size;
}

.card {
  padding: 1rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.card-image {
  width: 100%;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  border-radius: 8px;
}

.card-content {
  margin-top: 1rem;
}

/* å®¹å™¨å®½åº¦ >= 400px æ—¶æ°´å¹³å¸ƒå±€ */
@container (min-width: 400px) {
  .card {
    display: flex;
    gap: 1.5rem;
  }

  .card-image {
    width: 200px;
    aspect-ratio: 1;
  }

  .card-content {
    margin-top: 0;
    flex: 1;
  }
}

/* å®¹å™¨å®½åº¦ >= 600px æ—¶æ›´å¤§çš„å›¾ç‰‡ */
@container (min-width: 600px) {
  .card-image {
    width: 300px;
  }
}
```

## å‘½åå®¹å™¨

å½“æœ‰å¤šä¸ªåµŒå¥—å®¹å™¨æ—¶ï¼Œä½¿ç”¨åç§°åŒºåˆ†ï¼š

```css
.sidebar {
  container-type: inline-size;
  container-name: sidebar;
}

.main {
  container-type: inline-size;
  container-name: main;
}

/* ç®€å†™ */
.sidebar {
  container: sidebar / inline-size;
}

/* æŸ¥è¯¢ç‰¹å®šå®¹å™¨ */
@container sidebar (min-width: 300px) {
  .widget {
    padding: 1.5rem;
  }
}

@container main (min-width: 800px) {
  .article {
    columns: 2;
  }
}
```

## å®¹å™¨æŸ¥è¯¢å•ä½

å®¹å™¨æŸ¥è¯¢å¼•å…¥äº†æ–°çš„ç›¸å¯¹å•ä½ï¼š

| å•ä½    | æè¿°                    |
| ------- | ----------------------- |
| `cqw`   | å®¹å™¨å®½åº¦çš„ 1%           |
| `cqh`   | å®¹å™¨é«˜åº¦çš„ 1%           |
| `cqi`   | å®¹å™¨å†…è”å°ºå¯¸çš„ 1%       |
| `cqb`   | å®¹å™¨å—å°ºå¯¸çš„ 1%         |
| `cqmin` | `cqi` å’Œ `cqb` ä¸­è¾ƒå°è€… |
| `cqmax` | `cqi` å’Œ `cqb` ä¸­è¾ƒå¤§è€… |

```css
.container {
  container-type: inline-size;
}

.title {
  font-size: clamp(1rem, 5cqi, 2rem);
}

.hero {
  height: 50cqh;
}
```

## æ ·å¼æŸ¥è¯¢ï¼ˆå®éªŒæ€§ï¼‰

é™¤äº†å°ºå¯¸ï¼Œè¿˜å¯ä»¥æŸ¥è¯¢å®¹å™¨çš„æ ·å¼å€¼ï¼š

```css
.card {
  --theme: light;
}

@container style(--theme: dark) {
  .card-content {
    color: white;
  }
}
```

ğŸ”¶ æ ·å¼æŸ¥è¯¢ç›®å‰ä»…éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒã€‚

## å®æˆ˜æ¡ˆä¾‹

### å“åº”å¼å¡ç‰‡ç»„ä»¶

```css
.card-container {
  container-type: inline-size;
}

.card {
  display: grid;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.card-image {
  width: 100%;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  border-radius: 8px;
}

.card-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
}

.card-description {
  color: #6b7280;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ä¸­ç­‰å®½åº¦ï¼šæ°´å¹³å¸ƒå±€ */
@container (min-width: 350px) {
  .card {
    grid-template-columns: 120px 1fr;
    align-items: start;
  }

  .card-image {
    aspect-ratio: 1;
  }
}

/* å¤§å®½åº¦ï¼šæ›´å¤§å›¾ç‰‡ï¼Œæ˜¾ç¤ºæ›´å¤šå†…å®¹ */
@container (min-width: 500px) {
  .card {
    grid-template-columns: 200px 1fr;
    padding: 1.5rem;
    gap: 1.5rem;
  }

  .card-title {
    font-size: 1.25rem;
  }

  .card-description {
    -webkit-line-clamp: 3;
  }
}
```

### è‡ªé€‚åº”å¯¼èˆª

```css
.nav-container {
  container-type: inline-size;
}

.nav {
  display: flex;
  align-items: center;
  padding: 1rem;
}

.nav-logo {
  font-weight: bold;
}

.nav-links {
  display: none;
  gap: 1rem;
  margin-left: auto;
}

.nav-toggle {
  margin-left: auto;
}

/* å®¹å™¨è¶³å¤Ÿå®½æ—¶æ˜¾ç¤ºé“¾æ¥ */
@container (min-width: 600px) {
  .nav-links {
    display: flex;
  }

  .nav-toggle {
    display: none;
  }
}
```

### ä»ªè¡¨æ¿å°éƒ¨ä»¶

```css
.widget-container {
  container-type: inline-size;
}

.widget {
  padding: 1rem;
  background: white;
  border-radius: 8px;
}

.widget-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.widget-title {
  font-size: 0.875rem;
  font-weight: 600;
  margin: 0;
}

.widget-value {
  font-size: 1.5rem;
  font-weight: bold;
}

.widget-chart {
  display: none;
  height: 100px;
}

/* å°éƒ¨ä»¶å¤Ÿå¤§æ—¶æ˜¾ç¤ºå›¾è¡¨ */
@container (min-width: 200px) {
  .widget {
    padding: 1.5rem;
  }

  .widget-value {
    font-size: 2rem;
  }
}

@container (min-width: 300px) {
  .widget-chart {
    display: block;
  }
}
```

### å“åº”å¼è¡¨æ ¼

```css
.table-container {
  container-type: inline-size;
  overflow-x: auto;
}

.table {
  width: 100%;
  border-collapse: collapse;
}

.table th,
.table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid #e5e7eb;
}

/* å°å®¹å™¨ï¼šéšè—æ¬¡è¦åˆ— */
.table .priority-low {
  display: none;
}

@container (min-width: 500px) {
  .table .priority-low {
    display: table-cell;
  }
}

/* éå¸¸å°çš„å®¹å™¨ï¼šå¡ç‰‡å¼å¸ƒå±€ */
@container (max-width: 400px) {
  .table,
  .table tbody,
  .table tr,
  .table td {
    display: block;
  }

  .table thead {
    display: none;
  }

  .table tr {
    margin-bottom: 1rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
  }

  .table td {
    border: none;
    padding: 0.25rem 0;
  }

  .table td::before {
    content: attr(data-label);
    font-weight: 600;
    margin-right: 0.5rem;
  }
}
```

## ä¸åª’ä½“æŸ¥è¯¢é…åˆ

å®¹å™¨æŸ¥è¯¢ä¸æ˜¯æ›¿ä»£åª’ä½“æŸ¥è¯¢ï¼Œè€Œæ˜¯è¡¥å……ï¼š

```css
/* åª’ä½“æŸ¥è¯¢ï¼šæ•´ä½“å¸ƒå±€ */
@media (min-width: 768px) {
  .layout {
    display: grid;
    grid-template-columns: 250px 1fr;
  }
}

/* å®¹å™¨æŸ¥è¯¢ï¼šç»„ä»¶çº§å“åº”å¼ */
.sidebar {
  container-type: inline-size;
}

@container (min-width: 200px) {
  .sidebar-widget {
    padding: 1.5rem;
  }
}
```

## æœ€ä½³å®è·µ

### ä»ç»„ä»¶å±‚é¢æ€è€ƒ

```css
/* ç»„ä»¶è‡ªå·±çš„å®¹å™¨å®šä¹‰ */
.card {
  container-type: inline-size;
}

/* ç»„ä»¶å†…éƒ¨çš„å“åº”å¼è§„åˆ™ */
@container (min-width: 300px) {
  .card-inner {
    /* ... */
  }
}
```

### æ¸è¿›å¢å¼º

```css
/* åŸºç¡€æ ·å¼ï¼ˆä¸æ”¯æŒå®¹å™¨æŸ¥è¯¢çš„æµè§ˆå™¨ï¼‰ */
.card {
  display: block;
}

/* æ”¯æŒå®¹å™¨æŸ¥è¯¢æ—¶ */
@supports (container-type: inline-size) {
  .card-container {
    container-type: inline-size;
  }

  @container (min-width: 400px) {
    .card {
      display: flex;
    }
  }
}
```

### é¿å…è¿‡åº¦åµŒå¥—

```css
/* é¿å…ï¼šè¿‡å¤šåµŒå¥—å®¹å™¨ */
.a {
  container-type: inline-size;
}
.b {
  container-type: inline-size;
}
.c {
  container-type: inline-size;
}

/* æ¨èï¼šåœ¨éœ€è¦çš„å±‚çº§å®šä¹‰å®¹å™¨ */
.card-grid {
  container-type: inline-size;
}
```

## æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨  | æ”¯æŒç‰ˆæœ¬ |
| ------- | -------- |
| Chrome  | 105+     |
| Firefox | 110+     |
| Safari  | 16+      |
| Edge    | 105+     |

æ ·å¼æŸ¥è¯¢ï¼ˆ`@container style()`ï¼‰ç›®å‰ä»… Chrome 111+ æ”¯æŒã€‚

---

å®¹å™¨æŸ¥è¯¢æ˜¯ CSS å“åº”å¼è®¾è®¡çš„é‡å¤§çªç ´ã€‚å®ƒè®©ç»„ä»¶çœŸæ­£ç‹¬ç«‹äºæ”¾ç½®ä½ç½®ï¼Œå¯ä»¥æ ¹æ®è‡ªèº«å®¹å™¨æ¥è°ƒæ•´å¸ƒå±€ã€‚ç»“åˆåª’ä½“æŸ¥è¯¢ï¼Œä½ å¯ä»¥æ„å»ºæ—¢é€‚åº”è§†å£åˆé€‚åº”å®¹å™¨çš„å®Œç¾å“åº”å¼ä½“éªŒã€‚

è¿™æ˜¯ CSS ç³»åˆ—çš„æœ€åä¸€ç¯‡ã€‚å¸Œæœ›è¿™ 15 ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ å»ºç«‹å®Œæ•´çš„ CSS çŸ¥è¯†ä½“ç³»ï¼Œä»åŸºç¡€çš„é€‰æ‹©å™¨ã€ç›’æ¨¡å‹ï¼Œåˆ°ç°ä»£çš„ Flexboxã€Gridã€å®¹å™¨æŸ¥è¯¢ï¼Œå†åˆ°åŠ¨ç”»ã€å˜æ¢ã€æ»¤é•œç­‰è§†è§‰æ•ˆæœã€‚CSS æ˜¯ä¸€é—¨å€¼å¾—æ·±å…¥å­¦ä¹ çš„æŠ€æœ¯ï¼Œç¥ä½ åœ¨å‰ç«¯å¼€å‘ä¹‹è·¯ä¸Šè¶Šèµ°è¶Šè¿œï¼
