---
title: æµ®åŠ¨ä¸ BFC
description: ç†è§£ CSS æµ®åŠ¨çš„å·¥ä½œåŸç†ï¼ŒæŒæ¡æ¸…é™¤æµ®åŠ¨çš„å¤šç§æ–¹æ³•ï¼Œæ·±å…¥äº†è§£å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBFCï¼‰
pubDate: 2025-12-03
toc: true
ogImage: true
category: CSS
---

æµ®åŠ¨ï¼ˆfloatï¼‰æœ€åˆæ˜¯ä¸ºäº†å®ç°æ–‡å­—ç¯ç»•å›¾ç‰‡çš„æ•ˆæœè€Œè®¾è®¡çš„ã€‚åæ¥è¢«å¹¿æ³›ç”¨äºé¡µé¢å¸ƒå±€ï¼Œè™½ç„¶ç°åœ¨ Flexbox å’Œ Grid å·²ç»å–ä»£äº†æµ®åŠ¨å¸ƒå±€ï¼Œä½†ç†è§£æµ®åŠ¨å’Œ BFC ä»ç„¶å¯¹æ’æŸ¥å¸ƒå±€é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚

## æµ®åŠ¨åŸºç¡€

### float å±æ€§

```css
.float-left {
  float: left;
}

.float-right {
  float: right;
}

.float-none {
  float: none; /* é»˜è®¤å€¼ */
}
```

### æ–‡å­—ç¯ç»•

è¿™æ˜¯æµ®åŠ¨æœ€åˆçš„è®¾è®¡ç›®çš„ï¼š

```html
<article>
  <img src="photo.jpg" class="float-left" alt="" />
  <p>è¿™æ®µæ–‡å­—ä¼šç¯ç»•åœ¨å›¾ç‰‡çš„å³ä¾§...</p>
</article>
```

```css
.float-left {
  float: left;
  margin-right: 1rem;
  margin-bottom: 0.5rem;
}
```

### æµ®åŠ¨çš„ç‰¹æ€§

å½“å…ƒç´ æµ®åŠ¨åï¼š

1. **è„±ç¦»æ–‡æ¡£æµ**ï¼šä¸å†å æ®æ­£å¸¸çš„ç©ºé—´
2. **å‘å·¦æˆ–å‘å³ç§»åŠ¨**ï¼šç›´åˆ°ç¢°åˆ°å®¹å™¨è¾¹ç¼˜æˆ–å¦ä¸€ä¸ªæµ®åŠ¨å…ƒç´ 
3. **å˜æˆå—çº§å…ƒç´ **ï¼šå¯ä»¥è®¾ç½®å®½é«˜
4. **è¡Œå†…å†…å®¹ä¼šç¯ç»•**ï¼šæ–‡å­—å’Œè¡Œå†…å…ƒç´ ä¼šç»•å¼€æµ®åŠ¨å…ƒç´ 

```css
/* æµ®åŠ¨åå¯ä»¥è®¾ç½®å®½é«˜ */
span {
  float: left;
  width: 100px; /* ç”Ÿæ•ˆï¼Œå³ä½¿ span åŸæœ¬æ˜¯è¡Œå†…å…ƒç´  */
  height: 100px;
}
```

## æ¸…é™¤æµ®åŠ¨

ğŸ™‹ ä»€ä¹ˆæ˜¯"é«˜åº¦å¡Œé™·"ï¼Ÿ

å½“çˆ¶å…ƒç´ åªåŒ…å«æµ®åŠ¨å­å…ƒç´ æ—¶ï¼Œçˆ¶å…ƒç´ çš„é«˜åº¦ä¼šå˜æˆ 0ï¼š

```html
<div class="parent">
  <div class="child" style="float: left;">æµ®åŠ¨å­å…ƒç´ </div>
</div>
```

```css
.parent {
  border: 2px solid red;
  /* é«˜åº¦ä¸º 0ï¼Œåªèƒ½çœ‹åˆ°è¾¹æ¡†çº¿ */
}
```

### æ–¹æ³•ä¸€ï¼šclear å±æ€§

åœ¨æµ®åŠ¨å…ƒç´ åæ·»åŠ ä¸€ä¸ªæ¸…é™¤æµ®åŠ¨çš„å…ƒç´ ï¼š

```html
<div class="parent">
  <div class="child" style="float: left;">æµ®åŠ¨å­å…ƒç´ </div>
  <div style="clear: both;"></div>
</div>
```

`clear` çš„å–å€¼ï¼š

- `left`ï¼šæ¸…é™¤å·¦æµ®åŠ¨
- `right`ï¼šæ¸…é™¤å³æµ®åŠ¨
- `both`ï¼šæ¸…é™¤ä¸¤ä¾§æµ®åŠ¨

### æ–¹æ³•äºŒï¼šclearfixï¼ˆä¼ªå…ƒç´ ï¼‰

ä½¿ç”¨ä¼ªå…ƒç´ è‡ªåŠ¨æ¸…é™¤ï¼Œæ— éœ€é¢å¤– HTMLï¼š

```css
.clearfix::after {
  content: '';
  display: block;
  clear: both;
}
```

```html
<div class="parent clearfix">
  <div class="child" style="float: left;">æµ®åŠ¨å­å…ƒç´ </div>
</div>
```

è¿™æ˜¯ä¼ ç»Ÿé¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚

### æ–¹æ³•ä¸‰ï¼šoverflow

çˆ¶å…ƒç´ è®¾ç½® `overflow: hidden` æˆ– `overflow: auto`ï¼š

```css
.parent {
  overflow: hidden;
}
```

è¿™ä¼šè§¦å‘ BFCï¼Œä½†å¯èƒ½ä¼šè£å‰ªæº¢å‡ºçš„å†…å®¹ã€‚

### æ–¹æ³•å››ï¼šdisplay: flow-rootï¼ˆæ¨èï¼‰

ç°ä»£æµè§ˆå™¨æ”¯æŒçš„æœ€ä½³æ–¹æ¡ˆï¼š

```css
.parent {
  display: flow-root;
}
```

ä¸“é—¨ç”¨äºæ¸…é™¤æµ®åŠ¨ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ï¼Œè¯­ä¹‰æ¸…æ™°ã€‚

## BFCï¼ˆå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰

BFCï¼ˆBlock Formatting Contextï¼‰æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªç‹¬ç«‹æ¸²æŸ“åŒºåŸŸï¼Œå†…éƒ¨å…ƒç´ çš„å¸ƒå±€ä¸ä¼šå½±å“å¤–éƒ¨ã€‚

### è§¦å‘ BFC çš„æ¡ä»¶

ä»¥ä¸‹ä»»ä¸€æ¡ä»¶éƒ½ä¼šåˆ›å»º BFCï¼š

```css
/* æ ¹å…ƒç´  */
html {
}

/* float ä¸ä¸º none */
.bfc {
  float: left;
}

/* position ä¸º absolute æˆ– fixed */
.bfc {
  position: absolute;
}

/* display ä¸ºç‰¹å®šå€¼ */
.bfc {
  display: inline-block;
}
.bfc {
  display: flow-root;
} /* æ¨è */
.bfc {
  display: flex;
}
.bfc {
  display: grid;
}
.bfc {
  display: table-cell;
}

/* overflow ä¸ä¸º visible */
.bfc {
  overflow: hidden;
}
.bfc {
  overflow: auto;
}

/* contain ä¸ºç‰¹å®šå€¼ */
.bfc {
  contain: layout;
}
```

### BFC çš„ç‰¹æ€§

#### 1. åŒ…å«æµ®åŠ¨å­å…ƒç´ 

BFC ä¼šåŒ…å«å…¶å†…éƒ¨çš„æµ®åŠ¨å…ƒç´ ï¼Œè§£å†³é«˜åº¦å¡Œé™·ï¼š

```css
.parent {
  display: flow-root; /* åˆ›å»º BFC */
}
```

#### 2. é˜»æ­¢å¤–è¾¹è·åˆå¹¶

BFC å¯ä»¥é˜»æ­¢å‚ç›´å¤–è¾¹è·åˆå¹¶ï¼š

```html
<div class="box1">Box 1</div>
<div class="bfc-wrapper">
  <div class="box2">Box 2</div>
</div>
```

```css
.box1 {
  margin-bottom: 30px;
}

.box2 {
  margin-top: 20px;
}

.bfc-wrapper {
  display: flow-root; /* é˜»æ­¢ box2 çš„ margin ä¸ box1 åˆå¹¶ */
}
/* ç°åœ¨é—´è·æ˜¯ 30px + 20px = 50px */
```

#### 3. ä¸ä¸æµ®åŠ¨å…ƒç´ é‡å 

BFC åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å…ƒç´ é‡å ï¼š

```html
<div class="float-box">æµ®åŠ¨</div>
<div class="main-content">ä¸»å†…å®¹</div>
```

```css
.float-box {
  float: left;
  width: 200px;
  height: 100px;
  background: #3b82f6;
}

.main-content {
  display: flow-root; /* åˆ›å»º BFCï¼Œä¸ä¼šç¯ç»•æµ®åŠ¨å…ƒç´  */
  background: #f3f4f6;
}
```

è¿™å¯ä»¥ç”¨æ¥å®ç°ä¸¤æ å¸ƒå±€ã€‚

## å®æˆ˜æ¡ˆä¾‹

### ç»å…¸ä¸¤æ å¸ƒå±€

```html
<div class="layout">
  <aside class="sidebar">ä¾§è¾¹æ </aside>
  <main class="content">ä¸»å†…å®¹åŒº</main>
</div>
```

```css
.layout {
  display: flow-root; /* æ¸…é™¤æµ®åŠ¨ */
}

.sidebar {
  float: left;
  width: 250px;
  min-height: 400px;
  background: #f3f4f6;
  padding: 1rem;
}

.content {
  display: flow-root; /* ä¸ä¸ sidebar é‡å  */
  min-height: 400px;
  background: white;
  padding: 1rem;
  margin-left: 260px; /* sidebar å®½åº¦ + é—´è· */
}
```

### ä¸‰æ å¸ƒå±€ï¼ˆåœ£æ¯å¸ƒå±€ï¼‰

```html
<div class="holy-grail">
  <main class="main">ä¸»å†…å®¹ï¼ˆDOM é¡ºåºä¼˜å…ˆï¼‰</main>
  <nav class="left">å·¦ä¾§å¯¼èˆª</nav>
  <aside class="right">å³ä¾§è¾¹æ </aside>
</div>
```

```css
.holy-grail {
  padding-left: 200px;
  padding-right: 150px;
}

.holy-grail::after {
  content: '';
  display: block;
  clear: both;
}

.main {
  float: left;
  width: 100%;
  min-height: 300px;
  background: white;
}

.left {
  float: left;
  width: 200px;
  min-height: 300px;
  margin-left: -100%;
  position: relative;
  left: -200px;
  background: #f3f4f6;
}

.right {
  float: left;
  width: 150px;
  min-height: 300px;
  margin-left: -150px;
  position: relative;
  right: -150px;
  background: #e5e7eb;
}
```

ğŸ”¶ è¿™ç§å¸ƒå±€ç°åœ¨ç”¨ Flexbox æˆ– Grid å®ç°æ›´ç®€å•ï¼Œè¿™é‡Œåªæ˜¯å±•ç¤ºæµ®åŠ¨å¸ƒå±€çš„åŸç†ã€‚

### åª’ä½“å¯¹è±¡

ç»å…¸çš„"å›¾ç‰‡+æ–‡å­—"æ¨¡å¼ï¼š

```html
<div class="media">
  <img src="avatar.jpg" class="media-image" alt="" />
  <div class="media-body">
    <h4>ç”¨æˆ·å</h4>
    <p>è¯„è®ºå†…å®¹...</p>
  </div>
</div>
```

```css
.media {
  display: flow-root;
}

.media-image {
  float: left;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  margin-right: 1rem;
}

.media-body {
  display: flow-root; /* ä¸ç¯ç»•å›¾ç‰‡ */
}

.media-body h4 {
  margin: 0 0 0.5rem;
}

.media-body p {
  margin: 0;
  color: #6b7280;
}
```

### å¤šåˆ—ç­‰é«˜å¸ƒå±€

åˆ©ç”¨ BFC å®ç°ç­‰é«˜åˆ—ï¼š

```html
<div class="columns">
  <div class="column">
    <p>çŸ­å†…å®¹</p>
  </div>
  <div class="column">
    <p>è¿™æ˜¯ä¸€æ®µå¾ˆé•¿å¾ˆé•¿çš„å†…å®¹...</p>
    <p>è¿˜æœ‰æ›´å¤šå†…å®¹...</p>
  </div>
</div>
```

```css
.columns {
  display: flow-root;
  background: #e5e7eb; /* è¿™ä¸ªèƒŒæ™¯è‰²ä¼šå¡«å……"çŸ­"åˆ—çš„ç©ºç™½ */
}

.column {
  float: left;
  width: 50%;
  padding: 1rem;
  background: white;
  /* ä½¿ç”¨è´Ÿ margin æŠ€å·§ */
  padding-bottom: 9999px;
  margin-bottom: -9999px;
}
```

ğŸ”¶ è¿™æ˜¯ä¸ªè€æŠ€å·§ï¼Œç°ä»£å¸ƒå±€ç”¨ Flexbox çš„ `align-items: stretch` æ›´ç®€å•ã€‚

## æµ®åŠ¨ vs ç°ä»£å¸ƒå±€

| ç‰¹æ€§       | æµ®åŠ¨         | Flexbox/Grid |
| ---------- | ------------ | ------------ |
| è®¾è®¡ç›®çš„   | æ–‡å­—ç¯ç»•     | å¸ƒå±€         |
| ä½¿ç”¨å¤æ‚åº¦ | éœ€è¦æ¸…é™¤æµ®åŠ¨ | ç®€å•ç›´è§‚     |
| å‚ç›´å±…ä¸­   | å›°éš¾         | å®¹æ˜“         |
| ç­‰é«˜åˆ—     | éœ€è¦ hack    | è‡ªåŠ¨æ”¯æŒ     |
| å“åº”å¼     | éœ€è¦åª’ä½“æŸ¥è¯¢ | æ›´çµæ´»       |
| æµè§ˆå™¨æ”¯æŒ | æ‰€æœ‰æµè§ˆå™¨   | ç°ä»£æµè§ˆå™¨   |

### ä½•æ—¶ä½¿ç”¨æµ®åŠ¨

- çœŸæ­£çš„æ–‡å­—ç¯ç»•æ•ˆæœ
- ç»´æŠ¤è€é¡¹ç›®
- éœ€è¦æ”¯æŒæè€çš„æµè§ˆå™¨

### ä½•æ—¶ä½¿ç”¨ Flexbox/Grid

- å‡ ä¹æ‰€æœ‰å¸ƒå±€åœºæ™¯
- æ–°é¡¹ç›®
- å¤æ‚çš„å“åº”å¼å¸ƒå±€

## å¸¸è§é—®é¢˜

ğŸ¤” **ä¸ºä»€ä¹ˆæˆ‘çš„æµ®åŠ¨å…ƒç´ è·‘åˆ°å®¹å™¨å¤–é¢äº†ï¼Ÿ**

çˆ¶å…ƒç´ æ²¡æœ‰åŒ…å«æµ®åŠ¨å­å…ƒç´ ã€‚ä½¿ç”¨ `display: flow-root` æˆ– clearfix è§£å†³ã€‚

ğŸ¤” **æµ®åŠ¨å…ƒç´ æ—è¾¹çš„å†…å®¹ä¸ºä»€ä¹ˆä¼šè·‘åˆ°æµ®åŠ¨å…ƒç´ ä¸‹é¢ï¼Ÿ**

æµ®åŠ¨å…ƒç´ è„±ç¦»äº†æ–‡æ¡£æµã€‚å¦‚æœä¸æƒ³ç¯ç»•ï¼Œç»™æ—è¾¹çš„å…ƒç´ ä¹Ÿè§¦å‘ BFCã€‚

ğŸ¤” **display: flow-root å’Œ overflow: hidden æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**

åŠŸèƒ½ä¸Šéƒ½èƒ½åˆ›å»º BFC æ¸…é™¤æµ®åŠ¨ã€‚ä½† `overflow: hidden` ä¼šè£å‰ªæº¢å‡ºå†…å®¹ï¼Œ`flow-root` æ²¡æœ‰å‰¯ä½œç”¨ï¼Œæ¨èä½¿ç”¨åè€…ã€‚

---

æµ®åŠ¨å’Œ BFC æ˜¯ CSS å¸ƒå±€å‘å±•å†ç¨‹ä¸­çš„é‡è¦æ¦‚å¿µã€‚è™½ç„¶ç°ä»£å¼€å‘ä¸­ Flexbox å’Œ Grid æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œä½†ç†è§£è¿™äº›æ¦‚å¿µæœ‰åŠ©äºæ’æŸ¥é—ç•™é—®é¢˜å’Œç†è§£ CSS çš„å·¥ä½œåŸç†ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Flexboxï¼Œå®ƒæ˜¯ç°ä»£ CSS å¸ƒå±€çš„åŸºçŸ³ã€‚
