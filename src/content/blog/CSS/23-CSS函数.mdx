---
title: CSS å‡½æ•°
description: æŒæ¡ CSS å†…ç½®å‡½æ•°ï¼Œä» calc() è®¡ç®—åˆ° clamp() å“åº”å¼ï¼Œæå‡æ ·å¼çš„çµæ´»æ€§
pubDate: 2025-12-03
toc: true
ogImage: true
category: CSS
---

CSS å‡½æ•°è®©æ ·å¼è®¡ç®—å’ŒåŠ¨ï¿½ï¿½ï¿½å€¼æˆä¸ºå¯èƒ½ã€‚ä»åŸºç¡€çš„ `calc()` åˆ°å“åº”å¼çš„ `clamp()`ï¼Œä»å˜é‡çš„ `var()` åˆ°ç¯å¢ƒçš„ `env()`ï¼Œè¿™äº›å‡½æ•°æå¤§æ‰©å±•äº† CSS çš„èƒ½åŠ›ã€‚

## calc() è®¡ç®—å‡½æ•°

### åŸºæœ¬ç”¨æ³•

```css
.element {
  /* æ··åˆå•ä½è®¡ç®— */
  width: calc(100% - 40px);
  height: calc(100vh - 80px);
  padding: calc(1rem + 10px);
}
```

### æ”¯æŒçš„è¿ç®—

```css
.math {
  /* åŠ æ³• */
  width: calc(100px + 50px);

  /* å‡æ³• */
  width: calc(100% - 20px);

  /* ä¹˜æ³•ï¼ˆè‡³å°‘ä¸€ä¸ªæ— å•ä½æ•°ï¼‰ */
  width: calc(10px * 3);
  width: calc(3 * 10px);

  /* é™¤æ³•ï¼ˆé™¤æ•°å¿…é¡»æ— å•ä½ï¼‰ */
  width: calc(100px / 2);
}
```

ğŸ¯ è¿ç®—ç¬¦ä¸¤è¾¹å¿…é¡»æœ‰ç©ºæ ¼ï¼ˆ`+` å’Œ `-`ï¼‰ï¼Œå¦åˆ™ä¼šè§£æé”™è¯¯ã€‚

### åµŒå¥—è®¡ç®—

```css
.nested {
  width: calc(100% - calc(20px * 2));

  /* ç®€åŒ–å†™æ³•ï¼ˆæ— éœ€åµŒå¥—ï¼‰ */
  width: calc(100% - 20px * 2);
}
```

### ä¸å˜é‡é…åˆ

```css
:root {
  --sidebar-width: 280px;
  --header-height: 64px;
}

.main {
  width: calc(100% - var(--sidebar-width));
  height: calc(100vh - var(--header-height));
}
```

### å®ç”¨æ¡ˆä¾‹

```css
/* ç­‰åˆ†å¸ƒå±€ç•™é—´éš™ */
.column {
  width: calc((100% - 40px) / 3);
  /* 3åˆ—ï¼Œé—´éš™å…±40px */
}

/* é»„é‡‘æ¯”ä¾‹ */
.golden {
  width: calc(100% / 1.618);
}

/* ä¿æŒå®½é«˜æ¯” */
.ratio-box {
  width: 100%;
  padding-bottom: calc(100% * 9 / 16); /* 16:9 */
}
```

## min() / max() æ¯”è¾ƒå‡½æ•°

### min() å–æœ€å°å€¼

```css
.element {
  /* å–ä¸¤è€…ä¸­è¾ƒå°çš„å€¼ */
  width: min(100%, 800px);
  /* ç›¸å½“äº max-width: 800px çš„æ•ˆæœ */

  padding: min(5vw, 40px);
  font-size: min(4vw, 24px);
}
```

### max() å–æœ€å¤§å€¼

```css
.element {
  /* å–ä¸¤è€…ä¸­è¾ƒå¤§çš„å€¼ */
  width: max(300px, 50%);
  /* ç›¸å½“äº min-width: 300px çš„æ•ˆæœ */

  padding: max(2vw, 16px);
  font-size: max(16px, 1vw);
}
```

### å¤šä¸ªå‚æ•°

```css
.element {
  /* å¯ä»¥æœ‰å¤šä¸ªå‚æ•° */
  width: min(100%, 800px, 90vw);
  padding: max(16px, 2vw, 1rem);
}
```

### åµŒå¥—ä½¿ç”¨

```css
.element {
  /* è®¾ç½®èŒƒå›´ */
  font-size: max(16px, min(4vw, 24px));
  /* æœ€å° 16pxï¼Œæœ€å¤§ 24pxï¼Œä¸­é—´å“åº”å¼ */
}
```

## clamp() èŒƒå›´é™åˆ¶

`clamp(min, preferred, max)` æ˜¯ `min()` å’Œ `max()` çš„ç»„åˆï¼š

```css
.element {
  /* clamp(æœ€å°å€¼, é¦–é€‰å€¼, æœ€å¤§å€¼) */
  font-size: clamp(16px, 4vw, 24px);

  /* ç­‰ä»·äº */
  font-size: max(16px, min(4vw, 24px));
}
```

### å“åº”å¼æ’ç‰ˆ

```css
h1 {
  font-size: clamp(2rem, 5vw, 4rem);
}

h2 {
  font-size: clamp(1.5rem, 4vw, 2.5rem);
}

p {
  font-size: clamp(1rem, 2.5vw, 1.25rem);
}
```

### å“åº”å¼é—´è·

```css
.container {
  padding: clamp(16px, 5vw, 64px);
}

.section {
  margin-block: clamp(40px, 10vh, 120px);
}

.gap {
  gap: clamp(16px, 3vw, 32px);
}
```

### å“åº”å¼å®½åº¦

```css
.content {
  width: clamp(320px, 90%, 1200px);
  margin-inline: auto;
}

.sidebar {
  width: clamp(200px, 25%, 300px);
}
```

## var() å˜é‡å‡½æ•°

### åŸºæœ¬ç”¨æ³•

```css
:root {
  --primary: #3b82f6;
  --spacing: 16px;
}

.button {
  background: var(--primary);
  padding: var(--spacing);
}
```

### å›é€€å€¼

```css
.element {
  /* å˜é‡ä¸å­˜åœ¨æ—¶ä½¿ç”¨å›é€€å€¼ */
  color: var(--text-color, #333);
  padding: var(--padding, 16px);

  /* åµŒå¥—å›é€€ */
  background: var(--bg, var(--fallback-bg, white));
}
```

### ç»„åˆä½¿ç”¨

```css
:root {
  --h: 217;
  --s: 91%;
  --l: 60%;
}

.element {
  background: hsl(var(--h) var(--s) var(--l));
  border-color: hsl(var(--h) var(--s) calc(var(--l) - 20%));
}
```

## env() ç¯å¢ƒå‡½æ•°

ï¿½ï¿½å–ç”¨æˆ·ä»£ç†å®šä¹‰çš„ç¯å¢ƒå˜é‡ï¼š

```css
/* iPhone åˆ˜æµ·å±å®‰å…¨åŒºåŸŸ */
.container {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/* å¸¦å›é€€å€¼ */
.header {
  padding-top: env(safe-area-inset-top, 20px);
}
```

### å®‰å…¨åŒºåŸŸ

```css
/* å›ºå®šåº•éƒ¨å¯¼èˆª */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding-bottom: env(safe-area-inset-bottom);
  background: white;
}

/* å…¨é¢å±é€‚é… */
body {
  padding: env(safe-area-inset-top) env(safe-area-inset-right)
    env(safe-area-inset-bottom) env(safe-area-inset-left);
}
```

## attr() å±æ€§å‡½æ•°

è·å– HTML å±æ€§å€¼ï¼ˆç›®å‰ä¸»è¦ç”¨äº `content`ï¼‰ï¼š

```css
/* æ˜¾ç¤º data å±æ€§ */
.tooltip::after {
  content: attr(data-tooltip);
}

/* æ˜¾ç¤ºé“¾æ¥åœ°å€ */
a::after {
  content: ' (' attr(href) ')';
}

/* æ‰“å°æ—¶æ˜¾ç¤º URL */
@media print {
  a[href]::after {
    content: ' [' attr(href) ']';
  }
}
```

## url() èµ„æºå‡½æ•°

```css
.element {
  background-image: url('/images/bg.jpg');
  background-image: url('data:image/svg+xml,...');

  /* ç›¸å¯¹è·¯å¾„ */
  background: url('../images/pattern.png');

  /* ç»å¯¹è·¯å¾„ */
  background: url('https://example.com/image.jpg');
}
```

## é¢œè‰²å‡½æ•°

```css
.colors {
  color: rgb(59 130 246);
  color: rgba(59, 130, 246, 0.5);
  color: hsl(217 91% 60%);
  color: hsla(217, 91%, 60%, 0.5);
  color: oklch(0.6 0.15 250);
  color: color-mix(in oklch, blue, red);
}
```

## æ¸å˜å‡½æ•°

```css
.gradients {
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  background: radial-gradient(circle at center, #3b82f6, transparent);
  background: conic-gradient(from 0deg, red, yellow, green, blue, red);
  background: repeating-linear-gradient(45deg, #3b82f6 0 10px, #fff 10px 20px);
}
```

## å˜æ¢å‡½æ•°

```css
.transform {
  transform: translate(100px, 50px);
  transform: rotate(45deg);
  transform: scale(1.5);
  transform: skew(10deg, 5deg);
  transform: matrix(1, 0, 0, 1, 0, 0);

  /* 3D å˜æ¢ */
  transform: translate3d(100px, 50px, 30px);
  transform: rotate3d(1, 1, 0, 45deg);
  transform: perspective(1000px) rotateY(30deg);
}
```

## æ»¤é•œå‡½æ•°

```css
.filter {
  filter: blur(4px);
  filter: brightness(1.5);
  filter: contrast(1.2);
  filter: grayscale(1);
  filter: hue-rotate(90deg);
  filter: invert(1);
  filter: opacity(0.5);
  filter: saturate(2);
  filter: sepia(0.5);
  filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.3));
}
```

## å½¢çŠ¶å‡½æ•°

```css
.shapes {
  clip-path: circle(50%);
  clip-path: ellipse(50% 30%);
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
  clip-path: inset(10px 20px 30px 40px round 8px);
  clip-path: path('M 0 0 L 100 0 L 100 100 Z');
}
```

## è®¡æ•°å‡½æ•°

```css
.counter {
  counter-reset: section;
}

.counter h2::before {
  counter-increment: section;
  content: counter(section) '. ';
}

/* åµŒå¥—è®¡æ•° */
.nested::before {
  content: counters(section, '.') ' ';
}
```

## å®æˆ˜æ¡ˆä¾‹

### æµä½“æ’ç‰ˆç³»ç»Ÿ

```css
:root {
  /* åŸºäºè§†å£çš„æµä½“å­—å· */
  --fluid-min-width: 320;
  --fluid-max-width: 1200;

  --fluid-screen: 100vw;
  --fluid-bp: calc(
    (var(--fluid-screen) - var(--fluid-min-width) / 16 * 1rem) /
      (var(--fluid-max-width) - var(--fluid-min-width))
  );
}

h1 {
  font-size: clamp(2rem, 1.5rem + 3vw, 4rem);
  line-height: clamp(1.1, 1 + 0.5vw, 1.3);
}

p {
  font-size: clamp(1rem, 0.9rem + 0.5vw, 1.25rem);
  line-height: clamp(1.5, 1.4 + 0.3vw, 1.8);
}
```

### å“åº”å¼ç½‘æ ¼

```css
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
  gap: clamp(16px, 3vw, 32px);
  padding: clamp(16px, 5vw, 64px);
}
```

### è‡ªé€‚åº”å®¹å™¨

```css
.container {
  width: min(90%, 1200px);
  margin-inline: auto;
  padding-inline: max(16px, 5vw - 32px);
}

/* ä¸åŒå†…å®¹å®½åº¦ */
.prose {
  max-width: min(65ch, 100%);
}

.wide {
  max-width: min(1400px, 95%);
}
```

### åŠ¨æ€é—´è·

```css
:root {
  --space-xs: clamp(4px, 1vw, 8px);
  --space-sm: clamp(8px, 2vw, 16px);
  --space-md: clamp(16px, 4vw, 32px);
  --space-lg: clamp(32px, 8vw, 64px);
  --space-xl: clamp(64px, 15vw, 128px);
}

.section {
  padding-block: var(--space-lg);
}

.card {
  padding: var(--space-md);
  gap: var(--space-sm);
}
```

### å®‰å…¨åŒºåŸŸé€‚é…

```css
.app {
  min-height: 100vh;
  min-height: calc(
    100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom)
  );

  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

.fixed-bottom {
  position: fixed;
  bottom: 0;
  left: env(safe-area-inset-left);
  right: env(safe-area-inset-right);
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
}
```

### è®¡ç®—å¸ƒå±€

```css
:root {
  --header-height: 64px;
  --sidebar-width: 280px;
  --footer-height: 120px;
}

.layout {
  display: grid;
  grid-template-rows: var(--header-height) 1fr var(--footer-height);
  min-height: 100vh;
}

.main-content {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr;
}

.page-content {
  height: calc(100vh - var(--header-height));
  overflow-y: auto;
}
```

## å‡½æ•°ç»„åˆæŠ€å·§

### clamp ä¸ calc ç»„åˆ

```css
.element {
  /* åŸºäºå®¹å™¨çš„å“åº”å¼ */
  padding: clamp(16px, calc(5% + 8px), 48px);

  /* å¸¦åç§»çš„å“åº”å¼å­—å· */
  font-size: clamp(14px, calc(0.5rem + 1vw), 20px);
}
```

### min/max ä¸ var ç»„åˆ

```css
:root {
  --min-padding: 16px;
  --max-padding: 64px;
}

.container {
  padding: max(var(--min-padding), min(5vw, var(--max-padding)));
}
```

## å¸¸è§é—®é¢˜

ğŸ¤” **calc() ä¸­èƒ½ç”¨å˜é‡å—ï¼Ÿ**

å¯ä»¥ï¼Œä½†å˜é‡å¿…é¡»åŒ…å«å•ä½ï¼š

```css
:root {
  --multiplier: 2; /* é”™è¯¯ï¼šæ— å•ä½ */
  --multiplier: 2px; /* æ­£ç¡® */
}

/* æˆ–è€…ç”¨ calc æ·»åŠ å•ä½ */
.element {
  width: calc(var(--multiplier) * 1px * 100);
}
```

ğŸ¤” **clamp() å’Œ åª’ä½“ï¿½ï¿½ï¿½è¯¢æ€ä¹ˆé€‰ï¼Ÿ**

`clamp()` é€‚åˆå¹³æ»‘è¿‡æ¸¡çš„å“åº”å¼å€¼ï¼Œåª’ä½“æŸ¥è¯¢é€‚åˆæ–­ç‚¹å¼å˜åŒ–ã€‚ä¸¤è€…å¯ä»¥é…åˆä½¿ç”¨ã€‚

ğŸ¤” **env() ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ**

ç¡®ä¿ HTML çš„ `viewport` meta æ ‡ç­¾åŒ…å« `viewport-fit=cover`ï¼š

```html
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, viewport-fit=cover"
/>
```

---

CSS å‡½æ•°æå¤§å¢å¼ºäº†æ ·å¼çš„è¡¨è¾¾èƒ½åŠ›ã€‚ä» `calc()` çš„æ•°å­¦è®¡ç®—åˆ° `clamp()` çš„å“åº”å¼è®¾è®¡ï¼ŒæŒæ¡è¿™äº›å‡½æ•°èƒ½è®©ä½ å†™å‡ºæ›´çµæ´»ã€ï¿½ï¿½å¼ºå¤§çš„æ ·å¼ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†å­¦ä¹ å¤šåˆ—å¸ƒå±€ã€‚
