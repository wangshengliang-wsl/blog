---
title: 响应式设计基础
description: 学习响应式 Web 设计的基础知识，包括视口设置、媒体查询、响应式图片和移动优先的开发方法
pubDate: 2025-11-28
toc: true
ogImage: true
category: HTML
---

响应式设计让网页能够适应不同的屏幕尺寸，从手机到桌面显示器都能提供良好的用户体验。虽然响应式设计主要依赖 CSS，但 HTML 也起着重要作用。

## 什么是响应式设计

响应式设计（Responsive Web Design）是一种让网页根据设备屏幕大小自动调整布局的方法。核心思想是：

- 一套代码，多端适配
- 内容流动，布局灵活
- 图片和媒体自适应

## 视口设置

视口（Viewport）是浏览器显示网页的区域。移动设备需要正确的视口设置：

```html
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
```

### 视口属性详解

```html
<meta
  name="viewport"
  content="
  width=device-width,
  initial-scale=1,
  maximum-scale=5,
  minimum-scale=1
"
/>
```

| 属性                 | 说明                 |
| -------------------- | -------------------- |
| `width=device-width` | 视口宽度等于设备宽度 |
| `initial-scale=1`    | 初始缩放比例为 1     |
| `maximum-scale=5`    | 最大缩放比例         |
| `minimum-scale=1`    | 最小缩放比例         |
| `user-scalable=yes`  | 允许用户缩放         |

### 不要禁止缩放

```html
<!-- 不好：禁止用户缩放，影响无障碍 -->
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1"
/>

<!-- 好：允许用户缩放 -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
```

禁止缩放会影响视力障碍用户的使用体验。

## 响应式图片

### srcset 属性

根据屏幕密度提供不同分辨率的图片：

```html
<!-- 像素密度描述符 -->
<img
  src="image.jpg"
  srcset="image.jpg 1x, image@2x.jpg 2x, image@3x.jpg 3x"
  alt="图片描述"
/>

<!-- 宽度描述符 -->
<img
  src="image-800.jpg"
  srcset="image-400.jpg 400w, image-800.jpg 800w, image-1200.jpg 1200w"
  sizes="(max-width: 600px) 400px,
         (max-width: 1000px) 800px,
         1200px"
  alt="图片描述"
/>
```

### sizes 属性

告诉浏览器图片在不同视口宽度下的显示大小：

```html
<img
  src="image.jpg"
  srcset="small.jpg 400w, medium.jpg 800w, large.jpg 1200w"
  sizes="(max-width: 600px) 100vw,
         (max-width: 1000px) 50vw,
         33vw"
  alt="描述"
/>
```

含义：

- 视口 ≤ 600px：图片宽度为 100vw（视口宽度）
- 视口 ≤ 1000px：图片宽度为 50vw
- 其他：图片宽度为 33vw

### picture 元素

根据条件加载不同的图片：

```html
<picture>
  <!-- 大屏幕用横图 -->
  <source media="(min-width: 1200px)" srcset="hero-wide.jpg" />
  <!-- 中等屏幕用方图 -->
  <source media="(min-width: 600px)" srcset="hero-square.jpg" />
  <!-- 小屏幕用竖图 -->
  <img src="hero-tall.jpg" alt="主图" />
</picture>
```

### 艺术指导

不同设备显示不同裁剪的图片：

```html
<picture>
  <!-- 桌面：完整场景 -->
  <source media="(min-width: 1024px)" srcset="landscape-full.jpg" />
  <!-- 平板：中等裁剪 -->
  <source media="(min-width: 768px)" srcset="landscape-medium.jpg" />
  <!-- 手机：聚焦主体 -->
  <img src="landscape-cropped.jpg" alt="风景照" />
</picture>
```

### 格式选择

根据浏览器支持选择最优格式：

```html
<picture>
  <!-- 优先使用 AVIF -->
  <source type="image/avif" srcset="image.avif" />
  <!-- 次选 WebP -->
  <source type="image/webp" srcset="image.webp" />
  <!-- 兜底 JPEG -->
  <img src="image.jpg" alt="描述" />
</picture>
```

### 响应式图片完整示例

```html
<picture>
  <!-- AVIF 格式，不同尺寸 -->
  <source
    type="image/avif"
    srcset="image-400.avif 400w, image-800.avif 800w, image-1200.avif 1200w"
    sizes="(max-width: 600px) 100vw, 50vw"
  />
  <!-- WebP 格式，不同尺寸 -->
  <source
    type="image/webp"
    srcset="image-400.webp 400w, image-800.webp 800w, image-1200.webp 1200w"
    sizes="(max-width: 600px) 100vw, 50vw"
  />
  <!-- JPEG 兜底 -->
  <img
    src="image-800.jpg"
    srcset="image-400.jpg 400w, image-800.jpg 800w, image-1200.jpg 1200w"
    sizes="(max-width: 600px) 100vw, 50vw"
    alt="图片描述"
    loading="lazy"
  />
</picture>
```

## 响应式视频

### 自适应宽度

```html
<style>
  .video-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 比例 */
  }

  .video-container video,
  .video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>

<div class="video-container">
  <video controls>
    <source src="video.mp4" type="video/mp4" />
  </video>
</div>
```

### 不同分辨率的视频

```html
<video controls>
  <!-- 浏览器会选择合适的源 -->
  <source src="video-1080p.mp4" type="video/mp4" media="(min-width: 1200px)" />
  <source src="video-720p.mp4" type="video/mp4" media="(min-width: 768px)" />
  <source src="video-480p.mp4" type="video/mp4" />
</video>
```

## 媒体查询

虽然媒体查询主要在 CSS 中使用，但 HTML 也可以使用：

### link 标签中的媒体查询

```html
<head>
  <!-- 所有设备的基础样式 -->
  <link rel="stylesheet" href="base.css" />

  <!-- 小屏幕样式 -->
  <link rel="stylesheet" href="mobile.css" media="(max-width: 767px)" />

  <!-- 大屏幕样式 -->
  <link rel="stylesheet" href="desktop.css" media="(min-width: 768px)" />

  <!-- 打印样式 -->
  <link rel="stylesheet" href="print.css" media="print" />
</head>
```

### style 标签中的媒体查询

```html
<style>
  /* 基础样式 */
  .container {
    width: 100%;
    padding: 20px;
  }

  /* 平板及以上 */
  @media (min-width: 768px) {
    .container {
      max-width: 720px;
      margin: 0 auto;
    }
  }

  /* 桌面 */
  @media (min-width: 1024px) {
    .container {
      max-width: 960px;
    }
  }
</style>
```

### 常用断点

| 设备 | 断点            |
| ---- | --------------- |
| 手机 | < 768px         |
| 平板 | 768px - 1023px  |
| 桌面 | 1024px - 1279px |
| 大屏 | ≥ 1280px        |

## 移动优先

移动优先是一种开发策略：先为移动设备设计，再逐步增强到大屏幕。

### 移动优先的 HTML 结构

```html
<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>响应式网站</title>

    <!-- 移动优先的样式 -->
    <style>
      /* 基础样式（移动端） */
      .nav {
        display: flex;
        flex-direction: column;
      }

      .content {
        padding: 16px;
      }

      /* 平板及以上 */
      @media (min-width: 768px) {
        .nav {
          flex-direction: row;
        }

        .content {
          padding: 24px;
        }
      }

      /* 桌面 */
      @media (min-width: 1024px) {
        .content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 32px;
        }
      }
    </style>
  </head>
  <body>
    <nav class="nav">
      <!-- 导航内容 -->
    </nav>

    <main class="content">
      <!-- 主要内容 -->
    </main>
  </body>
</html>
```

### 渐进增强

```html
<!-- 基础功能：所有设备都能用 -->
<form action="/search" method="GET">
  <input type="search" name="q" placeholder="搜索..." />
  <button type="submit">搜索</button>
</form>

<!-- 增强功能：支持的设备才有 -->
<script>
  if ('IntersectionObserver' in window) {
    // 添加图片懒加载
  }

  if ('serviceWorker' in navigator) {
    // 添加离线支持
  }
</script>
```

## 触摸友好

### 触摸目标大小

```html
<style>
  /* 触摸目标至少 44x44 像素 */
  .button {
    min-width: 44px;
    min-height: 44px;
    padding: 12px 24px;
  }

  .nav-link {
    display: block;
    padding: 12px 16px;
  }

  /* 列表项 */
  .list-item {
    padding: 16px;
  }
</style>

<nav>
  <a href="/" class="nav-link">首页</a>
  <a href="/about" class="nav-link">关于</a>
</nav>
```

### 触摸间距

```html
<style>
  /* 按钮之间留有足够间距 */
  .button-group {
    display: flex;
    gap: 12px;
  }

  /* 表单元素间距 */
  .form-group {
    margin-bottom: 16px;
  }
</style>

<div class="button-group">
  <button>确定</button>
  <button>取消</button>
</div>
```

## 响应式表格

表格在小屏幕上容易溢出，需要特殊处理：

### 水平滚动

```html
<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>名称</th>
        <th>价格</th>
        <th>库存</th>
        <th>销量</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>产品 A</td>
        <td>¥99</td>
        <td>100</td>
        <td>50</td>
      </tr>
    </tbody>
  </table>
</div>

<style>
  .table-container {
    overflow-x: auto;
  }

  table {
    min-width: 600px;
    width: 100%;
  }
</style>
```

### 堆叠布局

```html
<style>
  @media (max-width: 600px) {
    table,
    thead,
    tbody,
    tr,
    th,
    td {
      display: block;
    }

    thead {
      display: none;
    }

    tr {
      margin-bottom: 16px;
      border: 1px solid #ddd;
    }

    td {
      padding: 8px;
      text-align: right;
    }

    td::before {
      content: attr(data-label);
      float: left;
      font-weight: bold;
    }
  }
</style>

<table>
  <thead>
    <tr>
      <th>名称</th>
      <th>价格</th>
      <th>库存</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-label="名称">产品 A</td>
      <td data-label="价格">¥99</td>
      <td data-label="库存">100</td>
    </tr>
  </tbody>
</table>
```

## 响应式导航

### 汉堡菜单

```html
<header>
  <nav>
    <a href="/" class="logo">Logo</a>

    <button
      class="menu-toggle"
      aria-expanded="false"
      aria-controls="nav-menu"
      aria-label="菜单"
    >
      <span class="hamburger"></span>
    </button>

    <ul id="nav-menu" class="nav-menu">
      <li><a href="/">首页</a></li>
      <li><a href="/about">关于</a></li>
      <li><a href="/contact">联系</a></li>
    </ul>
  </nav>
</header>

<style>
  /* 移动端：隐藏菜单 */
  .nav-menu {
    display: none;
  }

  .nav-menu.active {
    display: block;
  }

  .menu-toggle {
    display: block;
  }

  /* 桌面：显示菜单，隐藏按钮 */
  @media (min-width: 768px) {
    .nav-menu {
      display: flex;
    }

    .menu-toggle {
      display: none;
    }
  }
</style>

<script>
  const toggle = document.querySelector('.menu-toggle')
  const menu = document.querySelector('.nav-menu')

  toggle.addEventListener('click', () => {
    const isExpanded = toggle.getAttribute('aria-expanded') === 'true'
    toggle.setAttribute('aria-expanded', !isExpanded)
    menu.classList.toggle('active')
  })
</script>
```

## 响应式表单

```html
<form class="responsive-form">
  <div class="form-row">
    <div class="form-group">
      <label for="firstName">名</label>
      <input type="text" id="firstName" name="firstName" />
    </div>
    <div class="form-group">
      <label for="lastName">姓</label>
      <input type="text" id="lastName" name="lastName" />
    </div>
  </div>

  <div class="form-group">
    <label for="email">邮箱</label>
    <input type="email" id="email" name="email" />
  </div>

  <button type="submit">提交</button>
</form>

<style>
  .form-group {
    margin-bottom: 16px;
  }

  .form-group label {
    display: block;
    margin-bottom: 4px;
  }

  .form-group input {
    width: 100%;
    padding: 12px;
    font-size: 16px; /* 防止 iOS 缩放 */
  }

  /* 桌面端：并排显示 */
  @media (min-width: 768px) {
    .form-row {
      display: flex;
      gap: 16px;
    }

    .form-row .form-group {
      flex: 1;
    }
  }
</style>
```

## 测试响应式设计

### 浏览器开发者工具

Chrome DevTools 提供设备模拟：

1. 打开开发者工具（F12）
2. 点击设备切换按钮
3. 选择不同设备或自定义尺寸

### 真机测试

```html
<!-- 确保在真机上测试 -->
<script>
  // 检测触摸设备
  if ('ontouchstart' in window) {
    document.body.classList.add('touch-device')
  }
</script>
```

### 检查清单

```markdown
## 响应式检查清单

### 视口

- [ ] 有正确的 viewport 设置
- [ ] 没有禁止用户缩放
- [ ] 内容不会水平溢出

### 图片

- [ ] 使用响应式图片
- [ ] 图片有合适的尺寸
- [ ] 使用现代图片格式

### 触摸

- [ ] 触摸目标足够大（≥44px）
- [ ] 元素之间有足够间距
- [ ] 没有悬停才能触发的功能

### 布局

- [ ] 移动端优先
- [ ] 断点合理
- [ ] 文字大小合适（≥16px）

### 导航

- [ ] 移动端导航可用
- [ ] 菜单按钮有 aria 属性
- [ ] 导航链接容易点击
```

## 小结

响应式设计的 HTML 要点：

**视口设置**：

- 使用 `<meta name="viewport">`
- 不要禁止用户缩放

**响应式图片**：

- `srcset` ���供不同分辨率
- `sizes` 指定显示尺寸
- `<picture>` 实现艺术指导

**移动优先**：

- 先为移动端设计
- 使用媒体查询渐进增强
- 考虑触摸交互

**无障碍**：

- 触摸目��足够大
- 保持可缩放
- 响应式导航要有 ARIA

响应式设计让一个网站能服务所有设备的用户，是现代 Web 开发的基础技能。

下一篇会介绍 HTML 模板标签。
