---
title: 新增表单特性
description: 详解 HTML5 表单的新增特性，包括新的 input 类型、表单属性、原生验证、datalist 和表单元素增强
pubDate: 2025-11-28
toc: true
ogImage: true
category: HTML
---

HTML5 大幅增强了表单功能，新增了多种输入类型、验证属性和表单元素。这些特性减少了对 JavaScript 的依赖，提升了用户体验。

## 新增 input 类型

### email 邮箱

```html
<input type="email" name="email" required />
```

特点：

- 自动验证邮箱格式
- 移动端显示带 @ 的键盘
- 支持 multiple 属性输入多个邮箱

```html
<!-- 多个邮箱，逗号分隔 -->
<input type="email" name="emails" multiple />
```

### url 网址

```html
<input type="url" name="website" placeholder="https://example.com" />
```

自动验证 URL 格式，移动端显示适合输入网址的键盘。

### tel 电话

```html
<input type="tel" name="phone" pattern="1[3-9]\d{9}" />
```

不会自动验证格式（各国格式不同），但移动端会显示数字键盘。

### number 数字

```html
<input type="number" name="quantity" min="1" max="100" step="1" value="1" />
```

属性：

- `min`：最小值
- `max`：最大值
- `step`：步进值
- `value`：默认值

显示带增减按钮的输入框。

### range 滑块

```html
<input type="range" name="volume" min="0" max="100" value="50" />
<output id="rangeValue">50</output>

<script>
  const range = document.querySelector('input[type="range"]')
  const output = document.getElementById('rangeValue')
  range.addEventListener('input', () => {
    output.textContent = range.value
  })
</script>
```

### date 日期

```html
<input type="date" name="birthday" min="1900-01-01" max="2024-12-31" />
```

显示日期选择器，值格式为 `YYYY-MM-DD`。

### time 时间

```html
<input type="time" name="meeting-time" min="09:00" max="18:00" />
```

显示时间选择器，值格式为 `HH:MM`。

### datetime-local 本地日期时间

```html
<input type="datetime-local" name="event-time" />
```

日期和时间的组合，值格式为 `YYYY-MM-DDTHH:MM`。

### month 月份

```html
<input type="month" name="start-month" />
```

选择年月，值格式为 `YYYY-MM`。

### week 周

```html
<input type="week" name="project-week" />
```

选择年和周，值格式为 `YYYY-Www`。

### color 颜色

```html
<input type="color" name="theme-color" value="#ff0000" />
```

显示颜色选择器，值为十六进制颜色。

### search 搜索

```html
<input type="search" name="q" placeholder="搜索..." />
```

类似 text，但可能有清除按钮，某些浏览器样式不同。

## 新增表单属性

### placeholder 占位文字

```html
<input type="text" placeholder="请输入用户名" />
```

在输入框为空时显示提示文字。

### autofocus 自动聚焦

```html
<input type="text" autofocus />
```

页面加载后自动聚焦到该输入框。一个页面只应有一个 autofocus。

### autocomplete 自动完成

```html
<input type="email" autocomplete="email" />
<input type="text" autocomplete="name" />
<input type="tel" autocomplete="tel" />
<input type="password" autocomplete="new-password" />
```

告诉浏览器字段的用途，以便自动填充：

| 值                 | 用途                           |
| ------------------ | ------------------------------ |
| `off`              | 禁用自动完成                   |
| `on`               | 启用（默认）                   |
| `name`             | 姓名                           |
| `email`            | 邮箱                           |
| `tel`              | 电话                           |
| `address-line1`    | 地址第一行                     |
| `postal-code`      | 邮编                           |
| `cc-number`        | 信用卡号                       |
| `new-password`     | 新密码（密码管理器会提示保存） |
| `current-password` | 当前密码                       |

### required 必填

```html
<input type="text" required />
```

提交前会验证是否填写。

### pattern 正则验证

```html
<input type="text" pattern="[A-Za-z]{3}" title="请输入3个英文字母" />
```

使用正则表达式验证输入。`title` 属性提供错误提示。

### min/max/step

```html
<input type="number" min="0" max="100" step="5" />
<input type="date" min="2024-01-01" max="2024-12-31" />
```

限制数值或日期的范围和步进。

### minlength/maxlength

```html
<input type="text" minlength="3" maxlength="20" />
<textarea minlength="10" maxlength="500"></textarea>
```

限制文本长度。

### multiple 多选

```html
<!-- 多个邮箱 -->
<input type="email" multiple />

<!-- 多个文件 -->
<input type="file" multiple />
```

### form 属性

将表单外的元素关联到表单：

```html
<form id="myForm">
  <input type="text" name="name" />
</form>

<!-- 表单外的元素 -->
<input type="email" name="email" form="myForm" />
<button type="submit" form="myForm">提交</button>
```

### formaction/formmethod

覆盖表单的 action 和 method：

```html
<form action="/save" method="POST">
  <input type="text" name="data" />
  <button type="submit">保存</button>
  <button type="submit" formaction="/save-draft" formmethod="POST">
    保存草稿
  </button>
  <button type="submit" formaction="/preview" formmethod="GET">预览</button>
</form>
```

### formnovalidate

跳过验证：

```html
<form>
  <input type="email" required />
  <button type="submit">提交</button>
  <button type="submit" formnovalidate>保存草稿（不验证）</button>
</form>
```

### list 和 datalist

输入建议：

```html
<input type="text" list="browsers" />
<datalist id="browsers">
  <option value="Chrome"></option>
  <option value="Firefox"></option>
  <option value="Safari"></option>
  <option value="Edge"></option>
</datalist>
```

用户可以从列表选择或输入自定义值。

## 表单验证

HTML5 提供了内置的表单验证，无需 JavaScript。

### 验证属性

```html
<form>
  <!-- 必填 -->
  <input type="text" required />

  <!-- 类型验证 -->
  <input type="email" />
  <input type="url" />
  <input type="number" />

  <!-- 长度限制 -->
  <input type="text" minlength="3" maxlength="20" />

  <!-- 范围限制 -->
  <input type="number" min="0" max="100" />

  <!-- 正则匹配 -->
  <input type="text" pattern="[A-Za-z]+" />

  <button type="submit">提交</button>
</form>
```

### 验证样式

```css
/* 有效 */
input:valid {
  border-color: green;
}

/* 无效 */
input:invalid {
  border-color: red;
}

/* 必填但为空 */
input:required:invalid {
  border-color: orange;
}

/* 在范围内 */
input:in-range {
  background: lightgreen;
}

/* 超出范围 */
input:out-of-range {
  background: lightcoral;
}

/* 用户交互后才显示错误样式 */
input:user-invalid {
  border-color: red;
}
```

### 禁用默认验证

```html
<form novalidate>
  <!-- 不会触发浏览器验证 -->
</form>
```

### JavaScript 验证 API

```javascript
const input = document.querySelector('input')

// 验证方法
input.checkValidity() // 返回布尔值
input.reportValidity() // 返回布尔值并显示错误消息

// 验证状态
input.validity.valid // 是否有效
input.validity.valueMissing // required 但为空
input.validity.typeMismatch // 类型不匹配
input.validity.patternMismatch // pattern 不匹配
input.validity.tooLong // 超过 maxlength
input.validity.tooShort // 少于 minlength
input.validity.rangeOverflow // 超过 max
input.validity.rangeUnderflow // 低于 min
input.validity.stepMismatch // 不符合 step
input.validity.badInput // 输入无法解析
input.validity.customError // 自定义错误

// 获取验证消息
input.validationMessage

// 设置自定义错误
input.setCustomValidity('自定义错误消息')
input.setCustomValidity('') // 清除错误
```

### 自定义验证示例

```html
<form id="registerForm">
  <div>
    <label for="password">密码</label>
    <input type="password" id="password" required minlength="8" />
  </div>

  <div>
    <label for="confirmPassword">确认密码</label>
    <input type="password" id="confirmPassword" required />
  </div>

  <button type="submit">注册</button>
</form>

<script>
  const password = document.getElementById('password')
  const confirmPassword = document.getElementById('confirmPassword')

  function validatePassword() {
    if (password.value !== confirmPassword.value) {
      confirmPassword.setCustomValidity('两次密码不一致')
    } else {
      confirmPassword.setCustomValidity('')
    }
  }

  password.addEventListener('input', validatePassword)
  confirmPassword.addEventListener('input', validatePassword)
</script>
```

### 表单事件

```javascript
const form = document.querySelector('form')

// 提交事件
form.addEventListener('submit', (e) => {
  if (!form.checkValidity()) {
    e.preventDefault()
    // 手动处理验证
  }
})

// 无效事件（每个无效字段都会触发）
const inputs = form.querySelectorAll('input')
inputs.forEach((input) => {
  input.addEventListener('invalid', (e) => {
    // 自定义错误显示
    e.preventDefault()
    showCustomError(input)
  })
})
```

## output 元素

显示计算结果：

```html
<form oninput="result.value = parseInt(a.value) + parseInt(b.value)">
  <input type="number" id="a" value="0" /> +
  <input type="number" id="b" value="0" /> =
  <output name="result" for="a b">0</output>
</form>
```

## meter 和 progress

### meter 度量

```html
<label for="disk">磁盘使用率</label>
<meter id="disk" value="70" min="0" max="100" low="30" high="80" optimum="50">
  70%
</meter>
```

属性：

- `min`/`max`：范围
- `value`：当前值
- `low`/`high`：低/高阈值
- `optimum`：最佳值

### progress 进度

```html
<!-- 确定进度 -->
<progress value="60" max="100">60%</progress>

<!-- 不确定进度 -->
<progress>加载中...</progress>
```

## contenteditable

让元素可编辑：

```html
<div contenteditable="true">点击这里编辑内容...</div>
```

可用于简单的富文本编辑器。

## 文件上传增强

### accept 属性

```html
<!-- 只接受图片 -->
<input type="file" accept="image/*" />

<!-- 只接受特定格式 -->
<input type="file" accept=".pdf,.doc,.docx" />

<!-- 接受多种 MIME 类型 -->
<input type="file" accept="image/png, image/jpeg" />
```

### multiple 多文件

```html
<input type="file" multiple />
```

### capture 调用相机

```html
<!-- 前置摄像头 -->
<input type="file" accept="image/*" capture="user" />

<!-- 后置摄像头 -->
<input type="file" accept="image/*" capture="environment" />
```

### 文件信息

```javascript
const input = document.querySelector('input[type="file"]')
input.addEventListener('change', () => {
  const files = input.files

  for (const file of files) {
    console.log('名称:', file.name)
    console.log('大小:', file.size, '字节')
    console.log('类型:', file.type)
    console.log('修改时间:', file.lastModified)
  }
})
```

## 完整表单示例

```html
<form id="profileForm" action="/profile" method="POST">
  <fieldset>
    <legend>基本信息</legend>

    <div class="form-group">
      <label for="username">用户名</label>
      <input
        type="text"
        id="username"
        name="username"
        required
        minlength="3"
        maxlength="20"
        pattern="[a-zA-Z0-9_]+"
        autocomplete="username"
        placeholder="3-20位字母、数字或下划线"
      />
    </div>

    <div class="form-group">
      <label for="email">邮箱</label>
      <input
        type="email"
        id="email"
        name="email"
        required
        autocomplete="email"
      />
    </div>

    <div class="form-group">
      <label for="phone">电话</label>
      <input
        type="tel"
        id="phone"
        name="phone"
        pattern="1[3-9]\d{9}"
        autocomplete="tel"
        placeholder="11位手机号"
      />
    </div>

    <div class="form-group">
      <label for="birthday">生日</label>
      <input type="date" id="birthday" name="birthday" max="2010-01-01" />
    </div>
  </fieldset>

  <fieldset>
    <legend>详细信息</legend>

    <div class="form-group">
      <label for="website">个人网站</label>
      <input
        type="url"
        id="website"
        name="website"
        placeholder="https://example.com"
      />
    </div>

    <div class="form-group">
      <label for="age">年龄</label>
      <input type="number" id="age" name="age" min="1" max="150" />
    </div>

    <div class="form-group">
      <label for="color">喜欢的颜色</label>
      <input type="color" id="color" name="color" value="#007bff" />
    </div>

    <div class="form-group">
      <label for="satisfaction">满意度</label>
      <input
        type="range"
        id="satisfaction"
        name="satisfaction"
        min="0"
        max="10"
        value="5"
      />
      <output for="satisfaction">5</output>
    </div>
  </fieldset>

  <fieldset>
    <legend>头像</legend>

    <div class="form-group">
      <label for="avatar">上传头像</label>
      <input type="file" id="avatar" name="avatar" accept="image/*" />
    </div>
  </fieldset>

  <div class="form-actions">
    <button type="submit">保存</button>
    <button type="reset">重置</button>
  </div>
</form>

<script>
  // 显示滑块值
  const range = document.getElementById('satisfaction')
  const output = document.querySelector('output[for="satisfaction"]')
  range.addEventListener('input', () => {
    output.textContent = range.value
  })

  // 表单验证
  const form = document.getElementById('profileForm')
  form.addEventListener('submit', (e) => {
    if (!form.checkValidity()) {
      e.preventDefault()
      form.reportValidity()
    }
  })
</script>
```

## 小结

HTML5 为表单带来了丰富的增强：

**新增 input 类型**：

- 邮箱、网址、电话
- 数字、范围
- 日期、时间、月份、周
- 颜色、搜索

**新增属性**：

- placeholder、autofocus、autocomplete
- required、pattern、min/max、minlength/maxlength
- multiple、list、form

**内置验证**：

- 类型验证、格式验证
- CSS 伪类样式
- JavaScript 验证 API

这些特性让表单开发更简单，用户体验更好。下一篇会介绍语义化的意义。
