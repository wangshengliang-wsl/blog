---
title: fnm å®Œå…¨æŒ‡å—
description: fnm æ˜¯åŸºäº Rust æ„å»ºçš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œæœ¬æ–‡æ¶µç›–å®‰è£…é…ç½®ã€ç‰ˆæœ¬åˆ‡æ¢ã€é¡¹ç›®çº§ç‰ˆæœ¬é”å®šã€ä¸ nvm å¯¹æ¯”åŠè¿ç§»æ–¹æ¡ˆ
pubDate: 2025-11-09
toc: true
ogImage: true
category: åŒ…ç®¡ç†å·¥å…·
tags: ['fnm', 'Node.js', 'ç‰ˆæœ¬ç®¡ç†', 'JavaScript', 'Rust']
---

fnmï¼ˆFast Node Managerï¼‰åŸºäº Rust å¼€å‘ï¼Œå¯åŠ¨é€Ÿåº¦æ¯” nvm å¿« 40 å€ä»¥ä¸Šã€‚è·¨å¹³å°æ”¯æŒ macOSã€Linuxã€Windowsï¼Œæ˜¯ç›®å‰æœ€æ¨èçš„ Node.js ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚

ğŸ¯ **ç¯å¢ƒè¯´æ˜**ï¼šæœ¬æ–‡åŸºäº fnm v1.37.x ç¼–å†™ã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© fnm

| ç‰¹æ€§     | fnm         | nvm             |
| -------- | ----------- | --------------- |
| è¯­è¨€     | Rust        | Bash            |
| å¯åŠ¨é€Ÿåº¦ | ~1ms        | ~40ms+          |
| Windows  | âœ… åŸç”Ÿæ”¯æŒ | âŒ éœ€è¦ WSL     |
| è‡ªåŠ¨åˆ‡æ¢ | âœ… å†…ç½®     | âŒ éœ€è¦é¢å¤–é…ç½® |
| å®‰è£…æ–¹å¼ | å•ä¸€äºŒè¿›åˆ¶  | Shell è„šæœ¬      |
| å…¼å®¹æ€§   | .nvmrc å…¼å®¹ | -               |

âœ… fnm çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºé€Ÿåº¦ã€‚æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶ï¼Œnvm éœ€è¦åŠ è½½å¤§é‡ Shell è„šæœ¬ï¼Œè€Œ fnm ä½œä¸ºç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå‡ ä¹é›¶å»¶è¿Ÿã€‚

## å®‰è£… fnm

### macOSï¼ˆHomebrewï¼‰

```bash
$ brew install fnm
```

### Linux / macOSï¼ˆå®‰è£…è„šæœ¬ï¼‰

```bash
$ curl -fsSL https://fnm.vercel.app/install | bash
```

### Windowsï¼ˆScoopï¼‰

```powershell
> scoop install fnm
```

### Windowsï¼ˆChocolateyï¼‰

```powershell
> choco install fnm
```

### Windowsï¼ˆwingetï¼‰

```powershell
> winget install Schniz.fnm
```

éªŒè¯å®‰è£…ï¼š

```bash
$ fnm --version
fnm 1.37.1
```

## é…ç½® Shell

fnm éœ€è¦åœ¨ Shell é…ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚

### Zsh

```bash
$ echo 'eval "$(fnm env --use-on-cd --shell zsh)"' >> ~/.zshrc
$ source ~/.zshrc
```

### Bash

```bash
$ echo 'eval "$(fnm env --use-on-cd --shell bash)"' >> ~/.bashrc
$ source ~/.bashrc
```

### Fish

```fish
$ echo 'fnm env --use-on-cd --shell fish | source' >> ~/.config/fish/config.fish
```

### PowerShell

```powershell
# æ·»åŠ åˆ° $PROFILE
fnm env --use-on-cd --shell power-shell | Out-String | Invoke-Expression
```

`--use-on-cd` å‚æ•°å¯ç”¨ç›®å½•åˆ‡æ¢æ—¶è‡ªåŠ¨æ£€æµ‹ `.node-version` æˆ– `.nvmrc` æ–‡ä»¶å¹¶åˆ‡æ¢ç‰ˆæœ¬ã€‚

## å®‰è£… Node.js

```bash
# å®‰è£…æœ€æ–° LTS ç‰ˆæœ¬
$ fnm install --lts

# å®‰è£…æœ€æ–°ç‰ˆæœ¬
$ fnm install latest

# å®‰è£…æŒ‡å®šä¸»ç‰ˆæœ¬çš„æœ€æ–°ç‰ˆ
$ fnm install 20

# å®‰è£…ç²¾ç¡®ç‰ˆæœ¬
$ fnm install 20.10.0
```

æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬ï¼š

```bash
$ fnm list

* v20.10.0 default, lts-iron
* v18.19.0 lts-hydrogen
* system
```

å¸è½½ç‰ˆæœ¬ï¼š

```bash
$ fnm uninstall 18.19.0
```

## åˆ‡æ¢ç‰ˆæœ¬

```bash
# åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬
$ fnm use 20

# åˆ‡æ¢åˆ° LTS
$ fnm use --lts

# åˆ‡æ¢åˆ°ç³»ç»Ÿå®‰è£…çš„ Node
$ fnm use system
```

æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼š

```bash
$ fnm current
v20.10.0

$ node -v
v20.10.0
```

## è®¾ç½®é»˜è®¤ç‰ˆæœ¬

```bash
# è®¾ç½®é»˜è®¤ç‰ˆæœ¬
$ fnm default 20

# æˆ–ä½¿ç”¨ alias
$ fnm alias 20.10.0 default
```

è®¾ç½®åï¼Œæ–°ç»ˆç«¯çª—å£ä¼šè‡ªåŠ¨ä½¿ç”¨è¯¥ç‰ˆæœ¬ã€‚

## ç‰ˆæœ¬åˆ«å

```bash
# åˆ›å»ºåˆ«å
$ fnm alias 20.10.0 my-project

# ä½¿ç”¨åˆ«ååˆ‡æ¢
$ fnm use my-project

# æŸ¥çœ‹æ‰€æœ‰åˆ«å
$ fnm list

# åˆ é™¤åˆ«å
$ fnm unalias my-project
```

å†…ç½®ç‰¹æ®Šåˆ«åï¼š

| åˆ«å      | å«ä¹‰                              |
| --------- | --------------------------------- |
| `default` | æ–°ç»ˆç«¯é»˜è®¤ç‰ˆæœ¬                    |
| `system`  | ç³»ç»Ÿå®‰è£…çš„ Nodeï¼ˆå¦‚é€šè¿‡ .pkgï¼‰    |
| `lts-*`   | LTS ç‰ˆæœ¬ä»£å·ï¼ˆironã€hydrogen ç­‰ï¼‰ |

## é¡¹ç›®çº§ç‰ˆæœ¬é”å®š

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.node-version` æˆ– `.nvmrc` æ–‡ä»¶ï¼š

```bash
# å†™å…¥ç‰ˆæœ¬å·
$ echo "20" > .node-version

# æˆ–ä½¿ç”¨ node å‘½ä»¤å†™å…¥å½“å‰ç‰ˆæœ¬
$ node -v > .node-version
```

é…ç½®äº† `--use-on-cd` åï¼Œè¿›å…¥é¡¹ç›®ç›®å½•æ—¶ fnm ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬ï¼š

```bash
$ cd my-project
Using Node v20.10.0
```

è‹¥æœ¬åœ°æœªå®‰è£…è¯¥ç‰ˆæœ¬ï¼Œfnm ä¼šæç¤ºå®‰è£…ã€‚å¯é…ç½®è‡ªåŠ¨å®‰è£…ï¼š

```bash
# åœ¨ Shell é…ç½®ä¸­æ·»åŠ 
eval "$(fnm env --use-on-cd --version-file-strategy=recursive --log-level=quiet)"
```

### é€’å½’æŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶

é»˜è®¤æƒ…å†µä¸‹ï¼Œfnm åªåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶ã€‚ä½¿ç”¨ `--version-file-strategy=recursive` å¯é€’å½’å‘ä¸ŠæŸ¥æ‰¾ï¼š

```bash
# åœ¨ Monorepo å­ç›®å½•ä¸­ä¹Ÿèƒ½æ‰¾åˆ°æ ¹ç›®å½•çš„ç‰ˆæœ¬æ–‡ä»¶
repo/packages/my-package$ fnm use
# ä¼šå‘ä¸ŠæŸ¥æ‰¾åˆ° repo/.node-version
```

### ä½¿ç”¨ engines.node

fnm æ”¯æŒè¯»å– `package.json` ä¸­çš„ `engines.node` å­—æ®µï¼ˆé»˜è®¤å¯ç”¨ï¼‰ï¼š

```json
{
  "engines": {
    "node": ">=20 <21"
  }
}
```

fnm ä¼šè‡ªåŠ¨è§£æ semver èŒƒå›´å¹¶ä½¿ç”¨æ»¡è¶³æ¡ä»¶çš„æœ€æ–°ç‰ˆæœ¬ã€‚

ç¦ç”¨æ­¤åŠŸèƒ½ï¼š

```bash
eval "$(fnm env --resolve-engines=false)"
```

### å›¢é˜Ÿåä½œå»ºè®®

ğŸ¤” é€šå¸¸åªéœ€æŒ‡å®šä¸»ç‰ˆæœ¬å·ï¼ˆå¦‚ `20`ï¼‰ï¼Œé¿å…å› æ¬¡ç‰ˆæœ¬æˆ–è¡¥ä¸ç‰ˆæœ¬å·®å¼‚å¯¼è‡´å›¢é˜Ÿæˆå‘˜é¢‘ç¹é‡è£…ã€‚å°† `.node-version` æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼š

```bash
# .node-version
20
```

## ç¯å¢ƒå˜é‡

fnm æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è‡ªå®šä¹‰è¡Œä¸ºï¼š

| å˜é‡                        | è¯´æ˜              | é»˜è®¤å€¼                    |
| --------------------------- | ----------------- | ------------------------- |
| `FNM_DIR`                   | fnm æ•°æ®ç›®å½•      | `~/.fnm`                  |
| `FNM_NODE_DIST_MIRROR`      | Node.js ä¸‹è½½é•œåƒ  | `https://nodejs.org/dist` |
| `FNM_MULTISHELL_PATH`       | å¤š Shell æ”¯æŒè·¯å¾„ | è‡ªåŠ¨ç”Ÿæˆ                  |
| `FNM_VERSION_FILE_STRATEGY` | ç‰ˆæœ¬æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥  | `local`                   |
| `FNM_LOGLEVEL`              | æ—¥å¿—çº§åˆ«          | `info`                    |
| `FNM_ARCH`                  | CPU æ¶æ„          | è‡ªåŠ¨æ£€æµ‹                  |
| `FNM_COREPACK_ENABLED`      | å¯ç”¨ Corepack     | `false`                   |

ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿä¸‹è½½ï¼š

```bash
export FNM_NODE_DIST_MIRROR="https://npmmirror.com/mirrors/node"
```

## Corepack é›†æˆ

fnm æ”¯æŒä¸ Corepack é›†æˆï¼Œè‡ªåŠ¨ç®¡ç† yarn/pnpmï¼š

```bash
# å¯ç”¨ Corepack
$ fnm env --corepack-enabled

# æˆ–è®¾ç½®ç¯å¢ƒå˜é‡
export FNM_COREPACK_ENABLED=true
```

å¯ç”¨åå®‰è£… Node æ—¶ä¼šè‡ªåŠ¨å¯ç”¨ Corepackã€‚

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤                      | ç”¨é€”                 |
| ------------------------- | -------------------- |
| `fnm install <version>`   | å®‰è£…æŒ‡å®šç‰ˆæœ¬         |
| `fnm install --lts`       | å®‰è£…æœ€æ–° LTS         |
| `fnm uninstall <version>` | å¸è½½ç‰ˆæœ¬             |
| `fnm use <version>`       | åˆ‡æ¢ç‰ˆæœ¬             |
| `fnm default <version>`   | è®¾ç½®é»˜è®¤ç‰ˆæœ¬         |
| `fnm current`             | æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬         |
| `fnm list`                | åˆ—å‡ºå·²å®‰è£…ç‰ˆæœ¬       |
| `fnm list-remote`         | åˆ—å‡ºå¯å®‰è£…çš„è¿œç¨‹ç‰ˆæœ¬ |
| `fnm alias`               | ç®¡ç†åˆ«å             |
| `fnm env`                 | è¾“å‡ºç¯å¢ƒå˜é‡         |
| `fnm completions`         | ç”Ÿæˆ Shell è¡¥å…¨è„šæœ¬  |

## ä» nvm è¿ç§»

è¿ç§»å‰ï¼Œè®°å½•å½“å‰ nvm ç®¡ç†çš„ Node ç‰ˆæœ¬å’Œå…¨å±€åŒ…ï¼š

```bash
# æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬
$ nvm list

# æŸ¥çœ‹å…¨å±€åŒ…
$ nvm use 20
$ npm list -g --depth=0
```

åœ¨ fnm ä¸­å®‰è£…å¯¹åº”ç‰ˆæœ¬ï¼š

```bash
$ fnm install 20
$ fnm install 18
```

é‡æ–°å®‰è£…éœ€è¦çš„å…¨å±€åŒ…ï¼š

```bash
$ npm install -g pnpm typescript
```

### å¸è½½ nvm

åˆ é™¤ nvm ç›®å½•ï¼š

```bash
$ rm -rf "$NVM_DIR"
# é€šå¸¸æ˜¯ ~/.nvm
```

ä» Shell é…ç½®æ–‡ä»¶ï¼ˆ`~/.zshrc` æˆ– `~/.bashrc`ï¼‰ä¸­ç§»é™¤ nvm ç›¸å…³é…ç½®ï¼š

```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"
```

## å¸è½½ fnm

è‹¥é€šè¿‡ Homebrew å®‰è£…ï¼š

```bash
$ brew uninstall fnm
```

è‹¥é€šè¿‡å®‰è£…è„šæœ¬å®‰è£…ï¼Œåˆ é™¤äºŒè¿›åˆ¶æ–‡ä»¶ï¼š

```bash
$ rm -rf ~/.fnm
```

ä» Shell é…ç½®ä¸­ç§»é™¤ fnm ç›¸å…³è¡Œï¼š

```bash
eval "$(fnm env --use-on-cd)"
```

## å¸¸è§é—®é¢˜

### åˆ‡æ¢ç‰ˆæœ¬å node å‘½ä»¤æ‰¾ä¸åˆ°

ç¡®ä¿ Shell é…ç½®æ­£ç¡®åŠ è½½ã€‚é‡æ–°æ‰“å¼€ç»ˆç«¯æˆ–æ‰§è¡Œï¼š

```bash
$ source ~/.zshrc
```

### è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ä¸ç”Ÿæ•ˆ

æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† `--use-on-cd` å‚æ•°ï¼š

```bash
$ grep fnm ~/.zshrc
eval "$(fnm env --use-on-cd --shell zsh)"
```

### ä¸‹è½½é€Ÿåº¦æ…¢

é…ç½®å›½å†…é•œåƒï¼š

```bash
$ export FNM_NODE_DIST_MIRROR="https://npmmirror.com/mirrors/node"
$ fnm install 20
```

## å‚è€ƒèµ„æ–™

- [fnm GitHub](https://github.com/Schniz/fnm)
- [fnm å®˜æ–¹æ–‡æ¡£](https://github.com/Schniz/fnm#readme)
- [Node.js å‘å¸ƒè®¡åˆ’](https://nodejs.org/en/about/releases/)
