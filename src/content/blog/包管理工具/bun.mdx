---
title: Bun å®Œå…¨æŒ‡å—
description: Bun æ˜¯ä¸€æ¬¾æé€Ÿçš„ JavaScript è¿è¡Œæ—¶ã€åŒ…ç®¡ç†å™¨ä¸æ„å»ºå·¥å…·ï¼Œæœ¬æ–‡æ¶µç›–å®‰è£…é…ç½®ã€åŒ…ç®¡ç†ã€è„šæœ¬è¿è¡Œã€ä¸ Node.js å¯¹æ¯”åŠè¿ç§»æ–¹æ¡ˆ
pubDate: 2025-11-09
toc: true
ogImage: true
category: åŒ…ç®¡ç†å·¥å…·
tags: ['Bun', 'JavaScript', 'åŒ…ç®¡ç†å™¨', 'TypeScript', 'è¿è¡Œæ—¶']
---

Bun æ˜¯ä¸€æ¬¾ç”¨ Zig è¯­è¨€ç¼–å†™çš„å…¨èƒ½ JavaScript å·¥å…·é“¾ï¼Œé›†è¿è¡Œæ—¶ã€åŒ…ç®¡ç†å™¨ã€æ„å»ºå™¨ã€æµ‹è¯•å™¨äºä¸€ä½“ã€‚å®ƒçš„åŒ…ç®¡ç†å™¨é€Ÿåº¦æ¯” npm å¿« 25 å€ä»¥ä¸Šï¼Œæ˜¯ç›®å‰æœ€å¿«çš„ JavaScript åŒ…ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

ğŸ¯ **ç¯å¢ƒè¯´æ˜**ï¼šæœ¬æ–‡åŸºäº Bun v1.2.x ç¼–å†™ã€‚

## Bun æ˜¯ä»€ä¹ˆ

Bun ä¸ä»…æ˜¯åŒ…ç®¡ç†å™¨ï¼Œå®ƒæ˜¯å®Œæ•´çš„ JavaScript/TypeScript å·¥å…·é“¾ï¼š

| åŠŸèƒ½       | è¯´æ˜                              |
| ---------- | --------------------------------- |
| è¿è¡Œæ—¶     | æ›¿ä»£ Node.jsï¼ŒåŸç”Ÿæ”¯æŒ TypeScript |
| åŒ…ç®¡ç†å™¨   | æ›¿ä»£ npm/yarn/pnpm                |
| æ‰“åŒ…å™¨     | æ›¿ä»£ webpack/esbuild/parcel       |
| æµ‹è¯•è¿è¡Œå™¨ | æ›¿ä»£ Jest/Vitest                  |

æœ¬æ–‡ä¸»è¦èšç„¦äº Bun ä½œä¸ºåŒ…ç®¡ç†å™¨çš„ä½¿ç”¨ã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© Bun

### æè‡´çš„é€Ÿåº¦

Bun çš„åŒ…ç®¡ç†å™¨ä½¿ç”¨åŸç”Ÿä»£ç å®ç°ï¼Œåˆ©ç”¨ç³»ç»Ÿçº§ API å’Œç¡¬é“¾æ¥æŠ€æœ¯ï¼š

| æ“ä½œ           | npm   | pnpm  | Bun  |
| -------------- | ----- | ----- | ---- |
| å®‰è£…ï¼ˆæ— ç¼“å­˜ï¼‰ | 25.6s | 14.2s | 1.1s |
| å®‰è£…ï¼ˆæœ‰ç¼“å­˜ï¼‰ | 5.2s  | 1.8s  | 0.3s |

_æ•°æ®åŸºäºå…¸å‹ä¸­å‹é¡¹ç›®ï¼Œå®é™…é€Ÿåº¦å› é¡¹ç›®è€Œå¼‚_

### å…¼å®¹æ€§

âœ… Bun é«˜åº¦å…¼å®¹ Node.js ç”Ÿæ€ï¼š

- æ”¯æŒ `package.json`
- æ”¯æŒ `node_modules`
- æ”¯æŒç»å¤§å¤šæ•° npm åŒ…
- æ”¯æŒ CommonJS å’Œ ESM
- å†…ç½® Node.js API å…¼å®¹å±‚

### å¼€ç®±å³ç”¨

âœ… æ— éœ€é…ç½®å³å¯è¿è¡Œ TypeScriptã€JSXï¼š

```bash
$ bun run index.ts   # ç›´æ¥è¿è¡Œ TypeScript
$ bun run App.tsx    # ç›´æ¥è¿è¡Œ TSX
```

## å®‰è£… Bun

### macOS / Linux

```bash
$ curl -fsSL https://bun.sh/install | bash
```

### macOSï¼ˆHomebrewï¼‰

```bash
$ brew install oven-sh/bun/bun
```

### Windows

```powershell
> powershell -c "irm bun.sh/install.ps1 | iex"
```

æˆ–ä½¿ç”¨ Scoopï¼š

```powershell
> scoop install bun
```

éªŒè¯å®‰è£…ï¼š

```bash
$ bun --version
1.1.38
```

### å‡çº§ Bun

```bash
$ bun upgrade
```

## é¡¹ç›®åˆå§‹åŒ–

```bash
$ mkdir my-project && cd my-project
$ bun init
```

äº¤äº’å¼åˆ›å»º `package.json`ï¼Œæˆ–ä½¿ç”¨ `-y` è·³è¿‡ï¼š

```bash
$ bun init -y
```

Bun ä¼šç”Ÿæˆ `package.json` å’Œ `tsconfig.json`ï¼ˆå¦‚æœæ˜¯ TypeScript é¡¹ç›®ï¼‰ã€‚

## ä¾èµ–ç®¡ç†

### å®‰è£…ä¾èµ–

```bash
# å®‰è£… package.json ä¸­çš„æ‰€æœ‰ä¾èµ–
$ bun install
# æˆ–ç®€å†™
$ bun i

# å®‰è£…æŒ‡å®šåŒ…
$ bun add lodash

# å®‰è£…å¼€å‘ä¾èµ–
$ bun add -d typescript
# æˆ–
$ bun add --dev typescript

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
$ bun add lodash@4.17.21

# å…¨å±€å®‰è£…
$ bun add -g typescript
```

### ç§»é™¤ä¾èµ–

```bash
$ bun remove lodash

# å…¨å±€ç§»é™¤
$ bun remove -g typescript
```

### æ›´æ–°ä¾èµ–

```bash
# æ›´æ–°æŒ‡å®šåŒ…
$ bun update lodash

# æ›´æ–°æ‰€æœ‰åŒ…
$ bun update

# äº¤äº’å¼æ›´æ–°
$ bun update -i

# é€’å½’æ›´æ–°æ‰€æœ‰ workspace
$ bun update -r

# äº¤äº’å¼é€’å½’æ›´æ–°ï¼ˆMonorepo æ¨èï¼‰
$ bun update -i -r
```

## bun.lockb

Bun ä½¿ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ `bun.lockb` ä½œä¸º lockfileï¼Œæ¯” JSON/YAML æ ¼å¼æ›´ç´§å‡‘ã€è§£ææ›´å¿«ã€‚

```bash
# æŸ¥çœ‹ lockfile å†…å®¹ï¼ˆè½¬ä¸º yarn.lock æ ¼å¼ï¼‰
$ bun bun.lockb
```

è‹¥éœ€è¦ä¸é Bun ç¯å¢ƒå…¼å®¹ï¼Œå¯ç”Ÿæˆ `yarn.lock`ï¼š

```bash
$ bun install --yarn
```

## è¿è¡Œè„šæœ¬

```bash
# è¿è¡Œ package.json ä¸­çš„è„šæœ¬
$ bun run dev
$ bun run build

# ç®€å†™ï¼ˆæ— åŒåæ–‡ä»¶æ—¶ï¼‰
$ bun dev
$ bun build

# ä¼ é€’å‚æ•°
$ bun run test --watch
```

### ç›´æ¥è¿è¡Œæ–‡ä»¶

Bun å¯ç›´æ¥è¿è¡Œ JavaScript/TypeScript æ–‡ä»¶ï¼š

```bash
$ bun run index.ts
$ bun run script.js

# ç®€å†™
$ bun index.ts
```

## bunx - æ‰§è¡ŒåŒ…å‘½ä»¤

ç±»ä¼¼ npxï¼Œä¸´æ—¶ä¸‹è½½å¹¶æ‰§è¡ŒåŒ…ï¼š

```bash
$ bunx create-react-app my-app
$ bunx cowsay "Hello Bun!"

# æ‰§è¡Œæœ¬åœ°åŒ…
$ bunx eslint src
```

## Workspaces

Bun æ”¯æŒ npm/yarn é£æ ¼çš„ workspacesï¼š

```json
{
  "name": "my-monorepo",
  "private": true,
  "workspaces": ["packages/*", "apps/*"]
}
```

æ”¯æŒ glob æ’é™¤æ¨¡å¼ï¼š

```json
{
  "workspaces": ["packages/**", "!packages/**/test/**"]
}
```

åœ¨ monorepo ä¸­å®‰è£…ä¾èµ–ï¼š

```bash
$ bun install
```

Bun ä¼šè§£ææ‰€æœ‰ workspace çš„ä¾èµ–å¹¶ç»Ÿä¸€å®‰è£…ã€‚

### workspace åè®®

ä½¿ç”¨ `workspace:` åè®®å¼•ç”¨æœ¬åœ°åŒ…ï¼š

```json
{
  "name": "pkg-a",
  "dependencies": {
    "pkg-b": "workspace:*"
  }
}
```

| åè®®          | å‘å¸ƒæ—¶è½¬æ¢           |
| ------------- | -------------------- |
| `workspace:*` | å½“å‰ç‰ˆæœ¬ï¼Œå¦‚ `1.2.3` |
| `workspace:^` | `^1.2.3`             |
| `workspace:~` | `~1.2.3`             |

### è¿‡æ»¤å®‰è£…

ä½¿ç”¨ `--filter` é€‰æ‹©æ€§å®‰è£…ï¼š

```bash
# åªå®‰è£…æŒ‡å®š workspace çš„ä¾èµ–
$ bun install --filter pkg-a

# ä½¿ç”¨è·¯å¾„
$ bun install --filter "./packages/pkg-a"

# é€šé…ç¬¦åŒ¹é…
$ bun install --filter "pkg-*"

# æ’é™¤æŒ‡å®šåŒ…
$ bun install --filter "!pkg-c"

# ç»„åˆä½¿ç”¨
$ bun install --filter "pkg-*" --filter "!pkg-c"
```

### Workspace å‘½ä»¤

```bash
# åœ¨æŒ‡å®š workspace æ‰§è¡Œå‘½ä»¤
$ bun run --filter @my-monorepo/web dev

# æ·»åŠ ä¾èµ–åˆ°æŒ‡å®š workspace
$ bun add react --filter @my-monorepo/web
```

## é…ç½®

### bunfig.toml

Bun ä½¿ç”¨ `bunfig.toml` ä½œä¸ºé…ç½®æ–‡ä»¶ï¼š

```toml
# bunfig.toml

# è®¾ç½® npm æº
[install]
registry = "https://registry.npmmirror.com"

# ç¼“å­˜ç›®å½•
cache = "~/.bun/install/cache"

# ç”Ÿäº§æ¨¡å¼ï¼ˆä¸å®‰è£… devDependenciesï¼‰
production = false

# å†»ç»“ lockfile
frozen-lockfile = false
```

### å¸¸ç”¨é…ç½®é¡¹

```toml
[install]
# npm æº
registry = "https://registry.npmmirror.com"

# scope ç§æœ‰æº
[install.scopes]
"@company" = "https://npm.company.com/"

# ä¿¡ä»»ç‰¹å®šåŒ…çš„å®‰è£…è„šæœ¬
[install.trustedDependencies]
my-package = true
```

## ä¸ Node.js å…¼å®¹æ€§

Bun å®ç°äº†å¤§éƒ¨åˆ† Node.js APIï¼Œä½†ä»æœ‰å·®å¼‚ï¼š

### å·²æ”¯æŒ

- `fs`ã€`path`ã€`os` ç­‰æ ¸å¿ƒæ¨¡å—
- `process`ã€`Buffer`ã€`console`
- `http`ã€`https`ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰
- CommonJS å’Œ ESM
- å¤§å¤šæ•° npm åŒ…

### éƒ¨åˆ†æ”¯æŒ / ä¸æ”¯æŒ

ğŸ”¶ ä»¥ä¸‹åŠŸèƒ½å­˜åœ¨å…¼å®¹æ€§é™åˆ¶ï¼š

- `worker_threads`ï¼ˆéƒ¨åˆ†æ”¯æŒï¼‰
- `vm` æ¨¡å—ï¼ˆéƒ¨åˆ†æ”¯æŒï¼‰
- ä¸€äº› Node.js ç‰¹å®šçš„è¾¹ç¼˜ API

å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®æµ‹è¯•ç¡®ä¿ä¾èµ–åŒ…å…¼å®¹ã€‚

## ä» npm/yarn/pnpm è¿ç§»

### è¿ç§»æ­¥éª¤

```bash
# 1. åˆ é™¤ç°æœ‰ lockfile å’Œ node_modules
$ rm -rf node_modules package-lock.json yarn.lock pnpm-lock.yaml

# 2. ä½¿ç”¨ Bun å®‰è£…
$ bun install
```

Bun ä¼šè¯»å– `package.json` å¹¶ç”Ÿæˆ `bun.lockb`ã€‚

### ä¿æŒå…¼å®¹æ€§

å¦‚éœ€ä¸é Bun ç¯å¢ƒå…¼å®¹ï¼Œå¯åŒæ—¶ç”Ÿæˆå…¶ä»–æ ¼å¼çš„ lockfileï¼š

```bash
$ bun install --yarn  # ç”Ÿæˆ yarn.lock
```

### CI/CD é€‚é…

```yaml
# GitHub Actions
- uses: oven-sh/setup-bun@v2
  with:
    bun-version: latest

- run: bun install --frozen-lockfile
- run: bun run build
```

## Bun ä½œä¸ºè¿è¡Œæ—¶

Bun ä¸ä»…æ˜¯åŒ…ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯é«˜æ€§èƒ½ JavaScript è¿è¡Œæ—¶ã€‚

### è¿è¡Œ TypeScript

```bash
# æ— éœ€ç¼–è¯‘ï¼Œç›´æ¥è¿è¡Œ
$ bun run server.ts
```

### è¿è¡Œæµ‹è¯•

```bash
# Bun å†…ç½®æµ‹è¯•è¿è¡Œå™¨
$ bun test
```

æµ‹è¯•æ–‡ä»¶ç¤ºä¾‹ï¼š

```typescript
// math.test.ts
import { expect, test } from 'bun:test'

test('2 + 2', () => {
  expect(2 + 2).toBe(4)
})
```

### æ„å»ºæ‰“åŒ…

```bash
$ bun build ./src/index.ts --outdir ./dist
```

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤               | ç”¨é€”         |
| ------------------ | ------------ |
| `bun install`      | å®‰è£…æ‰€æœ‰ä¾èµ– |
| `bun add <pkg>`    | æ·»åŠ ä¾èµ–     |
| `bun add -d <pkg>` | æ·»åŠ å¼€å‘ä¾èµ– |
| `bun add -g <pkg>` | å…¨å±€å®‰è£…     |
| `bun remove <pkg>` | ç§»é™¤ä¾èµ–     |
| `bun update`       | æ›´æ–°ä¾èµ–     |
| `bun update -i`    | äº¤äº’å¼æ›´æ–°   |
| `bun run <script>` | è¿è¡Œè„šæœ¬     |
| `bun <file>`       | è¿è¡Œæ–‡ä»¶     |
| `bunx <pkg>`       | æ‰§è¡ŒåŒ…å‘½ä»¤   |
| `bun test`         | è¿è¡Œæµ‹è¯•     |
| `bun build`        | æ„å»ºæ‰“åŒ…     |
| `bun upgrade`      | å‡çº§ Bun     |
| `bun pm cache rm`  | æ¸…ç†ç¼“å­˜     |

## npm vs yarn vs pnpm vs Bun

| ç‰¹æ€§       | npm    | yarn   | pnpm   | Bun  |
| ---------- | ------ | ------ | ------ | ---- |
| è¯­è¨€       | JS     | JS     | JS     | Zig  |
| å®‰è£…é€Ÿåº¦   | æ…¢     | ä¸­     | å¿«     | æå¿« |
| ç£ç›˜å ç”¨   | é«˜     | é«˜     | ä½     | ä½   |
| è¿è¡Œæ—¶     | Node   | Node   | Node   | Bun  |
| TypeScript | éœ€ç¼–è¯‘ | éœ€ç¼–è¯‘ | éœ€ç¼–è¯‘ | åŸç”Ÿ |
| Windows    | âœ…     | âœ…     | âœ…     | âœ…   |
| ç”Ÿæ€æˆç†Ÿåº¦ | æœ€é«˜   | é«˜     | é«˜     | ä¸­   |

## å¸¸è§é—®é¢˜

### æŸäº›åŒ…ä¸å…¼å®¹

éƒ¨åˆ†åŒ…ä¾èµ– Node.js ç‰¹å®š APIï¼ŒBun å¯èƒ½ä¸å®Œå…¨æ”¯æŒã€‚è§£å†³æ–¹æ¡ˆï¼š

1. æ£€æŸ¥ [Bun å…¼å®¹æ€§åˆ—è¡¨](https://bun.sh/docs/runtime/nodejs-apis)
2. ä½¿ç”¨æ›¿ä»£åŒ…
3. å¯¹è¯¥é¡¹ç›®ç»§ç»­ä½¿ç”¨ Node.js

### lockfile æ ¼å¼é—®é¢˜

å¦‚éœ€ä¸å›¢é˜Ÿå…±äº«ï¼Œä¸”å›¢é˜Ÿä½¿ç”¨ä¸åŒå·¥å…·ï¼š

```bash
# ç”Ÿæˆ yarn.lock å…¼å®¹æ–‡ä»¶
$ bun install --yarn
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

ğŸ”¶ Bun ä»åœ¨å¿«é€Ÿè¿­ä»£ä¸­ï¼Œå¯¹äºå…³é”®ç”Ÿäº§ç¯å¢ƒï¼š

- ç¡®ä¿å……åˆ†æµ‹è¯•
- å…³æ³¨ Bun çš„ changelog
- è€ƒè™‘ä¿ç•™ Node.js ä½œä¸ºå¤‡é€‰

## å‚è€ƒèµ„æ–™

- [Bun å®˜æ–¹æ–‡æ¡£](https://bun.sh/docs)
- [Bun GitHub](https://github.com/oven-sh/bun)
- [Bun å…¼å®¹æ€§](https://bun.sh/docs/runtime/nodejs-apis)
- [Bun vs Node.js æ€§èƒ½å¯¹æ¯”](https://bun.sh/docs/runtime/nodejs-apis)
