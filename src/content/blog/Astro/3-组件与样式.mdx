---
title: Astro ç»„ä»¶ä¸æ ·å¼
description: æŒæ¡ Astro ç»„ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒæ¦‚å¿µï¼Œå­¦ä¹  Propsã€Slotsã€æ¡†æ¶ç»„ä»¶é›†æˆä»¥åŠå¤šç§æ ·å¼æ–¹æ¡ˆ
pubDate: 2025-12-02
toc: true
ogImage: true
category: Astro
tags: ['Astro', 'ç»„ä»¶', 'æ ·å¼', 'UnoCSS', 'React', 'Vue']
---

## Astro ç»„ä»¶åŸºç¡€

ğŸ™‹ Astro ç»„ä»¶æ˜¯æ„å»ºé¡µé¢çš„åŸºæœ¬å•å…ƒã€‚å’Œ React/Vue ç»„ä»¶ä¸åŒï¼ŒAstro ç»„ä»¶**é»˜è®¤åœ¨æœåŠ¡ç«¯æ¸²æŸ“**ï¼Œè¾“å‡ºçº¯ HTMLï¼Œä¸ä¼šå‘é€ä»»ä½• JavaScript åˆ°å®¢æˆ·ç«¯ã€‚

### ç»„ä»¶ç»“æ„ï¼šFrontmatter + Template

æ¯ä¸ª `.astro` æ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œç»“æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

```astro
---
// ğŸ”· ç»„ä»¶è„šæœ¬ (Frontmatter)
// åœ¨æœåŠ¡ç«¯æ‰§è¡Œï¼Œæ”¯æŒ JavaScript/TypeScript

import Header from './Header.astro'
import { formatDate } from '../utils/date'

// æ¥æ”¶ Props
interface Props {
  title: string
  date: Date
}
const { title, date } = Astro.props

// å®šä¹‰å˜é‡
const formattedDate = formatDate(date)
const items = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­']
---

<!-- ğŸ”· ç»„ä»¶æ¨¡æ¿ --><!-- ç±»ä¼¼ JSX çš„ HTML æ¨¡æ¿ -->
<article>
  <Header />
  <h1>{title}</h1>
  <time>{formattedDate}</time>
  <ul>
    {items.map((item) => <li>{item}</li>)}
  </ul>
</article>

<style>
  /* ğŸ”· ç»„ä»¶æ ·å¼ï¼ˆé»˜è®¤ scopedï¼‰ */
  article {
    max-width: 800px;
    margin: 0 auto;
  }
</style>
```

### Props å®šä¹‰ä¸ç±»å‹å£°æ˜

ä½¿ç”¨ TypeScript æ¥å£å®šä¹‰ Props ç±»å‹ï¼š

```astro
---
// æ–¹å¼ 1: ç›´æ¥å®šä¹‰ Props æ¥å£
interface Props {
  title: string
  subtitle?: string // å¯é€‰
  count: number
  tags: string[]
}

const { title, subtitle, count, tags } = Astro.props
---
```

ä¹Ÿå¯ä»¥å¯¼å…¥å…±äº«çš„ç±»å‹ï¼š

```astro
---
// æ–¹å¼ 2: å¯¼å…¥ç±»å‹
import type { PostSchema } from '~/content/schema'

interface Props {
  post: PostSchema
}

const { post } = Astro.props
---
```

### Astro.props ä½¿ç”¨æ–¹å¼

`Astro.props` åŒ…å«ä¼ é€’ç»™ç»„ä»¶çš„æ‰€æœ‰å±æ€§ï¼š

```astro
---
// è§£æ„èµ‹å€¼ï¼ˆæ¨èï¼‰
const { title, author = 'åŒ¿å' } = Astro.props

// æˆ–ç›´æ¥è®¿é—®
const props = Astro.props
console.log(props.title)
---

<h1>{title}</h1>
<p>ä½œè€…: {author}</p>
```

ğŸ¯ **é»˜è®¤å€¼**: ä½¿ç”¨è§£æ„èµ‹å€¼æ—¶å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œå¤„ç†å¯é€‰ Propsã€‚

### ä¼ é€’ Props

ä½¿ç”¨ç»„ä»¶æ—¶é€šè¿‡å±æ€§ä¼ é€’æ•°æ®ï¼š

```astro
---
import Card from './Card.astro'

const post = {
  title: 'Hello Astro',
  description: 'å…¥é—¨æ•™ç¨‹',
  tags: ['astro', 'tutorial'],
}
---

<!-- ä¼ é€’å•ä¸ªå±æ€§ -->
<Card title="æ ‡é¢˜" count={42} />

<!-- ä¼ é€’å¯¹è±¡ -->
<Card post={post} />

<!-- å±•å¼€å¯¹è±¡å±æ€§ -->
<Card {...post} />

<!-- åŠ¨æ€å±æ€§ -->
<Card title={post.title} tags={post.tags} />
```

## æ’æ§½ç³»ç»Ÿ

æ’æ§½ï¼ˆSlotï¼‰è®©ç»„ä»¶å¯ä»¥æ¥æ”¶å¹¶æ¸²æŸ“å­å†…å®¹ï¼Œç±»ä¼¼ Vue çš„ slot æˆ– React çš„ childrenã€‚

### é»˜è®¤æ’æ§½ `<slot />`

æœ€ç®€å•çš„æ’æ§½ç”¨æ³•ï¼š

```astro
---
// src/components/Card.astro
interface Props {
  title: string
}
const { title } = Astro.props
---

<div class="card">
  <h2>{title}</h2>
  <div class="content">
    <slot />
    <!-- å­å†…å®¹æ¸²æŸ“åœ¨è¿™é‡Œ -->
  </div>
</div>
```

ä½¿ç”¨æ—¶ï¼š

```astro
---
import Card from './Card.astro'
---

<Card title="æˆ‘çš„å¡ç‰‡">
  <p>è¿™æ®µå†…å®¹ä¼šæ’å…¥åˆ° slot ä½ç½®</p>
  <button>ç‚¹å‡»æˆ‘</button>
</Card>
```

æ¸²æŸ“ç»“æœï¼š

```html
<div class="card">
  <h2>æˆ‘çš„å¡ç‰‡</h2>
  <div class="content">
    <p>è¿™æ®µå†…å®¹ä¼šæ’å…¥åˆ° slot ä½ç½®</p>
    <button>ç‚¹å‡»æˆ‘</button>
  </div>
</div>
```

### å…·åæ’æ§½ `<slot name="xxx" />`

ä¸€ä¸ªç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªæ’æ§½ï¼š

```astro
---
// src/components/Layout.astro
---

<div class="layout">
  <header>
    <slot name="header" />
  </header>

  <main>
    <slot />
    <!-- é»˜è®¤æ’æ§½ -->
  </main>

  <footer>
    <slot name="footer" />
  </footer>
</div>
```

ä½¿ç”¨å…·åæ’æ§½ï¼š

```astro
---
import Layout from './Layout.astro'
---

<Layout>
  <nav slot="header">å¯¼èˆªæ </nav>

  <article>è¿™æ˜¯ä¸»è¦å†…å®¹ï¼Œæ”¾å…¥é»˜è®¤æ’æ§½</article>

  <p slot="footer">ç‰ˆæƒä¿¡æ¯ Â© 2025</p>
</Layout>
```

ğŸ”¶ **æ³¨æ„**: ä½¿ç”¨ `slot="name"` å±æ€§æŒ‡å®šå†…å®¹æ”¾å…¥å“ªä¸ªæ’æ§½ã€‚

### æ’æ§½å›é€€å†…å®¹

å½“æ²¡æœ‰ä¼ å…¥å†…å®¹æ—¶æ˜¾ç¤ºé»˜è®¤å€¼ï¼š

```astro
---
// src/components/Button.astro
---

<button class="btn">
  <slot>
    é»˜è®¤æŒ‰é’®æ–‡å­— <!-- æ²¡æœ‰ä¼ å…¥å†…å®¹æ—¶æ˜¾ç¤º -->
  </slot>
</button>
```

```astro
<!-- æ˜¾ç¤º "é»˜è®¤æŒ‰é’®æ–‡å­—" -->
<Button />

<!-- æ˜¾ç¤º "ç‚¹å‡»æäº¤" -->
<Button>ç‚¹å‡»æäº¤</Button>
```

### æ£€æŸ¥æ’æ§½æ˜¯å¦æœ‰å†…å®¹

ä½¿ç”¨ `Astro.slots` APIï¼š

```astro
---
const hasHeader = Astro.slots.has('header')
---

<div class="card">
  {
    hasHeader && (
      <header>
        <slot name="header" />
      </header>
    )
  }

  <main>
    <slot />
  </main>
</div>
```

## ç»„ä»¶ç»„åˆ

### å¸ƒå±€ç»„ä»¶ (Layout)

å¸ƒå±€ç»„ä»¶å®šä¹‰é¡µé¢çš„å…¬å…±ç»“æ„ï¼š

```astro
---
// src/layouts/BaseLayout.astro
import '~/styles/global.css'
import Header from '~/components/Header.astro'
import Footer from '~/components/Footer.astro'

interface Props {
  title: string
  description?: string
}

const { title, description } = Astro.props
---

<!doctype html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description} />
    <title>{title}</title>
  </head>
  <body>
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>
```

é¡µé¢ä½¿ç”¨å¸ƒå±€ï¼š

```astro
---
// src/pages/about.astro
import BaseLayout from '~/layouts/BaseLayout.astro'
---

<BaseLayout title="å…³äºæˆ‘" description="äº†è§£æ›´å¤šå…³äºæˆ‘çš„ä¿¡æ¯">
  <h1>å…³äºæˆ‘</h1>
  <p>è¿™æ˜¯å…³äºé¡µé¢çš„å†…å®¹...</p>
</BaseLayout>
```

### å¯å¤ç”¨ UI ç»„ä»¶

å°†é‡å¤çš„ UI æŠ½å–ä¸ºç»„ä»¶ï¼š

```astro
---
// src/components/PostCard.astro
interface Props {
  title: string
  description: string
  date: Date
  href: string
}

const { title, description, date, href } = Astro.props
const formattedDate = date.toLocaleDateString('zh-CN')
---

<article class="post-card">
  <a href={href}>
    <h3>{title}</h3>
    <p>{description}</p>
    <time datetime={date.toISOString()}>{formattedDate}</time>
  </a>
</article>

<style>
  .post-card {
    padding: 1.5rem;
    border: 1px solid #eee;
    border-radius: 8px;
    transition: box-shadow 0.2s;
  }

  .post-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  h3 {
    margin: 0 0 0.5rem;
    color: #333;
  }

  p {
    color: #666;
    margin: 0 0 1rem;
  }

  time {
    font-size: 0.875rem;
    color: #999;
  }
</style>
```

### ç»„ä»¶å¯¼å…¥ä¸è·¯å¾„åˆ«å

ä½¿ç”¨è·¯å¾„åˆ«åç®€åŒ–å¯¼å…¥ï¼š

```astro
---
// ä½¿ç”¨åˆ«åï¼ˆæ¨èï¼‰
import Header from '~/components/Header.astro'
import { SITE } from '~/config'
import { formatDate } from '~/utils/date'

// è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„
// import Header from '../../components/Header.astro'
---
```

é…ç½®è·¯å¾„åˆ«åï¼ˆ`tsconfig.json`ï¼‰ï¼š

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "~/*": ["./src/*"]
    }
  }
}
```

## æ¡†æ¶ç»„ä»¶é›†æˆ

Astro æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯å¯ä»¥æ··ç”¨ä¸åŒæ¡†æ¶çš„ç»„ä»¶ã€‚

### å®‰è£…æ¡†æ¶é›†æˆ

```bash
# React
pnpm astro add react

# Vue
pnpm astro add vue

# Svelte
pnpm astro add svelte

# Solid
pnpm astro add solid-js
```

### React/Vue/Svelte ç»„ä»¶å¯¼å…¥

å®‰è£…åå³å¯ç›´æ¥å¯¼å…¥æ¡†æ¶ç»„ä»¶ï¼š

```astro
---
// åœ¨ Astro ç»„ä»¶ä¸­æ··ç”¨å¤šä¸ªæ¡†æ¶
import ReactCounter from '../components/ReactCounter.jsx'
import VueTimer from '../components/VueTimer.vue'
import SvelteToggle from '../components/SvelteToggle.svelte'
---

<div>
  <h1>æ··åˆæ¡†æ¶æ¼”ç¤º</h1>
  <ReactCounter client:load />
  <VueTimer client:idle />
  <SvelteToggle client:visible />
</div>
```

### client:\* æŒ‡ä»¤è¯¦è§£

ğŸ¯ æ¡†æ¶ç»„ä»¶é»˜è®¤åªæ¸²æŸ“ HTMLï¼Œä¸ä¼šåŠ è½½ JavaScriptã€‚è¦å¯ç”¨äº¤äº’ï¼Œéœ€è¦æ·»åŠ  `client:*` æŒ‡ä»¤ã€‚

| æŒ‡ä»¤             | åŠ è½½æ—¶æœº       | ä½¿ç”¨åœºæ™¯           |
| ---------------- | -------------- | ------------------ |
| `client:load`    | é¡µé¢åŠ è½½æ—¶ç«‹å³ | éœ€è¦ç«‹å³äº¤äº’çš„ç»„ä»¶ |
| `client:idle`    | é¡µé¢ç©ºé—²æ—¶     | éå…³é”®äº¤äº’ç»„ä»¶     |
| `client:visible` | ç»„ä»¶è¿›å…¥è§†å£æ—¶ | é¡µé¢ä¸‹æ–¹çš„ç»„ä»¶     |
| `client:media`   | åŒ¹é…åª’ä½“æŸ¥è¯¢æ—¶ | å“åº”å¼ç»„ä»¶         |
| `client:only`    | åªåœ¨å®¢æˆ·ç«¯æ¸²æŸ“ | ä¾èµ–æµè§ˆå™¨ API     |

**client:load** - æœ€é«˜ä¼˜å…ˆçº§

```astro
<!-- é¡µé¢åŠ è½½æ—¶ç«‹å³ hydrate -->
<SearchBar client:load />
```

**client:idle** - å»¶è¿ŸåŠ è½½

```astro
<!-- é¡µé¢ç©ºé—²æ—¶åŠ è½½ï¼Œä½¿ç”¨ requestIdleCallback -->
<NewsletterForm client:idle />
```

**client:visible** - æ‡’åŠ è½½

```astro
<!-- æ»šåŠ¨åˆ°å¯è§åŒºåŸŸæ—¶åŠ è½½ -->
<CommentSection client:visible />
<InfiniteScroll client:visible />
```

**client:media** - æ¡ä»¶åŠ è½½

```astro
<!-- ä»…åœ¨ç§»åŠ¨ç«¯åŠ è½½ -->
<MobileMenu client:media="(max-width: 768px)" />
```

**client:only** - çº¯å®¢æˆ·ç«¯æ¸²æŸ“

```astro
<!-- ä¸åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåªåœ¨å®¢æˆ·ç«¯æ¸²æŸ“ --><!-- å¿…é¡»æŒ‡å®šæ¡†æ¶ -->
<BrowserOnlyChart client:only="react" />
```

ğŸ”¶ **æ³¨æ„**: `client:only` éœ€è¦æŒ‡å®šæ¡†æ¶åç§°ï¼Œå› ä¸ºæœåŠ¡ç«¯ä¸ä¼šæ‰§è¡Œæ¸²æŸ“ã€‚

### æ··åˆæ¡†æ¶ç»„ä»¶

ä¸€ä¸ª Astro é¡µé¢å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªæ¡†æ¶ï¼š

```astro
---
import Layout from '../layouts/Layout.astro'
import ReactHeader from '../components/ReactHeader.jsx'
import VueFooter from '../components/VueFooter.vue'
import SvelteButton from '../components/SvelteButton.svelte'
---

<Layout>
  <ReactHeader client:load />

  <main>
    <h1>è¿™æ˜¯ Astro å†…å®¹</h1>
    <SvelteButton client:visible> ç‚¹å‡»æˆ‘ </SvelteButton>
  </main>

  <VueFooter client:idle />
</Layout>
```

ğŸ¤” **ä»€ä¹ˆæ—¶å€™è¿™æ ·åšæœ‰æ„ä¹‰ï¼Ÿ**

- è¿ç§»è€é¡¹ç›®æ—¶ï¼Œé€æ­¥æ›¿æ¢ç»„ä»¶
- å›¢é˜Ÿæˆå‘˜ç†Ÿæ‚‰ä¸åŒæ¡†æ¶
- åˆ©ç”¨ç‰¹å®šæ¡†æ¶çš„ä¼˜ç§€ç»„ä»¶åº“

## æ ·å¼æ–¹æ¡ˆ

### Scoped CSSï¼ˆç»„ä»¶å†…æ ·å¼ï¼‰

Astro ç»„ä»¶ä¸­çš„ `<style>` é»˜è®¤æ˜¯ scoped çš„ï¼š

```astro
---
// Button.astro
---

<button class="btn">ç‚¹å‡»</button>

<style>
  /* åªå½±å“å½“å‰ç»„ä»¶çš„ .btn */
  .btn {
    padding: 0.5rem 1rem;
    background: blue;
    color: white;
    border: none;
    border-radius: 4px;
  }

  .btn:hover {
    background: darkblue;
  }
</style>
```

Astro é€šè¿‡æ·»åŠ å”¯ä¸€çš„ `data-astro-cid-xxx` å±æ€§å®ç°æ ·å¼éš”ç¦»ï¼š

```html
<!-- æ¸²æŸ“ç»“æœ -->
<button class="btn" data-astro-cid-abc123>ç‚¹å‡»</button>
<style>
  .btn[data-astro-cid-abc123] {
    /* styles */
  }
</style>
```

### å…¨å±€æ ·å¼

æ–¹å¼ 1: ä½¿ç”¨ `is:global` æŒ‡ä»¤

```astro
<style is:global>
  /* è¿™äº›æ ·å¼æ˜¯å…¨å±€çš„ */
  body {
    margin: 0;
    font-family: system-ui, sans-serif;
  }

  a {
    color: blue;
  }
</style>
```

æ–¹å¼ 2: åœ¨ç»„ä»¶è„šæœ¬ä¸­å¯¼å…¥

```astro
---
// å¯¼å…¥å…¨å±€æ ·å¼æ–‡ä»¶
import '../styles/global.css'
---
```

æ–¹å¼ 3: ä½¿ç”¨ `:global()` é€‰æ‹©å™¨

```astro
<style>
  /* åªæœ‰ .wrapper å†…çš„ p æ˜¯å…¨å±€çš„ */
  .wrapper :global(p) {
    color: red;
  }
</style>
```

### CSS å˜é‡ä¸ä¸»é¢˜åˆ‡æ¢

ä½¿ç”¨ CSS å˜é‡å®ç°ä¸»é¢˜åˆ‡æ¢ï¼š

```css
/* src/styles/theme.css */
:root {
  /* äº®è‰²ä¸»é¢˜ */
  --color-bg: #ffffff;
  --color-text: #333333;
  --color-primary: #0066cc;
  --color-secondary: #666666;
}

:root.dark {
  /* æš—è‰²ä¸»é¢˜ */
  --color-bg: #1a1a1a;
  --color-text: #e5e5e5;
  --color-primary: #66b3ff;
  --color-secondary: #999999;
}
```

ç»„ä»¶ä¸­ä½¿ç”¨å˜é‡ï¼š

```astro
<style>
  .card {
    background: var(--color-bg);
    color: var(--color-text);
    border: 1px solid var(--color-secondary);
  }

  .card a {
    color: var(--color-primary);
  }
</style>
```

ä¸»é¢˜åˆ‡æ¢è„šæœ¬ï¼š

```astro
<script>
  function toggleTheme() {
    document.documentElement.classList.toggle('dark')
    const isDark = document.documentElement.classList.contains('dark')
    localStorage.setItem('theme', isDark ? 'dark' : 'light')
  }

  // åˆå§‹åŒ–ä¸»é¢˜
  const savedTheme = localStorage.getItem('theme')
  if (savedTheme === 'dark') {
    document.documentElement.classList.add('dark')
  }
</script>
```

### UnoCSS åœ¨å½“å‰é¡¹ç›®ä¸­çš„åº”ç”¨

å½“å‰åšå®¢ä½¿ç”¨ UnoCSS ä½œä¸ºåŸå­åŒ– CSS æ–¹æ¡ˆã€‚UnoCSS æ˜¯ä¸€ä¸ªå³æ—¶åŸå­åŒ– CSS å¼•æ“ï¼Œæ€§èƒ½ä¼˜äº Tailwind CSSã€‚

**é…ç½® UnoCSS**:

```typescript
// uno.config.ts
import { defineConfig, presetUno, presetIcons } from 'unocss'

export default defineConfig({
  presets: [
    presetUno(), // é»˜è®¤é¢„è®¾ï¼ˆç±»ä¼¼ Tailwindï¼‰
    presetIcons({
      // å›¾æ ‡é¢„è®¾
      scale: 1.2,
      cdn: 'https://esm.sh/',
    }),
  ],
  shortcuts: {
    btn: 'px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600',
    card: 'p-4 rounded-lg shadow-md bg-white dark:bg-gray-800',
  },
})
```

**åœ¨ Astro ä¸­ä½¿ç”¨**:

```astro
---
// astro.config.ts ä¸­å·²é…ç½® unocss é›†æˆ
---

<div class="flex items-center gap-4 p-6">
  <button class="btn">ç‚¹å‡»</button>
  <div class="card">
    <h3 class="text-lg font-bold mb-2">æ ‡é¢˜</h3>
    <p class="text-gray-600 dark:text-gray-400">å†…å®¹</p>
  </div>
</div>

<!-- ä½¿ç”¨å›¾æ ‡ -->
<span class="i-carbon-moon text-2xl"></span>
<span class="i-ri-sun-line text-2xl"></span>
```

**UnoCSS vs Tailwind CSS**:

| ç‰¹æ€§       | UnoCSS             | Tailwind CSS |
| ---------- | ------------------ | ------------ |
| æ„å»ºé€Ÿåº¦   | æå¿«ï¼ˆæŒ‰éœ€ç”Ÿæˆï¼‰   | å¿«           |
| é…ç½®çµæ´»æ€§ | é«˜ï¼ˆå¯è‡ªå®šä¹‰å¼•æ“ï¼‰ | ä¸­           |
| å›¾æ ‡æ”¯æŒ   | å†…ç½® preset        | éœ€é¢å¤–é…ç½®   |
| ç”Ÿæ€ç³»ç»Ÿ   | å¢é•¿ä¸­             | æˆç†Ÿ         |

## å®æˆ˜ï¼šåˆ†æ AntfuStyle ç»„ä»¶

è®©æˆ‘ä»¬çœ‹çœ‹å½“å‰åšå®¢çš„ç»„ä»¶æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚

### Header/Footer å¸ƒå±€ç»„ä»¶

**BaseLayout.astro** - åŸºç¡€å¸ƒå±€ï¼š

```astro
---
// src/layouts/BaseLayout.astro
import '@unocss/reset/tailwind.css'
import '~/styles/main.css'
import '~/styles/prose.css'

import Head from '~/components/base/Head.astro'
import NavBar from '~/components/nav/NavBar.astro'
import Footer from '~/components/base/Footer.astro'
import Background from '~/components/backgrounds/Background.astro'

interface Props {
  title?: string
  description?: string
  bgType?: 'plum' | 'dot' | 'rose' | 'particle' | false
}

const { title, description, bgType } = Astro.props
---

<!doctype html>
<html lang="zh-Hans">
  <head>
    <Head {title} {description} />
  </head>
  <body
    class="relative flex flex-col min-h-screen font-sans text-gray-700 dark:text-gray-200"
  >
    {bgType && <Background type={bgType} />}
    <NavBar />
    <main id="main" class="px-7 py-10">
      <slot />
    </main>
    <Footer />
  </body>
</html>
```

ğŸ¯ å…³é”®è®¾è®¡ï¼š

- å¯¼å…¥å…¨å±€æ ·å¼å’Œ CSS Reset
- ä½¿ç”¨ Props æ§åˆ¶èƒŒæ™¯ç±»å‹
- é€šè¿‡ slot æ’å…¥é¡µé¢å†…å®¹
- ä½¿ç”¨ UnoCSS åŸå­ç±»

### å¡ç‰‡/æŒ‰é’®ç­‰ UI ç»„ä»¶

ä¸€ä¸ªå…¸å‹çš„å¡ç‰‡ç»„ä»¶ï¼š

```astro
---
// src/components/PostCard.astro
interface Props {
  title: string
  description?: string
  date: Date
  href: string
  tags?: string[]
}

const { title, description, date, href, tags = [] } = Astro.props
---

<a
  href={href}
  class="group block p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors"
>
  <h3
    class="text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-500 transition-colors"
  >
    {title}
  </h3>

  {
    description && (
      <p class="mt-2 text-gray-600 dark:text-gray-400 line-clamp-2">
        {description}
      </p>
    )
  }

  <div class="mt-3 flex items-center justify-between text-sm">
    <time class="text-gray-500 dark:text-gray-500">
      {date.toLocaleDateString('zh-CN')}
    </time>

    {
      tags.length > 0 && (
        <div class="flex gap-2">
          {tags.slice(0, 3).map((tag) => (
            <span class="px-2 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs">
              {tag}
            </span>
          ))}
        </div>
      )
    }
  </div>
</a>
```

### ä¸»é¢˜åˆ‡æ¢å®ç°åŸç†

ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ç»„ä»¶ï¼š

```astro
---
// src/components/ThemeToggle.astro
---

<button
  id="theme-toggle"
  class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"
  aria-label="åˆ‡æ¢ä¸»é¢˜"
>
  <span class="i-ri-sun-line dark:hidden text-xl"></span>
  <span class="i-ri-moon-line hidden dark:inline text-xl"></span>
</button>

<script>
  const toggle = document.getElementById('theme-toggle')

  // æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)')

  // åˆå§‹åŒ–ä¸»é¢˜
  function initTheme() {
    const saved = localStorage.getItem('theme')
    if (saved) {
      document.documentElement.classList.toggle('dark', saved === 'dark')
    } else if (prefersDark.matches) {
      document.documentElement.classList.add('dark')
    }
  }

  // åˆ‡æ¢ä¸»é¢˜
  function toggleTheme() {
    const isDark = document.documentElement.classList.toggle('dark')
    localStorage.setItem('theme', isDark ? 'dark' : 'light')
  }

  initTheme()
  toggle?.addEventListener('click', toggleTheme)

  // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
  prefersDark.addEventListener('change', (e) => {
    if (!localStorage.getItem('theme')) {
      document.documentElement.classList.toggle('dark', e.matches)
    }
  })
</script>
```

### åŠ¨ç”»èƒŒæ™¯ç»„ä»¶ (Plum/Dot/Rose)

å½“å‰åšå®¢æ”¯æŒå¤šç§åŠ¨ç”»èƒŒæ™¯ã€‚ä»¥ Plumï¼ˆæ¢…èŠ±ï¼‰èƒŒæ™¯ä¸ºä¾‹ï¼š

```astro
---
// src/components/backgrounds/Background.astro
interface Props {
  type: 'plum' | 'dot' | 'rose' | 'particle'
}

const { type } = Astro.props
---

{type === 'plum' && <PlumBackground />}
{type === 'dot' && <DotBackground />}
{type === 'rose' && <RoseBackground />}
{type === 'particle' && <ParticleBackground />}
```

Plum èƒŒæ™¯ä½¿ç”¨ Canvas ç»˜åˆ¶ç”Ÿé•¿åŠ¨ç”»ï¼š

```astro
---
// src/components/backgrounds/PlumBackground.astro
---

<canvas id="plum-canvas" class="fixed inset-0 pointer-events-none -z-10 op-50"
></canvas>

<script>
  const canvas = document.getElementById('plum-canvas') as HTMLCanvasElement
  const ctx = canvas.getContext('2d')!

  // è®¾ç½®ç”»å¸ƒå°ºå¯¸
  function resize() {
    canvas.width = window.innerWidth
    canvas.height = window.innerHeight
  }

  resize()
  window.addEventListener('resize', resize)

  // ç»˜åˆ¶æ¢…èŠ±æå¹²ç”Ÿé•¿åŠ¨ç”»...
  // ï¼ˆå…·ä½“å®ç°ç•¥ï¼Œä½¿ç”¨ requestAnimationFrame ç»˜åˆ¶è´å¡å°”æ›²çº¿ï¼‰
</script>
```

## ç»„ä»¶æœ€ä½³å®è·µ

### Props ç±»å‹å®Œæ•´å®šä¹‰

```astro
---
// âœ… å®Œæ•´çš„ç±»å‹å®šä¹‰
interface Props {
  /** æ–‡ç« æ ‡é¢˜ */
  title: string
  /** æ–‡ç« æè¿°ï¼ˆå¯é€‰ï¼‰ */
  description?: string
  /** å‘å¸ƒæ—¥æœŸ */
  date: Date
  /** æ˜¯å¦æ˜¾ç¤ºä½œè€… */
  showAuthor?: boolean
}

const {
  title,
  description,
  date,
  showAuthor = true, // é»˜è®¤å€¼
} = Astro.props
---
```

### åˆç†ä½¿ç”¨ Slots

```astro
---
// å¤æ‚å¸ƒå±€ä½¿ç”¨å¤šä¸ªå…·åæ’æ§½
---

<article class="post">
  <header>
    <slot name="title" />
    <slot name="meta" />
  </header>

  <div class="content">
    <slot />
    <!-- é»˜è®¤æ’æ§½æ”¾ä¸»è¦å†…å®¹ -->
  </div>

  {
    Astro.slots.has('footer') && (
      <footer>
        <slot name="footer" />
      </footer>
    )
  }
</article>
```

### æ ·å¼ç»„ç»‡

```
src/styles/
â”œâ”€â”€ global.css      # å…¨å±€åŸºç¡€æ ·å¼
â”œâ”€â”€ prose.css       # æ–‡ç« å†…å®¹æ ·å¼
â”œâ”€â”€ markdown.css    # Markdown æ ·å¼
â””â”€â”€ page.css        # é¡µé¢çº§æ ·å¼
```

## ä¸‹ä¸€æ­¥

ğŸ¯ ç°åœ¨ä½ å·²ç»æŒæ¡äº† Astro ç»„ä»¶ç³»ç»Ÿï¼š

- ç»„ä»¶çš„åŸºæœ¬ç»“æ„å’Œ Props ä¼ é€’
- æ’æ§½ç³»ç»Ÿçš„ä½¿ç”¨
- æ¡†æ¶ç»„ä»¶é›†æˆå’Œ client:\* æŒ‡ä»¤
- å¤šç§æ ·å¼æ–¹æ¡ˆ

ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Astro 5 çš„**å†…å®¹é›†åˆ**ï¼ŒåŒ…æ‹¬ï¼š

- Content Layer API çš„ä½¿ç”¨
- Schema å®šä¹‰å’ŒéªŒè¯
- é›†åˆæŸ¥è¯¢å’Œæ¸²æŸ“
- å½“å‰åšå®¢çš„å†…å®¹æ¶æ„åˆ†æ

## å‚è€ƒèµ„æ–™

- [Astro ç»„ä»¶æ–‡æ¡£](https://docs.astro.build/en/basics/astro-components/)
- [Astro æ ·å¼æŒ‡å—](https://docs.astro.build/en/guides/styling/)
- [UnoCSS æ–‡æ¡£](https://unocss.dev/)
- [Astro æ¡†æ¶é›†æˆ](https://docs.astro.build/en/guides/framework-components/)
