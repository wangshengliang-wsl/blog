---
title: Astro å…¥é—¨æŒ‡å—
description: ä»é›¶å¼€å§‹å­¦ä¹  Astro 5ï¼Œç†è§£å²›å±¿æ¶æ„æ ¸å¿ƒç†å¿µï¼Œåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå†…å®¹é©±åŠ¨ç½‘ç«™
pubDate: 2025-12-02
toc: true
ogImage: true
category: Astro
tags: ['Astro', 'å‰ç«¯æ¡†æ¶', 'é™æ€ç«™ç‚¹']
---

## Astro æ˜¯ä»€ä¹ˆï¼Ÿ

ğŸ™‹ æƒ³è±¡ä¸€ä¸‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä½ éœ€è¦æ­å»ºä¸€ä¸ªæŠ€æœ¯åšå®¢ï¼Œå†…å®¹ä¸»è¦æ˜¯ Markdown æ–‡ç« ï¼Œå¶å°”éœ€è¦ä¸€äº›äº¤äº’ç»„ä»¶ï¼ˆæ¯”å¦‚ä»£ç é«˜äº®ã€ç›®å½•å¯¼èˆªï¼‰ã€‚ç”¨ React/Vue å…¨å®¶æ¡¶ï¼Ÿå¤ªé‡äº†ï¼Œä¸€ä¸ªç®€å•çš„åšå®¢é¡µé¢è¦åŠ è½½å‡ ç™¾ KB çš„ JavaScriptã€‚ç”¨çº¯é™æ€ HTMLï¼Ÿåˆå¤±å»äº†ç»„ä»¶åŒ–å¼€å‘çš„ä¾¿åˆ©ã€‚

Astro å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªç—›ç‚¹è€Œç”Ÿçš„ã€‚å®ƒæ˜¯ä¸€ä¸ª**å†…å®¹é©±åŠ¨**çš„ Web æ¡†æ¶ï¼Œæ ¸å¿ƒç†å¿µæ˜¯ï¼š

> é»˜è®¤é›¶ JavaScriptï¼ŒæŒ‰éœ€åŠ è½½äº¤äº’

è¿™æ„å‘³ç€ Astro ç”Ÿæˆçš„é¡µé¢é»˜è®¤åªæœ‰ HTML å’Œ CSSï¼Œä¸ä¼šæ‰“åŒ…ä»»ä½• JavaScript åˆ°å®¢æˆ·ç«¯ã€‚åªæœ‰å½“ä½ æ˜ç¡®æ ‡è®°æŸä¸ªç»„ä»¶éœ€è¦äº¤äº’æ—¶ï¼Œæ‰ä¼šåŠ è½½å¯¹åº”çš„ JS ä»£ç ã€‚

### å²›å±¿æ¶æ„ï¼ˆIslands Architectureï¼‰

ğŸ¯ è¿™æ˜¯ Astro æœ€æ ¸å¿ƒçš„è®¾è®¡ç†å¿µã€‚ä¼ ç»Ÿ SPA æ¡†æ¶æŠŠæ•´ä¸ªé¡µé¢å½“ä½œä¸€ä¸ª JavaScript åº”ç”¨ï¼Œè€Œ Astro æŠŠé¡µé¢çœ‹ä½œä¸€ç‰‡"HTML æµ·æ´‹"ï¼Œå…¶ä¸­æ•£è½ç€å‡ ä¸ªéœ€è¦äº¤äº’çš„"å²›å±¿"ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (é™æ€ HTML)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   æ–‡ç« å†…å®¹                 â”‚
â”‚  â”‚ æœç´¢ç»„ä»¶  â”‚   (é™æ€ HTML/Markdown)    â”‚
â”‚  â”‚ (äº¤äº’å²›) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   è¯„è®ºåŒº      â”‚                       â”‚
â”‚  â”‚  (äº¤äº’å²›)    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Footer (é™æ€ HTML)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¿™ç§æ¶æ„çš„å¥½å¤„æ˜¯ï¼š

- âœ… **æè‡´æ€§èƒ½**ï¼šé¡µé¢é¦–å±å‡ ä¹æ²¡æœ‰ JS é˜»å¡
- âœ… **æ¸è¿›å¢å¼º**ï¼šå³ä½¿ JS åŠ è½½å¤±è´¥ï¼Œé™æ€å†…å®¹ä»å¯é˜…è¯»
- âœ… **æŒ‰éœ€åŠ è½½**ï¼šæ¯ä¸ªå²›å±¿ç‹¬ç«‹ hydrateï¼Œä¸ä¼šç›¸äº’é˜»å¡

### ä¸ä¸»æµæ¡†æ¶çš„å¯¹æ¯”

| ç‰¹æ€§      | Astro        | Next.js   | Nuxt      |
| --------- | ------------ | --------- | --------- |
| é»˜è®¤è¾“å‡º  | é™æ€ HTML    | JS Bundle | JS Bundle |
| å®¢æˆ·ç«¯ JS | æŒ‰éœ€åŠ è½½     | å…¨é‡åŠ è½½  | å…¨é‡åŠ è½½  |
| æ¡†æ¶ç»‘å®š  | æ— ï¼ˆå¯æ··ç”¨ï¼‰ | React     | Vue       |
| é€‚ç”¨åœºæ™¯  | å†…å®¹ç«™ç‚¹     | Web åº”ç”¨  | Web åº”ç”¨  |
| å­¦ä¹ æ›²çº¿  | ä½           | ä¸­        | ä¸­        |

ğŸ¤” ä»€ä¹ˆæ—¶å€™é€‰æ‹© Astroï¼Ÿ

- åšå®¢ã€æ–‡æ¡£ã€è¥é”€é¡µé¢ç­‰**å†…å®¹ä¸ºä¸»**çš„ç«™ç‚¹
- å¯¹é¦–å±æ€§èƒ½æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯
- æƒ³åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­æ··ç”¨ Reactã€Vueã€Svelte ç»„ä»¶
- åŒå€¦äº†é…ç½® Webpack/Vite çš„å¤æ‚æ„å»ºæµç¨‹

ä»€ä¹ˆæ—¶å€™**ä¸**é€‰æ‹© Astroï¼Ÿ

- éœ€è¦å¤§é‡å®æ—¶äº¤äº’çš„ SaaS åº”ç”¨
- å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä½“éªŒè¦æ±‚é«˜çš„åœºæ™¯
- å›¢é˜Ÿå·²æ·±åº¦ç»‘å®šæŸä¸ªæ¡†æ¶ç”Ÿæ€

## ä¸ºä»€ä¹ˆé€‰æ‹© Astroï¼Ÿ

### é›¶ JavaScript é»˜è®¤è¾“å‡º

Astro æ„å»ºçš„é¡µé¢é»˜è®¤ä¸åŒ…å«ä»»ä½• JavaScriptã€‚è¿™ä¸æ˜¯å™±å¤´ï¼Œè€Œæ˜¯å®å®åœ¨åœ¨çš„æ€§èƒ½æ”¶ç›Šã€‚ä»¥å½“å‰åšå®¢ä¸ºä¾‹ï¼Œä¸€ç¯‡æ™®é€šæ–‡ç« é¡µé¢çš„èµ„æºåŠ è½½ï¼š

```bash
# å…¸å‹ Astro åšå®¢é¡µé¢
index.html          15 KB (gzip)
styles.css          8 KB (gzip)
# JavaScript åªåœ¨éœ€è¦æ—¶åŠ è½½
```

å¯¹æ¯”ä¸€ä¸ªç±»ä¼¼çš„ Next.js åšå®¢ï¼š

```bash
# å…¸å‹ Next.js åšå®¢é¡µé¢
index.html          5 KB
_app.js             150 KB (gzip)
framework.js        45 KB (gzip)
page.js             30 KB (gzip)
```

### å¤šæ¡†æ¶ç»„ä»¶æ”¯æŒ

Astro ä¸ç»‘å®šä»»ä½• UI æ¡†æ¶ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼š

```astro
---
// åŒä¸€ä¸ª Astro é¡µé¢ä¸­æ··ç”¨å¤šä¸ªæ¡†æ¶
import ReactCounter from '../components/ReactCounter.jsx'
import VueTimer from '../components/VueTimer.vue'
import SvelteForm from '../components/SvelteForm.svelte'
---

<main>
  <ReactCounter client:load />
  <VueTimer client:idle />
  <SvelteForm client:visible />
</main>
```

è¿™åœ¨è¿ç§»è€é¡¹ç›®æˆ–å›¢é˜Ÿæœ‰ä¸åŒæŠ€æœ¯èƒŒæ™¯æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚

### å†…å®¹é›†åˆä¸ç±»å‹å®‰å…¨

Astro 5 å¼•å…¥äº† Content Layer APIï¼Œä¸º Markdown/MDX å†…å®¹æä¾›å®Œæ•´çš„ç±»å‹æ”¯æŒï¼š

```typescript
// src/content.config.ts
import { defineCollection, z } from 'astro:content'
import { glob } from 'astro/loaders'

const blog = defineCollection({
  loader: glob({ base: './src/content/blog', pattern: '**/*.mdx' }),
  schema: z.object({
    title: z.string().max(60),
    pubDate: z.coerce.date(),
    tags: z.array(z.string()).default([]),
  }),
})
```

å®šä¹‰å¥½ Schema åï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æç¤º Frontmatter å­—æ®µï¼Œæ‹¼å†™é”™è¯¯ä¹Ÿä¼šåœ¨æ„å»ºæ—¶è¢«æ•è·ã€‚

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: 18.17.1+ æˆ– 20.3.0+ï¼ˆæ¨èä½¿ç”¨ LTS ç‰ˆæœ¬ï¼‰
- **åŒ…ç®¡ç†å™¨**: npm / pnpm / yarn / bun ä»»é€‰
- **ç¼–è¾‘å™¨**: VS Code + [Astro å®˜æ–¹æ‰©å±•](https://marketplace.visualstudio.com/items?itemName=astro-build.astro-vscode)

```bash
# æ£€æŸ¥ Node ç‰ˆæœ¬
node -v  # åº”è¯¥è¾“å‡º v18.x æˆ– v20.x ä»¥ä¸Š

# æ¨èä½¿ç”¨ pnpmï¼ˆå½“å‰åšå®¢ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼‰
npm install -g pnpm
```

### åˆ›å»ºé¡¹ç›®

Astro æä¾›äº†äº¤äº’å¼è„šæ‰‹æ¶ï¼Œå‡ æ¡å‘½ä»¤å°±èƒ½åˆ›å»ºé¡¹ç›®ï¼š

```bash
# ä½¿ç”¨ pnpm åˆ›å»ºï¼ˆæ¨èï¼‰
pnpm create astro@latest

# æˆ–è€…ä½¿ç”¨ npm
npm create astro@latest

# æˆ–è€…ä½¿ç”¨ yarn
yarn create astro
```

è„šæ‰‹æ¶ä¼šè¯¢é—®å‡ ä¸ªé—®é¢˜ï¼š

```
â”Œ  astro  v5.1.0
â”‚
â—†  Where should we create your new project?
â”‚  ./my-astro-blog
â”‚
â—†  How would you like to start your new project?
â”‚  â— Use blog template (æ¨èåˆå­¦è€…)
â”‚  â—‹ Include sample files
â”‚  â—‹ Empty
â”‚
â—†  Do you plan to write TypeScript?
â”‚  â— Yes (æ¨è)
â”‚  â—‹ No
â”‚
â—†  How strict should TypeScript be?
â”‚  â— Strict (æ¨è)
â”‚  â—‹ Strictest
â”‚  â—‹ Relaxed
â”‚
â—†  Install dependencies?
â”‚  â— Yes
â”‚  â—‹ No
â”‚
â—†  Initialize a new git repository?
â”‚  â— Yes
â”‚  â—‹ No
```

### é¡¹ç›®ç»“æ„è¯¦è§£

åˆ›å»ºå®Œæˆåï¼Œä½ ä¼šå¾—åˆ°è¿™æ ·çš„ç›®å½•ç»“æ„ï¼š

```
my-astro-blog/
â”œâ”€â”€ public/              # é™æ€èµ„æºï¼ˆåŸæ ·å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼‰
â”‚   â””â”€â”€ favicon.svg
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # ç»„ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ Card.astro
â”‚   â”œâ”€â”€ content/         # å†…å®¹é›†åˆç›®å½•
â”‚   â”‚   â””â”€â”€ blog/
â”‚   â”‚       â””â”€â”€ first-post.md
â”‚   â”œâ”€â”€ layouts/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout.astro
â”‚   â”œâ”€â”€ pages/           # é¡µé¢è·¯ç”±ï¼ˆæ–‡ä»¶å³è·¯ç”±ï¼‰
â”‚   â”‚   â””â”€â”€ index.astro
â”‚   â”œâ”€â”€ styles/          # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ content.config.ts # å†…å®¹é›†åˆé…ç½®
â”œâ”€â”€ astro.config.mjs     # Astro é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json        # TypeScript é…ç½®
```

ğŸ¯ å‡ ä¸ªå…³é”®ç›®å½•çš„ä½œç”¨ï¼š

- **`src/pages/`**: æ–‡ä»¶è·¯ç”±çš„æ ¸å¿ƒï¼Œè¿™é‡Œçš„æ¯ä¸ª `.astro` æˆ– `.md` æ–‡ä»¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªé¡µé¢
- **`src/content/`**: å­˜æ”¾å†…å®¹é›†åˆï¼ˆåšå®¢æ–‡ç« ã€æ–‡æ¡£ç­‰ï¼‰
- **`src/layouts/`**: é¡µé¢å¸ƒå±€æ¨¡æ¿ï¼Œå®šä¹‰å…¬å…±çš„é¡µé¢ç»“æ„
- **`src/components/`**: å¯å¤ç”¨çš„ UI ç»„ä»¶
- **`public/`**: é™æ€èµ„æºï¼Œæ„å»ºæ—¶åŸæ ·å¤åˆ¶åˆ°è¾“å‡ºç›®å½•

## ç¬¬ä¸€ä¸ªé¡µé¢

### .astro æ–‡ä»¶åŸºæœ¬è¯­æ³•

Astro ç»„ä»¶ä½¿ç”¨ `.astro` æ‰©å±•åï¼Œæ–‡ä»¶ç»“æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

```astro
---
// è¿™é‡Œæ˜¯ã€Œç»„ä»¶è„šæœ¬ã€(Frontmatter)
// åœ¨æœåŠ¡ç«¯æ‰§è¡Œï¼Œä¸ä¼šå‘é€åˆ°å®¢æˆ·ç«¯
import Layout from '../layouts/Layout.astro'

const title = 'Hello Astro'
const items = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­']
---

<!-- è¿™é‡Œæ˜¯ã€Œç»„ä»¶æ¨¡æ¿ã€ --><!-- ç±»ä¼¼ JSXï¼Œä½†æœ‰ä¸€äº›å·®å¼‚ -->
<Layout title={title}>
  <h1>{title}</h1>
  <ul>
    {items.map((item) => <li>{item}</li>)}
  </ul>
</Layout>

<style>
  /* ç»„ä»¶æ ·å¼ï¼ˆé»˜è®¤ scopedï¼‰ */
  h1 {
    color: purple;
  }
</style>
```

ğŸ”¶ **æ³¨æ„**: Frontmatter ä½¿ç”¨ä¸‰ä¸ªçŸ­æ¨ªçº¿ `---` åŒ…è£¹ï¼Œè¿™å’Œ Markdown çš„ Frontmatter è¯­æ³•ä¸€è‡´ï¼Œä½†ä½œç”¨ä¸åŒâ€”â€”Astro çš„ Frontmatter æ˜¯ JavaScript/TypeScript ä»£ç ã€‚

### Frontmatter è„šæœ¬åŒºåŸŸ

Frontmatter ä¸­å¯ä»¥åšçš„äº‹æƒ…ï¼š

```astro
---
// 1. å¯¼å…¥ç»„ä»¶å’Œæ¨¡å—
import Header from '../components/Header.astro'
import { formatDate } from '../utils/date'

// 2. è·å–ç»„ä»¶ Props
interface Props {
  title: string
  date: Date
}
const { title, date } = Astro.props

// 3. è·å– URL å‚æ•°
const { slug } = Astro.params

// 4. è¯·æ±‚å¤–éƒ¨æ•°æ®ï¼ˆåœ¨æ„å»ºæ—¶æ‰§è¡Œï¼‰
const response = await fetch('https://api.example.com/posts')
const posts = await response.json()

// 5. å®šä¹‰å±€éƒ¨å˜é‡
const formattedDate = formatDate(date)
const isProduction = import.meta.env.PROD
---
```

ğŸ¤” ä¸€ä¸ªå¸¸è§ç–‘é—®ï¼šFrontmatter ä¸­çš„ä»£ç ä½•æ—¶æ‰§è¡Œï¼Ÿ

- **é™æ€æ„å»ºæ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰ï¼šåœ¨ `astro build` æ—¶æ‰§è¡Œï¼Œæ¯ä¸ªé¡µé¢åªæ‰§è¡Œä¸€æ¬¡
- **SSR æ¨¡å¼**ï¼šæ¯æ¬¡è¯·æ±‚æ—¶æ‰§è¡Œ

### æ¨¡æ¿è¡¨è¾¾å¼è¯­æ³•

æ¨¡æ¿éƒ¨åˆ†æ”¯æŒç±»ä¼¼ JSX çš„è¡¨è¾¾å¼ï¼š

```astro
---
const name = 'Astro'
const isLoggedIn = true
const items = [1, 2, 3]
---

<!-- å˜é‡æ’å€¼ -->
<h1>Hello, {name}!</h1>

<!-- æ¡ä»¶æ¸²æŸ“ -->
{isLoggedIn && <p>æ¬¢è¿å›æ¥!</p>}
{isLoggedIn ? <Dashboard /> : <LoginForm />}

<!-- åˆ—è¡¨æ¸²æŸ“ -->
<ul>
  {items.map((item) => <li>Item {item}</li>)}
</ul>

<!-- åŠ¨æ€å±æ€§ -->
<div class={isLoggedIn ? 'user' : 'guest'}>
  <img src={`/avatars/${name}.png`} alt={name} />
</div>

<!-- å±•å¼€å±æ€§ -->
{/* å°†å¯¹è±¡æ‰€æœ‰å±æ€§å±•å¼€ä¸ºå…ƒç´ å±æ€§ */}
<Component {...props} />
```

ğŸ”¶ ä¸ JSX çš„ä¸»è¦å·®å¼‚ï¼š

| JSX            | Astro                                 |
| -------------- | ------------------------------------- |
| `className`    | `class`                               |
| `htmlFor`      | `for`                                 |
| `{/* æ³¨é‡Š */}` | `{/* æ³¨é‡Š */}` æˆ– `<!-- HTMLæ³¨é‡Š -->` |
| å¿…é¡»æœ‰æ ¹å…ƒç´    | å¯ä»¥æœ‰å¤šä¸ªæ ¹å…ƒç´                       |

## å¼€å‘å·¥ä½œæµ

### å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­æ›´æ–°ï¼‰
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview

# ç±»å‹æ£€æŸ¥
pnpm astro check

# åŒæ­¥å†…å®¹é›†åˆç±»å‹
pnpm astro sync
```

### çƒ­æ›´æ–°æœºåˆ¶

Astro çš„å¼€å‘æœåŠ¡å™¨åŸºäº Viteï¼Œæä¾›æé€Ÿçš„çƒ­æ›´æ–°ä½“éªŒï¼š

- ä¿®æ”¹ `.astro` æ–‡ä»¶ â†’ é¡µé¢å³æ—¶åˆ·æ–°
- ä¿®æ”¹ CSS â†’ æ ·å¼çƒ­æ›¿æ¢ï¼ˆä¸åˆ·æ–°é¡µé¢ï¼‰
- ä¿®æ”¹ Markdown å†…å®¹ â†’ é¡µé¢å³æ—¶åˆ·æ–°
- ä¿®æ”¹ `astro.config.ts` â†’ éœ€è¦é‡å¯æœåŠ¡å™¨

```bash
# å¼€å‘æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ 4321 ç«¯å£
pnpm dev
# Local:    http://localhost:4321/
```

### TypeScript é…ç½®

Astro å†…ç½® TypeScript æ”¯æŒï¼Œæ¨èä½¿ç”¨ `strict` æ¨¡å¼ï¼š

```json
// tsconfig.json
{
  "extends": "astro/tsconfigs/strict",
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "~/*": ["./src/*"] // è·¯å¾„åˆ«å
    }
  }
}
```

è·¯å¾„åˆ«å `~/*` è®©å¯¼å…¥æ›´ç®€æ´ï¼š

```astro
---
// ä¸ç”¨å†™ç›¸å¯¹è·¯å¾„
import Header from '~/components/Header.astro'
import { SITE } from '~/config'

// è€Œä¸æ˜¯
// import Header from '../../components/Header.astro'
---
```

## å®æˆ˜ï¼šç†è§£å½“å‰åšå®¢é¡¹ç›®ç»“æ„

è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªåšå®¢é¡¹ç›®ï¼ˆåŸºäº AntfuStyle ä¸»é¢˜ï¼‰æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚

### é¡¹ç›®ç›®å½•æ¦‚è§ˆ

```
blog/
â”œâ”€â”€ plugins/              # Remark/Rehype æ’ä»¶
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/           # å›¾ç‰‡ç­‰èµ„æº
â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ base/         # åŸºç¡€ç»„ä»¶ (Head, Footer, Link)
â”‚   â”‚   â”œâ”€â”€ backgrounds/  # åŠ¨ç”»èƒŒæ™¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ nav/          # å¯¼èˆªç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/        # è§†å›¾ç»„ä»¶ (æ¸²æŸ“æ–‡ç« ç­‰)
â”‚   â”‚   â””â”€â”€ widgets/      # å°éƒ¨ä»¶ (è¿”å›é¡¶éƒ¨ã€è¿”å›ç­‰)
â”‚   â”œâ”€â”€ content/          # å†…å®¹é›†åˆ
â”‚   â”‚   â”œâ”€â”€ blog/         # åšå®¢æ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ changelog/    # æ›´æ–°æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ projects/     # é¡¹ç›®æ•°æ®
â”‚   â”‚   â””â”€â”€ schema.ts     # Schema å®šä¹‰
â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/            # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ config.ts         # ç«™ç‚¹é…ç½®
â”‚   â””â”€â”€ content.config.ts # å†…å®¹é›†åˆé…ç½®
â”œâ”€â”€ astro.config.ts       # Astro é…ç½®
â”œâ”€â”€ uno.config.ts         # UnoCSS é…ç½®
â””â”€â”€ package.json
```

### å…³é”®é…ç½®æ–‡ä»¶åˆ†æ

**astro.config.ts** - Astro æ ¸å¿ƒé…ç½®ï¼š

```typescript
// astro.config.ts
import { defineConfig } from 'astro/config'
import sitemap from '@astrojs/sitemap'
import unocss from 'unocss/astro'
import astroExpressiveCode from 'astro-expressive-code'
import mdx from '@astrojs/mdx'

export default defineConfig({
  site: 'https://wangshengliang.cn/', // ç«™ç‚¹ URL
  integrations: [
    sitemap(), // è‡ªåŠ¨ç”Ÿæˆç«™ç‚¹åœ°å›¾
    unocss(), // åŸå­åŒ– CSS
    astroExpressiveCode(), // ä»£ç å—å¢å¼º
    mdx(), // MDX æ”¯æŒ
  ],
  markdown: {
    remarkPlugins, // Markdown å¤„ç†æ’ä»¶
    rehypePlugins,
  },
})
```

**src/config.ts** - ç«™ç‚¹é…ç½®ï¼š

```typescript
// src/config.ts
export const SITE = {
  website: 'https://wangshengliang.cn/',
  title: 'wangshengliang',
  description: "wangshengliang's blog",
  author: 'wangshengliang',
  lang: 'zh-Hans',
}

export const FEATURES = {
  toc: [true, { minHeadingLevel: 2, maxHeadingLevel: 4 }],
  giscus: [
    true,
    {
      /* Giscus è¯„è®ºé…ç½® */
    },
  ],
  search: [true, { includes: ['blog', 'changelog'] }],
}
```

### è·¯å¾„åˆ«åçš„ä½¿ç”¨

é¡¹ç›®é…ç½®äº† `~/*` åˆ«åæŒ‡å‘ `src/` ç›®å½•ï¼š

```typescript
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "~/*": ["./src/*"]
    }
  }
}
```

è¿™æ ·åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ç”¨ç»å¯¹è·¯å¾„å¯¼å…¥ï¼š

```astro
---
// æ— è®ºæ–‡ä»¶åœ¨å“ªä¸ªå±‚çº§ï¼Œéƒ½å¯ä»¥è¿™æ ·å¯¼å…¥
import { SITE } from '~/config'
import Header from '~/components/base/Header.astro'
import { formatDate } from '~/utils/date'
---
```

## ä¸‹ä¸€æ­¥

ğŸ¯ æ­å–œä½ å®Œæˆäº† Astro å…¥é—¨ï¼ç°åœ¨ä½ åº”è¯¥å·²ç»ç†è§£äº†ï¼š

- Astro çš„å²›å±¿æ¶æ„ç†å¿µ
- é¡¹ç›®åŸºæœ¬ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡
- `.astro` æ–‡ä»¶çš„è¯­æ³•
- å¼€å‘å·¥ä½œæµå’Œå¸¸ç”¨å‘½ä»¤

ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Astro çš„**è·¯ç”±ç³»ç»Ÿ**ï¼ŒåŒ…æ‹¬ï¼š

- æ–‡ä»¶è·¯ç”±æœºåˆ¶
- åŠ¨æ€è·¯ç”±å’Œå‚æ•°
- åˆ†é¡µå®ç°
- SSR æ¨¡å¼ä¸‹çš„è·¯ç”±

## å‚è€ƒèµ„æ–™

- [Astro å®˜æ–¹æ–‡æ¡£](https://docs.astro.build/)
- [Astro GitHub ä»“åº“](https://github.com/withastro/astro)
- [Islands Architecture - Jason Miller](https://jasonformat.com/islands-architecture/)
