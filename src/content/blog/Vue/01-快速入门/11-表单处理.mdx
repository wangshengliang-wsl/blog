---
title: 'Vue3 è¡¨å•åŒå‘ç»‘å®š v-model'
pubDate: 2024-01-15
category: 'Vue'
tags: ['Vue3', 'v-model', 'è¡¨å•']
description: 'æŒæ¡ v-model åœ¨å„ç§è¡¨å•å…ƒç´ ä¸Šçš„ç”¨æ³•å’Œä¿®é¥°ç¬¦'
---

ğŸ™‹ ä»€ä¹ˆæ˜¯åŒå‘ç»‘å®šï¼Ÿ

æ•°æ®å˜ â†’ è§†å›¾å˜ï¼Œè§†å›¾å˜ â†’ æ•°æ®å˜ã€‚

æ‰‹åŠ¨å®ç°ï¼š

```vue
<input :value="text" @input="text = $event.target.value" />
```

ç”¨ `v-model` ä¸€è¡Œæå®šï¼š

```vue
<input v-model="text" />
```

## å„ç§è¡¨å•å…ƒç´ çš„ç”¨æ³•

### æ–‡æœ¬è¾“å…¥

```vue
<script setup>
import { ref } from 'vue'
const message = ref('')
</script>

<template>
  <input v-model="message" placeholder="è¾“å…¥å†…å®¹" />
  <p>ä½ è¾“å…¥äº†ï¼š{{ message }}</p>
</template>
```

### å¤šè¡Œæ–‡æœ¬

```vue
<textarea v-model="content" rows="4"></textarea>
```

ğŸ”¶ æ³¨æ„ï¼š`<textarea>{{ content }}</textarea>` ä¸è¡Œï¼Œå¿…é¡»ç”¨ v-modelã€‚

### å¤é€‰æ¡†

**å•ä¸ªå¤é€‰æ¡†**ï¼šç»‘å®šå¸ƒå°”å€¼

```vue
<script setup>
import { ref } from 'vue'
const agreed = ref(false)
</script>

<template>
  <label>
    <input type="checkbox" v-model="agreed" />
    æˆ‘åŒæ„åè®®
  </label>
  <p>{{ agreed ? 'å·²åŒæ„' : 'æœªåŒæ„' }}</p>
</template>
```

**è‡ªå®šä¹‰ true/false å€¼**ï¼š

```vue
<input
  type="checkbox"
  v-model="status"
  true-value="active"
  false-value="inactive"
/>
```

**å¤šä¸ªå¤é€‰æ¡†**ï¼šç»‘å®šæ•°ç»„

```vue
<script setup>
import { ref } from 'vue'
const hobbies = ref([])
</script>

<template>
  <label><input type="checkbox" value="æ¸¸æ³³" v-model="hobbies" /> æ¸¸æ³³</label>
  <label><input type="checkbox" value="è·‘æ­¥" v-model="hobbies" /> è·‘æ­¥</label>
  <label><input type="checkbox" value="æ¸¸æˆ" v-model="hobbies" /> æ¸¸æˆ</label>
  <p>é€‰ä¸­ï¼š{{ hobbies.join(', ') }}</p>
</template>
```

### å•é€‰æ¡†

```vue
<script setup>
import { ref } from 'vue'
const gender = ref('ä¿å¯†')
</script>

<template>
  <label><input type="radio" value="ç”·" v-model="gender" /> ç”·</label>
  <label><input type="radio" value="å¥³" v-model="gender" /> å¥³</label>
  <label><input type="radio" value="ä¿å¯†" v-model="gender" /> ä¿å¯†</label>
</template>
```

### ä¸‹æ‹‰åˆ—è¡¨

**å•é€‰**ï¼šç»‘å®šå­—ç¬¦ä¸²

```vue
<script setup>
import { ref } from 'vue'
const city = ref('')
</script>

<template>
  <select v-model="city">
    <option value="" disabled>è¯·é€‰æ‹©åŸå¸‚</option>
    <option value="beijing">åŒ—äº¬</option>
    <option value="shanghai">ä¸Šæµ·</option>
    <option value="shenzhen">æ·±åœ³</option>
  </select>
</template>
```

**å¤šé€‰**ï¼šç»‘å®šæ•°ç»„

```vue
<script setup>
import { ref } from 'vue'
const cities = ref([])
</script>

<template>
  <select v-model="cities" multiple>
    <option value="beijing">åŒ—äº¬</option>
    <option value="shanghai">ä¸Šæµ·</option>
    <option value="shenzhen">æ·±åœ³</option>
  </select>
</template>
```

## v-model ä¿®é¥°ç¬¦

| ä¿®é¥°ç¬¦    | ä½œç”¨                              | åœºæ™¯           |
| --------- | --------------------------------- | -------------- |
| `.lazy`   | change äº‹ä»¶æ—¶æ‰æ›´æ–°ï¼ˆè€Œé inputï¼‰ | å‡å°‘æ›´æ–°é¢‘ç‡   |
| `.number` | è‡ªåŠ¨è½¬ä¸ºæ•°å­—                      | æ•°å­—è¾“å…¥       |
| `.trim`   | è‡ªåŠ¨å»é™¤é¦–å°¾ç©ºæ ¼                  | ç”¨æˆ·åã€æœç´¢æ¡† |

```vue
<template>
  <!-- å¤±ç„¦æ—¶æ‰æ›´æ–° -->
  <input v-model.lazy="message" />

  <!-- è½¬ä¸ºæ•°å­— -->
  <input v-model.number="age" type="number" />

  <!-- å»é™¤ç©ºæ ¼ -->
  <input v-model.trim="username" />

  <!-- å¯ç»„åˆä½¿ç”¨ -->
  <input v-model.lazy.trim="content" />
</template>
```

## å®æˆ˜ï¼šç™»å½•è¡¨å•

```vue
<script setup>
import { reactive, computed } from 'vue'

const form = reactive({
  username: '',
  password: '',
  remember: false,
})

const canSubmit = computed(
  () => form.username.length >= 3 && form.password.length >= 6
)

const submit = () => {
  if (!canSubmit.value) return
  console.log('æäº¤', form)
}
</script>

<template>
  <form @submit.prevent="submit">
    <div>
      <input v-model.trim="form.username" placeholder="ç”¨æˆ·åï¼ˆè‡³å°‘3ä½ï¼‰" />
    </div>
    <div>
      <input
        v-model="form.password"
        type="password"
        placeholder="å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"
      />
    </div>
    <div>
      <label>
        <input type="checkbox" v-model="form.remember" />
        è®°ä½æˆ‘
      </label>
    </div>
    <button :disabled="!canSubmit">ç™»å½•</button>
  </form>
</template>
```

## v-model èƒŒåçš„åŸç†

v-model æ˜¯è¯­æ³•ç³–ï¼Œç­‰ä»·äºï¼š

```vue
<!-- æ–‡æœ¬æ¡† -->
<input :value="text" @input="text = $event.target.value" />

<!-- å¤é€‰æ¡† -->
<input
  type="checkbox"
  :checked="checked"
  @change="checked = $event.target.checked"
/>

<!-- ä¸‹æ‹‰æ¡† -->
<select :value="selected" @change="selected = $event.target.value"></select>
```

Vue ä¼šæ ¹æ®å…ƒç´ ç±»å‹è‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„å±æ€§å’Œäº‹ä»¶ã€‚

## å°ç»“

| å…ƒç´                            | ç»‘å®šå€¼ç±»å‹ | äº‹ä»¶   |
| ------------------------------ | ---------- | ------ |
| `<input type="text">`          | string     | input  |
| `<textarea>`                   | string     | input  |
| `<input type="checkbox">` å•ä¸ª | boolean    | change |
| `<input type="checkbox">` å¤šä¸ª | array      | change |
| `<input type="radio">`         | string     | change |
| `<select>` å•é€‰                | string     | change |
| `<select multiple>`            | array      | change |

ä¸‹ä¸€ç¯‡æˆ‘ä»¬æ¥çœ‹ Vue çš„ç”Ÿå‘½å‘¨æœŸã€‚
