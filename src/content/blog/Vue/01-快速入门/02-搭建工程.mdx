---
title: 'ä»é›¶æ­å»º Vue3 é¡¹ç›®'
pubDate: 2024-01-15
category: 'Vue'
tags: ['Vue3', 'Vite', 'å·¥ç¨‹åŒ–']
description: 'æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨ Vite åˆ›å»º Vue3 é¡¹ç›®ï¼Œäº†è§£é¡¹ç›®ç»“æ„ã€å¼€å‘å·¥å…·é…ç½®ï¼Œ5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹'
---

ğŸ™‹ æƒ³å¼€å§‹å­¦ä¹  Vue3ï¼Œç¬¬ä¸€æ­¥è¯¥æ€ä¹ˆåšï¼Ÿ

ç­”æ¡ˆå¾ˆç®€å•ï¼šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¾¹å†™è¾¹å­¦ã€‚è¿™ç¯‡æ–‡ç« ä¼šå¸¦ä½ ä»é›¶æ­å»ºä¸€ä¸ª Vue3 é¡¹ç›®ï¼Œè¿‡ç¨‹ä¸­ä½ ä¼šäº†è§£åˆ°é¡¹ç›®ç»“æ„ã€å¿…å¤‡çš„ VSCode æ’ä»¶ï¼Œä»¥åŠ Vite è¿™ä¸ªæ„å»ºå·¥å…·çš„åŸºæœ¬é…ç½®ã€‚

## ğŸ¯ å¿«é€Ÿåˆ›å»ºé¡¹ç›®

> ç¯å¢ƒè¦æ±‚ï¼šNode.js 18+ / 20+

æ‰“å¼€ç»ˆç«¯ï¼Œä¸€è¡Œå‘½ä»¤æå®šï¼š

```bash
# ä½¿ç”¨ npm
npm create vue@latest

# æˆ–è€…ä½¿ç”¨ pnpmï¼ˆæ¨èï¼Œé€Ÿåº¦æ›´å¿«ï¼‰
pnpm create vue@latest
```

æ‰§è¡Œåä¼šå‡ºç°ä¸€ç³»åˆ—é€‰é¡¹ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©å³å¯ï¼š

```bash
âœ” Project name: my-vue-app
âœ” Add TypeScript? Yes
âœ” Add JSX Support? No
âœ” Add Vue Router? Yes
âœ” Add Pinia? Yes
âœ” Add Vitest? No
âœ” Add ESLint? Yes
âœ” Add Prettier? Yes
```

é€‰å®Œä¹‹åï¼Œè¿›å…¥é¡¹ç›®ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š

```bash
cd my-vue-app
pnpm install
pnpm dev
```

æµè§ˆå™¨æ‰“å¼€ `http://localhost:5173`ï¼Œçœ‹åˆ° Vue çš„æ¬¢è¿é¡µé¢ï¼Œé¡¹ç›®å°±æ­å»ºæˆåŠŸäº† âœ…

## é¡¹ç›®ç»“æ„ä¸€è§ˆ

```
my-vue-app/
â”œâ”€â”€ .vscode/          # VSCode é…ç½®ï¼ˆæ ¼å¼åŒ–ã€æ¨èæ’ä»¶ç­‰ï¼‰
â”œâ”€â”€ node_modules/     # ä¾èµ–åŒ…ç›®å½•
â”œâ”€â”€ public/           # é™æ€èµ„æºï¼ˆä¸ä¼šè¢«æ„å»ºå·¥å…·å¤„ç†ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/       # é™æ€èµ„æºï¼ˆä¼šè¢«æ„å»ºå·¥å…·å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ components/   # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ App.vue       # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts       # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html        # HTML å…¥å£
â”œâ”€â”€ package.json      # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts    # Vite é…ç½®
â””â”€â”€ tsconfig.json     # TypeScript é…ç½®
```

ğŸ”¶ `public` vs `src/assets` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

- **public**ï¼šæ–‡ä»¶åŸå°ä¸åŠ¨å¤åˆ¶åˆ°æ„å»ºç›®å½•ï¼Œé€‚åˆæ”¾ faviconã€robots.txt
- **src/assets**ï¼šä¼šè¢« Vite å¤„ç†ï¼ˆå‹ç¼©ã€hash å‘½åç­‰ï¼‰ï¼Œé€‚åˆæ”¾å›¾ç‰‡ã€å­—ä½“

## VSCode å¿…è£…æ’ä»¶

å¼€å‘ Vue é¡¹ç›®ï¼Œè¿™ä¸¤ä¸ªæ’ä»¶å¿…ä¸å¯å°‘ï¼š

| æ’ä»¶                    | ä½œç”¨                                                 |
| ----------------------- | ---------------------------------------------------- |
| **Vue - Official**      | Vue å®˜æ–¹æ’ä»¶ï¼Œæä¾›è¯­æ³•é«˜äº®ã€ç±»å‹æ£€æŸ¥ã€ä»£ç è¡¥å…¨       |
| **Vue VSCode Snippets** | å¿«é€Ÿç”Ÿæˆ Vue ä»£ç æ¨¡æ¿ï¼Œè¾“å…¥ `vbase` å³å¯ç”Ÿæˆç»„ä»¶éª¨æ¶ |

ğŸ¤” ä¹‹å‰ç”¨çš„ Veturã€Volar è¿˜èƒ½ç”¨å—ï¼Ÿ

è¿™äº›æ’ä»¶å·²ç»æˆä¸ºå†å²äº†ã€‚Vue å®˜æ–¹åœ¨ 2024 å¹´æ¨å‡ºäº† **Vue - Official**ï¼Œæ•´åˆäº†ä¹‹å‰æ‰€æœ‰æ’ä»¶çš„åŠŸèƒ½ï¼Œä¸€ä¸ªæ’ä»¶æå®šä¸€åˆ‡ã€‚å¦‚æœä½ è¿˜è£…ç€ Vetur æˆ– Volarï¼Œå»ºè®®å¸è½½åå®‰è£…æ–°çš„å®˜æ–¹æ’ä»¶ã€‚

## Vite é…ç½®å…¥é—¨

Vite æ˜¯ Vue å®˜æ–¹æ¨èçš„æ„å»ºå·¥å…·ï¼Œå¼€å‘ä½“éªŒæ¯” Webpack å¥½å¤ªå¤šâ€”â€”å¯åŠ¨ç§’å¼€ï¼Œçƒ­æ›´æ–°é£å¿«ã€‚

ğŸ™‹ ä¸ºä»€ä¹ˆ Vite è¿™ä¹ˆå¿«ï¼Ÿ

ä¼ ç»Ÿçš„ Webpack éœ€è¦å…ˆæŠŠæ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆ bundleï¼Œé¡¹ç›®è¶Šå¤§å¯åŠ¨è¶Šæ…¢ã€‚è€Œ Vite åˆ©ç”¨æµè§ˆå™¨åŸç”Ÿçš„ ES Moduleï¼Œå¼€å‘æ—¶æ ¹æœ¬ä¸æ‰“åŒ…ï¼ŒæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œæ‰€ä»¥å¯åŠ¨å‡ ä¹æ˜¯ç¬é—´çš„ã€‚

ä¸‹é¢æ˜¯ä¸€ä»½å¸¸ç”¨çš„ Vite é…ç½®ï¼š

```ts
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],

  // å¼€å‘æœåŠ¡å™¨é…ç½®
  server: {
    port: 3000, // ç«¯å£
    open: true, // å¯åŠ¨æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    proxy: {
      // API ä»£ç†ï¼ˆè§£å†³è·¨åŸŸï¼‰
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },

  // æ„å»ºé…ç½®
  build: {
    outDir: 'dist', // è¾“å‡ºç›®å½•
    sourcemap: true, // ç”Ÿæˆ sourcemap
  },

  // è·¯å¾„åˆ«å
  resolve: {
    alias: {
      '@': '/src',
    },
  },
})
```

å‡ ä¸ªæœ€å¸¸ç”¨çš„é…ç½®é¡¹ï¼š

| é…ç½®é¡¹          | ç”¨é€”                                                        |
| --------------- | ----------------------------------------------------------- |
| `server.proxy`  | é…ç½® API ä»£ç†ï¼Œè§£å†³å¼€å‘ç¯å¢ƒè·¨åŸŸé—®é¢˜                         |
| `build.outDir`  | æŒ‡å®šæ„å»ºè¾“å‡ºç›®å½•                                            |
| `resolve.alias` | é…ç½®è·¯å¾„åˆ«åï¼Œ`@/components` æ¯” `../../components` ä¼˜é›…å¤šäº† |

## å°ç»“

æ­å»º Vue3 é¡¹ç›®çš„æ­¥éª¤å…¶å®å¾ˆç®€å•ï¼š

1. `pnpm create vue@latest` åˆ›å»ºé¡¹ç›®
2. å®‰è£… Vue - Official æ’ä»¶
3. æ ¹æ®éœ€è¦è°ƒæ•´ `vite.config.ts`

é¡¹ç›®è·‘èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹å†™ä»£ç äº†ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬ä¼šå­¦ä¹  Vue çš„æ¨¡æ¿è¯­æ³•ï¼Œçœ‹çœ‹å¦‚ä½•åœ¨é¡µé¢ä¸Šå±•ç¤ºæ•°æ®ã€‚
