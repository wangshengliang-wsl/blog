---
title: '路由传参方式'
pubDate: 2024-01-15
category: 'Vue'
tags: ['Vue3', '面试']
description: '面试题：Vue 项目中前端路由传参方式有哪些？'
---

## 面试题

> Vue 项目中前端路由传参方式有哪些？

## 1. 路径参数（params）

通过 URL 路径传递：

```js
// 路由配置
{ path: '/user/:id', component: User }

// 跳转
router.push('/user/123')
router.push({ name: 'user', params: { id: '123' } })

// 获取
const route = useRoute()
route.params.id  // '123'
```

**特点**：参数是 URL 的一部分，直观清晰。

## 2. 查询参数（query）

通过 URL 查询字符串传递：

```js
// 跳转
router.push('/user?id=123&name=test')
router.push({ path: '/user', query: { id: '123', name: 'test' } })

// 获取
route.query.id // '123'
route.query.name // 'test'
```

**特点**：可传递多个可选参数。

## 3. 状态参数（state）

通过 history.state 传递，不显示在 URL 中：

```js
// 跳转
router.push({ path: '/user', state: { secretData: 'xxx' } })

// 获取
history.state.secretData
```

**特点**：适合敏感信息，但刷新页面后丢失。

## 4. props 传参

将路由参数作为组件 props：

```js
// 路由配置
{
  path: '/user/:id',
  component: User,
  props: true  // 或 props: route => ({ id: route.params.id })
}
```

```vue
<!-- User.vue -->
<script setup>
defineProps({ id: String })
</script>
```

**特点**：组件与 `$route` 解耦，更易测试。

## 对比总结

| 方式   | URL 可见   | 刷新保留   | 适用场景           |
| ------ | ---------- | ---------- | ------------------ |
| params | ✓          | ✓          | 资源 ID 等必要参数 |
| query  | ✓          | ✓          | 可选参数、筛选条件 |
| state  | ✗          | ✗          | 敏感/临时数据      |
| props  | 取决于来源 | 取决于来源 | 组件解耦           |

## 参考答案

Vue 路由传参主要有四种方式：

1. **路径参数**：直接体现在 URL 路径中，适合资源 ID
2. **查询参数**：URL 查询字符串，适合可选参数
3. **状态参数**：不显示在 URL，适合敏感信息
4. **props 传参**：将参数作为组件 props，实现与 $route 解耦
