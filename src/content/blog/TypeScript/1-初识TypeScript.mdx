---
title: 'åˆè¯† TypeScript'
description: 'TypeScript å…¥é—¨æŒ‡å—ï¼šäº†è§£ TS çš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œæ­å»ºå¼€å‘ç¯å¢ƒï¼Œç¼–å†™ç¬¬ä¸€ä¸ªç±»å‹å®‰å…¨çš„ç¨‹åº'
pubDate: 2024-01-15
toc: true
ogImage: true
category: 'TypeScript'
tags: ['TypeScript', 'å…¥é—¨', 'ç¯å¢ƒæ­å»º', 'ç±»å‹ç³»ç»Ÿ']
---

JavaScript æ˜¯ä¸€é—¨åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡å¯ä»¥éšæ—¶æ”¹å˜ç±»å‹ã€‚è¿™ç§çµæ´»æ€§åœ¨å°å‹é¡¹ç›®ä¸­å¾ˆæ–¹ä¾¿ï¼Œä½†éšç€ä»£ç è§„æ¨¡å¢é•¿ï¼Œç±»å‹ç›¸å…³çš„ bug ä¼šè¶Šæ¥è¶Šå¤šã€‚TypeScript å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚

## ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦ TypeScript

å…ˆçœ‹ä¸€ä¸ª JavaScript ä¸­å¸¸è§çš„é—®é¢˜ï¼š

```javascript
// ä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„å‡½æ•°
function calculatePrice(price, quantity) {
  return price * quantity
}

// è°ƒç”¨æ—¶ä¼ é”™äº†å‚æ•°ç±»å‹
const total = calculatePrice('100', 2)
console.log(total) // '100100'ï¼Œä¸æ˜¯ 200ï¼

// æ›´éšè”½çš„é”™è¯¯
const user = { name: 'å¼ ä¸‰', age: 25 }
console.log(user.adress) // undefinedï¼Œæ‹¼é”™äº† address
```

è¿™äº›é”™è¯¯åœ¨è¿è¡Œæ—¶æ‰ä¼šæš´éœ²ï¼Œæœ‰æ—¶ç”šè‡³å¾ˆéš¾å‘ç°ã€‚TypeScript èƒ½åœ¨ç¼–å†™ä»£ç æ—¶å°±æ•è·è¿™äº›é—®é¢˜ï¼š

```typescript
// TypeScript 5.x
function calculatePrice(price: number, quantity: number): number {
  return price * quantity
}

// âŒ ç¼–è¯‘é”™è¯¯ï¼šç±»å‹"string"çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹"number"çš„å‚æ•°
const total = calculatePrice('100', 2)

interface User {
  name: string
  age: number
  address?: string
}

const user: User = { name: 'å¼ ä¸‰', age: 25 }
// âŒ ç¼–è¯‘é”™è¯¯ï¼šå±æ€§"adress"åœ¨ç±»å‹"User"ä¸Šä¸å­˜åœ¨ã€‚ä½ æ˜¯å¦æŒ‡çš„æ˜¯"address"?
console.log(user.adress)
```

## TypeScript æ˜¯ä»€ä¹ˆ

TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œç”±å¾®è½¯å¼€å‘å’Œç»´æŠ¤ã€‚å®ƒåœ¨ JavaScript åŸºç¡€ä¸Šæ·»åŠ äº†ï¼š

- **é™æ€ç±»å‹ç³»ç»Ÿ**ï¼šåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹é”™è¯¯
- **ç±»å‹æ¨æ–­**ï¼šè‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ï¼Œå‡å°‘æ‰‹åŠ¨æ ‡æ³¨
- **ç°ä»£è¯­æ³•æ”¯æŒ**ï¼šæ”¯æŒæœ€æ–°çš„ ECMAScript ç‰¹æ€§
- **å¢å¼ºçš„ IDE æ”¯æŒ**ï¼šæ›´å¥½çš„ä»£ç è¡¥å…¨ã€é‡æ„å’Œå¯¼èˆª

ğŸ¤” å…³é”®ç‚¹ï¼šTypeScript ä»£ç æœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆçº¯ JavaScript è¿è¡Œï¼Œç±»å‹ä¿¡æ¯åªå­˜åœ¨äºå¼€å‘é˜¶æ®µã€‚

```
TypeScript æºç  (.ts) â†’ ç¼–è¯‘å™¨ (tsc) â†’ JavaScript ä»£ç  (.js) â†’ æµè§ˆå™¨/Node.js æ‰§è¡Œ
```

## ç¯å¢ƒæ­å»º

### æ–¹å¼ä¸€ï¼šå…¨å±€å®‰è£… tsc

```bash
# ä½¿ç”¨ npm å®‰è£…
npm install -g typescript

# éªŒè¯å®‰è£…
tsc --version
# è¾“å‡ºï¼šVersion 5.x.x
```

åˆ›å»ºå¹¶ç¼–è¯‘ç¬¬ä¸€ä¸ª TypeScript æ–‡ä»¶ï¼š

```typescript
// hello.ts
const message: string = 'Hello, TypeScript!'
console.log(message)
```

```bash
# ç¼–è¯‘ TypeScript æ–‡ä»¶
tsc hello.ts

# ç”Ÿæˆ hello.js æ–‡ä»¶ï¼Œç„¶åè¿è¡Œ
node hello.js
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ ts-nodeï¼ˆæ¨èå¼€å‘æ—¶ä½¿ç”¨ï¼‰

`ts-node` å¯ä»¥ç›´æ¥è¿è¡Œ TypeScript æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘ï¼š

```bash
# å®‰è£… ts-node
npm install -g ts-node

# ç›´æ¥è¿è¡Œ .ts æ–‡ä»¶
ts-node hello.ts
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ tsxï¼ˆæ›´å¿«çš„é€‰æ‹©ï¼‰

`tsx` åŸºäº esbuildï¼Œæ‰§è¡Œé€Ÿåº¦æ¯” ts-node å¿«å¾ˆå¤šï¼š

```bash
# å®‰è£… tsx
npm install -g tsx

# è¿è¡Œ TypeScript æ–‡ä»¶
tsx hello.ts

# ç›‘å¬æ¨¡å¼ï¼Œæ–‡ä»¶å˜åŒ–è‡ªåŠ¨é‡æ–°è¿è¡Œ
tsx watch hello.ts
```

### é¡¹ç›®åˆå§‹åŒ–

åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸è¿™æ ·åˆå§‹åŒ–ï¼š

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my-ts-project && cd my-ts-project

# åˆå§‹åŒ– package.json
npm init -y

# å®‰è£… TypeScript ä¸ºå¼€å‘ä¾èµ–
npm install typescript --save-dev

# ç”Ÿæˆ tsconfig.json é…ç½®æ–‡ä»¶
npx tsc --init
```

ç”Ÿæˆçš„ `tsconfig.json` åŒ…å«ç¼–è¯‘å™¨é…ç½®ï¼Œå…³é”®é€‰é¡¹ï¼š

```json
{
  "compilerOptions": {
    "target": "ES2020", // ç¼–è¯‘ç›®æ ‡ç‰ˆæœ¬
    "module": "commonjs", // æ¨¡å—ç³»ç»Ÿ
    "strict": true, // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥
    "esModuleInterop": true, // ES æ¨¡å—äº’æ“ä½œ
    "outDir": "./dist", // è¾“å‡ºç›®å½•
    "rootDir": "./src" // æºç ç›®å½•
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

## ç¬¬ä¸€ä¸ª TypeScript ç¨‹åº

åˆ›å»º `src/index.ts`ï¼š

```typescript
// TypeScript 5.x

// åŸºç¡€ç±»å‹æ³¨è§£
const username: string = 'å¼ ä¸‰'
const age: number = 25
const isActive: boolean = true

// å‡½æ•°ç±»å‹æ³¨è§£
function greet(name: string): string {
  return `ä½ å¥½ï¼Œ${name}ï¼`
}

// å¯¹è±¡ç±»å‹ï¼ˆä½¿ç”¨æ¥å£ï¼‰
interface User {
  id: number
  name: string
  email: string
  age?: number // å¯é€‰å±æ€§
}

// ä½¿ç”¨æ¥å£çº¦æŸå¯¹è±¡
const user: User = {
  id: 1,
  name: 'å¼ ä¸‰',
  email: 'zhangsan@example.com',
}

// æ•°ç»„ç±»å‹
const scores: number[] = [95, 88, 92]
const names: Array<string> = ['å¼ ä¸‰', 'æå››', 'ç‹äº”']

// ç±»å‹æ¨æ–­ï¼šä¸éœ€è¦æ˜¾å¼æ ‡æ³¨
const count = 10 // TypeScript è‡ªåŠ¨æ¨æ–­ä¸º number
const greeting = greet(username) // è‡ªåŠ¨æ¨æ–­è¿”å›å€¼ä¸º string

console.log(greeting)
console.log(`${user.name} çš„åˆ†æ•°ï¼š${scores.join(', ')}`)
```

è¿è¡Œï¼š

```bash
npx tsx src/index.ts
# æˆ–ç¼–è¯‘åè¿è¡Œ
npx tsc && node dist/index.js
```

## ç±»å‹æ¨æ–­

TypeScript æœ‰å¼ºå¤§çš„ç±»å‹æ¨æ–­èƒ½åŠ›ï¼Œå¾ˆå¤šæ—¶å€™ä¸éœ€è¦æ‰‹åŠ¨æ ‡æ³¨ç±»å‹ï¼š

```typescript
// å˜é‡åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ¨æ–­
let message = 'Hello' // æ¨æ–­ä¸º string
let count = 42 // æ¨æ–­ä¸º number
let items = [1, 2, 3] // æ¨æ–­ä¸º number[]

// å‡½æ•°è¿”å›å€¼è‡ªåŠ¨æ¨æ–­
function add(a: number, b: number) {
  return a + b // è¿”å›å€¼æ¨æ–­ä¸º number
}

// ä¸Šä¸‹æ–‡æ¨æ–­
const numbers = [1, 2, 3]
numbers.forEach((num) => {
  // num è‡ªåŠ¨æ¨æ–­ä¸º number
  console.log(num.toFixed(2))
})
```

ğŸ”¶ å»ºè®®ï¼šå¯¹äºå‡½æ•°å‚æ•°ï¼Œå§‹ç»ˆæ·»åŠ ç±»å‹æ³¨è§£ï¼›å¯¹äºæœ‰æ˜ç¡®åˆå§‹å€¼çš„å˜é‡ï¼Œå¯ä»¥ä¾èµ–ç±»å‹æ¨æ–­ã€‚

## TypeScript vs JavaScript å¯¹æ¯”

| ç‰¹æ€§       | JavaScript | TypeScript     |
| ---------- | ---------- | -------------- |
| ç±»å‹ç³»ç»Ÿ   | åŠ¨æ€ç±»å‹   | é™æ€ç±»å‹       |
| é”™è¯¯å‘ç°   | è¿è¡Œæ—¶     | ç¼–è¯‘æ—¶         |
| IDE æ”¯æŒ   | æœ‰é™       | å®Œæ•´çš„æ™ºèƒ½æç¤º |
| å­¦ä¹ æ›²çº¿   | ä½         | ä¸­ç­‰           |
| ä»£ç é‡æ„   | å›°éš¾       | å®‰å…¨å¯é        |
| æ–‡ä»¶æ‰©å±•å | .js        | .ts / .tsx     |

## å¸¸è§é—®é¢˜

### ğŸ™‹ TypeScript ä¼šè®©ä»£ç è¿è¡Œå˜æ…¢å—ï¼Ÿ

ä¸ä¼šã€‚TypeScript åœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆç±»å‹æ£€æŸ¥ï¼Œç¼–è¯‘åçš„ JavaScript ä»£ç å’Œæ‰‹å†™çš„ JavaScript æ²¡æœ‰åŒºåˆ«ã€‚ç±»å‹ä¿¡æ¯ä¸ä¼šå‡ºç°åœ¨è¿è¡Œæ—¶ä»£ç ä¸­ã€‚

### ğŸ™‹ ç°æœ‰çš„ JavaScript é¡¹ç›®èƒ½è¿ç§»åˆ° TypeScript å—ï¼Ÿ

å¯ä»¥æ¸è¿›å¼è¿ç§»ã€‚TypeScript å…¼å®¹æ‰€æœ‰ JavaScript ä»£ç ï¼Œä½ å¯ä»¥ï¼š

1. æŠŠ `.js` æ–‡ä»¶é‡å‘½åä¸º `.ts`
2. åœ¨ `tsconfig.json` ä¸­è®¾ç½® `"allowJs": true`
3. é€æ­¥æ·»åŠ ç±»å‹æ³¨è§£

### ğŸ™‹ TypeScript å’Œ Flow æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

ä¸¤è€…éƒ½æ˜¯ JavaScript çš„ç±»å‹æ£€æŸ¥å·¥å…·ï¼Œä½† TypeScript æ˜¯ä¸€é—¨å®Œæ•´çš„è¯­è¨€ï¼Œæ‹¥æœ‰æ›´æ´»è·ƒçš„ç¤¾åŒºå’Œæ›´å®Œå–„çš„å·¥å…·é“¾ã€‚ç›®å‰ TypeScript å·²æˆä¸ºäº‹å®æ ‡å‡†ã€‚

## ä¸‹ä¸€æ­¥

æŒæ¡äº†åŸºç¡€ç¯å¢ƒåï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  TypeScript çš„ç±»å‹ç³»ç»Ÿï¼Œä»åŸºç¡€ç±»å‹å¼€å§‹ï¼š

- `string`ã€`number`ã€`boolean` ç­‰åŸå§‹ç±»å‹
- `any`ã€`unknown`ã€`never` ç­‰ç‰¹æ®Šç±»å‹
- æ•°ç»„ã€å…ƒç»„ã€æšä¸¾ç­‰å¤åˆç±»å‹
