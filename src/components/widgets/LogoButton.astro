---
import Link from '~/components/base/Link.astro'
import { withBasePath } from '~/utils/path'
import { SITE } from '~/config'
---

<Link
  class="select-none op-transition"
  href={withBasePath('/')}
  aria-label={SITE.author}
  aria-current={Astro.url.pathname === `${withBasePath('/')}` ? 'page' : false}
>
  <div class="logo-container">
    <!-- Animated WSL Signature Logo - Readable handwriting style -->
    <svg
      width="150"
      height="55"
      viewBox="0 0 150 55"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
      class="logo-svg"
    >
      <!-- Mask for variable stroke width -->
      <defs>
        <mask id="logo-mask">
          <!-- Fill shape for mask (bold signature style) -->
          <!-- Continuous single stroke path for 'wsl' -->
          <path  d="M 154.6 81.4 L 154.9 80 Q 119.6 83.3 118.15 83.7 Q 116.7 84.1 115.4 84.1 Q 114 84.1 112.3 83.05 Q 110.6 82 110.6 80.2 Q 110.6 79.8 111.25 77.9 Q 111.9 76 111.9 74.6 L 111.8 65.5 Q 111.4 62.4 110.9 61.15 Q 110.4 59.9 110.4 59.7 Q 110.4 58.3 112.1 58.3 Q 113.2 58.3 114.7 58.7 Q 119 59.9 119 62.7 L 118.4 76.8 L 133.1 75.6 L 133.3 59.7 Q 133.3 56.5 131.6 54 Q 131.2 53.4 131.2 52.9 Q 131.2 51.7 133 51.7 Q 134.3 51.7 136 52.2 Q 140.6 54 140.6 56.5 L 140.1 75.1 L 155.5 73.9 L 155.6 63.4 Q 155.6 60.7 154.2 58.1 L 154.1 57.6 Q 154.1 56.2 155.9 56.2 Q 157.1 56.2 158.5 56.5 Q 162.6 57.8 162.6 60.4 L 162.4 80.8 Q 162.5 80.8 165.4 82.25 Q 168.3 83.7 173.3 84.8 Q 177.8 75.6 178.8 49 L 128.1 51 Q 128.1 54.1 126.1 54.1 Q 125.5 54.1 124.1 53.6 Q 120.2 52 120.2 49.2 Q 120.7 44.7 121.2 21.6 Q 121.2 17.6 120.65 15.85 Q 120.1 14.1 120.1 13.5 Q 120.1 11.8 122.2 11.8 Q 123.8 11.8 128.8 13.7 L 135.1 13.3 Q 140.3 7.2 141 4.3 Q 141.4 2.8 141.4 1.4 Q 141.4 0 142.9 0 Q 143.6 0 145.3 0.8 Q 150.1 2.9 150.1 4.9 Q 150.1 5.7 147.35 8.85 Q 144.6 12 143.7 12.9 L 164.7 11.7 Q 167 11.7 168.7 12.7 Q 170.4 13.7 170.4 15.7 Q 170.4 16.3 170.15 16.95 Q 169.9 17.6 169.7 18.3 Q 167.9 35.5 167.5 37.3 Q 166.4 40.3 163.4 40.3 Q 159.8 40.3 155.7 36.6 Q 150.8 32.1 150.8 30.3 Q 151.1 29.1 152.3 29.1 Q 153.3 29.1 155 30.1 Q 160.4 33.1 160.7 33.1 L 160.8 33 Q 160.8 32.8 162.1 18.3 L 128.4 20.5 L 128.1 44.4 Q 181.2 42 182 41.9 Q 184.1 41.9 185.4 43.5 Q 186.7 45.1 186.7 46.1 Q 186.7 47 186.5 47.6 Q 186.3 48.2 186.2 48.6 Q 185.4 65 184.4 72.25 Q 183.4 79.5 182.1 84.4 Q 180.8 89.3 178.3 91.15 Q 175.8 93 174 93 Q 172.2 93 170.1 91.7 Q 164.9 88.4 161.9 84.6 Q 161.7 85.1 160 85.1 Q 158.5 85.1 156.55 84.2 Q 154.6 83.3 154.6 81.4 Z M 64.4 22.6 L 63.9 74.4 Q 66.9 73.3 70.2 71.9 Q 68.9 68.2 67.65 65.4 Q 66.4 62.6 66.4 61.9 Q 66.4 60.5 68.1 59.8 Q 69.8 59.1 70.5 59.1 Q 72 59.1 72.95 61.1 Q 73.9 63.1 75.4 66.4 Q 76.9 69.7 78.4 73.3 Q 79.9 76.9 80.9 79.85 Q 81.9 82.8 81.9 84.1 Q 81.9 85.6 80.25 86.65 Q 78.6 87.7 77.1 87.7 Q 75.4 87.7 74.5 85 Q 73 79.5 72.3 77.4 Q 63.2 82 56.4 84.4 Q 49.6 86.8 48.5 86.8 Q 47.2 86.8 45.6 85.65 Q 44 84.5 42.8 83.05 Q 41.6 81.6 41.6 80.5 Q 41.6 79.1 43.3 79.1 Q 44.5 79.3 45.5 79.3 Q 48.1 79.3 56.6 76.8 L 56.9 25.2 Q 56.9 22.8 56.4 21.8 L 50.7 23.7 L 50.5 35.9 Q 50.2 58.4 44.8 72.1 Q 41 81.5 33.2 89.1 Q 30.8 91.4 29.9 91.4 Q 28.5 91.4 28.5 90 Q 28.5 89 31.2 84.9 Q 40.7 70.7 42.3 49.2 Q 43.1 39 43.1 32.9 Q 43.1 26.8 42.85 23.5 Q 42.6 20.2 41.95 18.85 Q 41.3 17.5 41.3 16.9 Q 41.3 15.9 43.1 15.9 Q 44.3 15.9 49.8 17.9 Q 71.9 9.8 74.9 4.3 Q 75.9 2.4 77 2.4 Q 77.9 2.4 79.2 3.7 Q 82.2 6.4 82.2 9.1 Q 82.2 10.3 80.8 11 Q 74.2 14.4 68.5 17 Q 68.8 16.9 69.2 16.9 Q 70.5 16.9 72.7 17.6 Q 74.9 18.3 75.75 19.1 Q 76.6 19.9 77.1 25 Q 77.6 30.1 80.9 45.4 Q 85.3 66.8 97.1 84.4 Q 97.9 85.6 97.9 86.3 Q 97.9 87.2 96.15 88.4 Q 94.4 89.6 92.7 89.6 Q 90.7 89.6 90.1 88.3 Q 78.3 68.6 73.7 46.6 Q 71.8 37.2 70.8 31.1 Q 69.8 25 69.5 23.5 Q 69.2 22 68.9 21.4 Q 68.6 20.8 67.95 19.95 Q 67.3 19.1 67.3 18.4 Q 67.3 17.7 67.7 17.3 Q 64.9 18.6 62.4 19.6 Q 64.4 20.3 64.4 22.6 Z M 20.8 80.1 L 20.8 79.9 Q 20.8 79.3 21.25 76.7 Q 21.7 74.1 21.7 67.1 Q 21.7 60 21.4 55.4 Q 8.9 62.6 6.2 62.6 Q 3.3 62.6 1 59.2 Q 0 57.9 0 57 Q 0 56 1.7 55.8 Q 3.4 55.6 6.55 54.8 Q 9.7 54 20.7 48.6 Q 19.7 40.4 15.3 32.4 Q 14.4 31 14.4 30.1 Q 14.4 29.2 16 28.15 Q 17.6 27.1 18.6 27.1 Q 20.1 27.1 21.4 29.2 Q 25.3 24.8 28.9 19 L 28.2 19.1 Q 26.4 19.2 23.7 19.45 Q 21 19.7 18.25 19.9 Q 15.5 20.1 14.05 20.25 Q 12.6 20.4 11 20.4 Q 6.8 20.4 5 16.3 Q 4.3 14.8 4.3 14.2 Q 4.3 13.2 5.7 13.2 Q 10 13.6 11.1 13.6 L 32.9 11.9 Q 35.1 11.9 37.15 13.1 Q 39.2 14.3 39.2 15.9 Q 39.2 17.5 38.3 18.25 Q 37.4 19 35.8 21.3 Q 30.2 29.3 24.3 35.1 Q 26.4 40.1 27.3 45.4 Q 28.9 44.5 31.4 43.15 Q 33.9 41.8 36.1 40.55 Q 38.3 39.3 39.4 39.3 Q 40.9 39.3 40.9 40.3 Q 40.9 43 28 51.3 Q 28.9 59.4 28.9 66.5 Q 28.9 73.7 28.7 77.2 Q 27.9 88.6 22.2 88.6 Q 19.5 88.6 13.05 83.25 Q 6.6 77.9 6.6 75.5 Q 6.6 74.3 7.9 74.3 Q 8.8 74.3 13.05 76.75 Q 17.3 79.2 20.8 80.1 Z M 145.3 36.2 Q 144.2 36.2 142.9 35.3 Q 138.3 31.8 133.5 29.3 Q 131.7 28.4 131.7 27.1 Q 131.7 26 132.6 24.55 Q 133.5 23.1 134.9 23.1 Q 136 23.1 142.4 26.35 Q 148.8 29.6 148.8 31.6 Q 148.8 32.8 147.65 34.5 Q 146.5 36.2 145.3 36.2 Z" fill="none"
            stroke="white"
            stroke-width="12"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </mask>
      </defs>

      <!-- Animated stroke path - single continuous line -->
      <path
        class="logo-path"
         d="M 154.6 81.4 L 154.9 80 Q 119.6 83.3 118.15 83.7 Q 116.7 84.1 115.4 84.1 Q 114 84.1 112.3 83.05 Q 110.6 82 110.6 80.2 Q 110.6 79.8 111.25 77.9 Q 111.9 76 111.9 74.6 L 111.8 65.5 Q 111.4 62.4 110.9 61.15 Q 110.4 59.9 110.4 59.7 Q 110.4 58.3 112.1 58.3 Q 113.2 58.3 114.7 58.7 Q 119 59.9 119 62.7 L 118.4 76.8 L 133.1 75.6 L 133.3 59.7 Q 133.3 56.5 131.6 54 Q 131.2 53.4 131.2 52.9 Q 131.2 51.7 133 51.7 Q 134.3 51.7 136 52.2 Q 140.6 54 140.6 56.5 L 140.1 75.1 L 155.5 73.9 L 155.6 63.4 Q 155.6 60.7 154.2 58.1 L 154.1 57.6 Q 154.1 56.2 155.9 56.2 Q 157.1 56.2 158.5 56.5 Q 162.6 57.8 162.6 60.4 L 162.4 80.8 Q 162.5 80.8 165.4 82.25 Q 168.3 83.7 173.3 84.8 Q 177.8 75.6 178.8 49 L 128.1 51 Q 128.1 54.1 126.1 54.1 Q 125.5 54.1 124.1 53.6 Q 120.2 52 120.2 49.2 Q 120.7 44.7 121.2 21.6 Q 121.2 17.6 120.65 15.85 Q 120.1 14.1 120.1 13.5 Q 120.1 11.8 122.2 11.8 Q 123.8 11.8 128.8 13.7 L 135.1 13.3 Q 140.3 7.2 141 4.3 Q 141.4 2.8 141.4 1.4 Q 141.4 0 142.9 0 Q 143.6 0 145.3 0.8 Q 150.1 2.9 150.1 4.9 Q 150.1 5.7 147.35 8.85 Q 144.6 12 143.7 12.9 L 164.7 11.7 Q 167 11.7 168.7 12.7 Q 170.4 13.7 170.4 15.7 Q 170.4 16.3 170.15 16.95 Q 169.9 17.6 169.7 18.3 Q 167.9 35.5 167.5 37.3 Q 166.4 40.3 163.4 40.3 Q 159.8 40.3 155.7 36.6 Q 150.8 32.1 150.8 30.3 Q 151.1 29.1 152.3 29.1 Q 153.3 29.1 155 30.1 Q 160.4 33.1 160.7 33.1 L 160.8 33 Q 160.8 32.8 162.1 18.3 L 128.4 20.5 L 128.1 44.4 Q 181.2 42 182 41.9 Q 184.1 41.9 185.4 43.5 Q 186.7 45.1 186.7 46.1 Q 186.7 47 186.5 47.6 Q 186.3 48.2 186.2 48.6 Q 185.4 65 184.4 72.25 Q 183.4 79.5 182.1 84.4 Q 180.8 89.3 178.3 91.15 Q 175.8 93 174 93 Q 172.2 93 170.1 91.7 Q 164.9 88.4 161.9 84.6 Q 161.7 85.1 160 85.1 Q 158.5 85.1 156.55 84.2 Q 154.6 83.3 154.6 81.4 Z M 64.4 22.6 L 63.9 74.4 Q 66.9 73.3 70.2 71.9 Q 68.9 68.2 67.65 65.4 Q 66.4 62.6 66.4 61.9 Q 66.4 60.5 68.1 59.8 Q 69.8 59.1 70.5 59.1 Q 72 59.1 72.95 61.1 Q 73.9 63.1 75.4 66.4 Q 76.9 69.7 78.4 73.3 Q 79.9 76.9 80.9 79.85 Q 81.9 82.8 81.9 84.1 Q 81.9 85.6 80.25 86.65 Q 78.6 87.7 77.1 87.7 Q 75.4 87.7 74.5 85 Q 73 79.5 72.3 77.4 Q 63.2 82 56.4 84.4 Q 49.6 86.8 48.5 86.8 Q 47.2 86.8 45.6 85.65 Q 44 84.5 42.8 83.05 Q 41.6 81.6 41.6 80.5 Q 41.6 79.1 43.3 79.1 Q 44.5 79.3 45.5 79.3 Q 48.1 79.3 56.6 76.8 L 56.9 25.2 Q 56.9 22.8 56.4 21.8 L 50.7 23.7 L 50.5 35.9 Q 50.2 58.4 44.8 72.1 Q 41 81.5 33.2 89.1 Q 30.8 91.4 29.9 91.4 Q 28.5 91.4 28.5 90 Q 28.5 89 31.2 84.9 Q 40.7 70.7 42.3 49.2 Q 43.1 39 43.1 32.9 Q 43.1 26.8 42.85 23.5 Q 42.6 20.2 41.95 18.85 Q 41.3 17.5 41.3 16.9 Q 41.3 15.9 43.1 15.9 Q 44.3 15.9 49.8 17.9 Q 71.9 9.8 74.9 4.3 Q 75.9 2.4 77 2.4 Q 77.9 2.4 79.2 3.7 Q 82.2 6.4 82.2 9.1 Q 82.2 10.3 80.8 11 Q 74.2 14.4 68.5 17 Q 68.8 16.9 69.2 16.9 Q 70.5 16.9 72.7 17.6 Q 74.9 18.3 75.75 19.1 Q 76.6 19.9 77.1 25 Q 77.6 30.1 80.9 45.4 Q 85.3 66.8 97.1 84.4 Q 97.9 85.6 97.9 86.3 Q 97.9 87.2 96.15 88.4 Q 94.4 89.6 92.7 89.6 Q 90.7 89.6 90.1 88.3 Q 78.3 68.6 73.7 46.6 Q 71.8 37.2 70.8 31.1 Q 69.8 25 69.5 23.5 Q 69.2 22 68.9 21.4 Q 68.6 20.8 67.95 19.95 Q 67.3 19.1 67.3 18.4 Q 67.3 17.7 67.7 17.3 Q 64.9 18.6 62.4 19.6 Q 64.4 20.3 64.4 22.6 Z M 20.8 80.1 L 20.8 79.9 Q 20.8 79.3 21.25 76.7 Q 21.7 74.1 21.7 67.1 Q 21.7 60 21.4 55.4 Q 8.9 62.6 6.2 62.6 Q 3.3 62.6 1 59.2 Q 0 57.9 0 57 Q 0 56 1.7 55.8 Q 3.4 55.6 6.55 54.8 Q 9.7 54 20.7 48.6 Q 19.7 40.4 15.3 32.4 Q 14.4 31 14.4 30.1 Q 14.4 29.2 16 28.15 Q 17.6 27.1 18.6 27.1 Q 20.1 27.1 21.4 29.2 Q 25.3 24.8 28.9 19 L 28.2 19.1 Q 26.4 19.2 23.7 19.45 Q 21 19.7 18.25 19.9 Q 15.5 20.1 14.05 20.25 Q 12.6 20.4 11 20.4 Q 6.8 20.4 5 16.3 Q 4.3 14.8 4.3 14.2 Q 4.3 13.2 5.7 13.2 Q 10 13.6 11.1 13.6 L 32.9 11.9 Q 35.1 11.9 37.15 13.1 Q 39.2 14.3 39.2 15.9 Q 39.2 17.5 38.3 18.25 Q 37.4 19 35.8 21.3 Q 30.2 29.3 24.3 35.1 Q 26.4 40.1 27.3 45.4 Q 28.9 44.5 31.4 43.15 Q 33.9 41.8 36.1 40.55 Q 38.3 39.3 39.4 39.3 Q 40.9 39.3 40.9 40.3 Q 40.9 43 28 51.3 Q 28.9 59.4 28.9 66.5 Q 28.9 73.7 28.7 77.2 Q 27.9 88.6 22.2 88.6 Q 19.5 88.6 13.05 83.25 Q 6.6 77.9 6.6 75.5 Q 6.6 74.3 7.9 74.3 Q 8.8 74.3 13.05 76.75 Q 17.3 79.2 20.8 80.1 Z M 145.3 36.2 Q 144.2 36.2 142.9 35.3 Q 138.3 31.8 133.5 29.3 Q 131.7 28.4 131.7 27.1 Q 131.7 26 132.6 24.55 Q 133.5 23.1 134.9 23.1 Q 136 23.1 142.4 26.35 Q 148.8 29.6 148.8 31.6 Q 148.8 32.8 147.65 34.5 Q 146.5 36.2 145.3 36.2 Z" fill="none"
        stroke="currentColor"
        stroke-width="4"
        stroke-linecap="round"
        stroke-linejoin="round"
        mask="url(#logo-mask)"></path>
    </svg>
  </div>
</Link>

<style>
  .logo-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.8rem;
    transform: scale(1.05);
  }

  @media (max-width: 767.9px) {
    .logo-container {
      margin-top: 0.125rem;
      transform-origin: 0%;
      transform: scale(0.95);
    }
  }

  .logo-svg {
    height: 2rem;
  }

  /* Animated signature effect - single continuous stroke */
  @media (prefers-reduced-motion: no-preference) {
    .logo-path {
      stroke-dasharray: 260;
      stroke-dashoffset: 260;
      animation:
        draw 3s ease-in-out forwards,
        loop 7s ease-in-out 3s infinite;
    }

    @keyframes draw {
      to {
        stroke-dashoffset: 0;
      }
    }

    @keyframes loop {
      0% {
        stroke-dashoffset: 0;
      }
      40% {
        stroke-dashoffset: 0;
      }
      70% {
        stroke-dashoffset: 260;
      }
      100% {
        stroke-dashoffset: 0;
      }
    }
  }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .logo-path {
      stroke-dasharray: none;
      animation: none;
    }
  }

  /* Color adaptation */
  .logo-path {
    color: #17191e;
  }

  :global(.dark) .logo-path {
    color: #fdfdfd;
  }
</style>
